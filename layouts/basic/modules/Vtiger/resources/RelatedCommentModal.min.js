
jQuery.Class("Vtiger_RelatedCommentModal_Js",{registerSubmitEvent:function(a){a.find('[name="saveButton"]').on("click",function(c){var b=jQuery.progressIndicator({position:"html",blockInfo:{enabled:true}});var f=a.find(".comment").val();var d={module:app.getModuleName(),record:app.getRecordId(),action:"RelatedCommentModal",mode:"update",comment:f,relid:a.find(".relatedRecord").val(),relmodule:a.find(".relatedModuleName").val()};AppConnector.request(d).then(function(e){Vtiger_Helper_Js.showMessage({text:e.result});app.hideModalWindow();b.progressIndicator({mode:"hide"});Vtiger_Detail_Js.getInstance().reloadTabContent()},function(e){b.progressIndicator({mode:"hide"})})})},registerEvents:function(){var a=jQuery("#modalRelatedCommentModal");this.registerSubmitEvent(a)}});jQuery(function(){var a=new Vtiger_RelatedCommentModal_Js();a.registerEvents()});