
Vtiger_Popup_Js("PriceBooks_ProductPriceBookPopup_Js",{},{checkBoxChangeHandler:function(c){this._super(c);var a=jQuery(c.currentTarget);var b=a.closest("tr");if(a.is(":checked")){jQuery("input[name=listPrice]",b).removeClass("invisible")}else{jQuery("input[name=listPrice]",b).addClass("invisible")}},registerSelectButton:function(){var b=jQuery("#popupPage");var a=this;b.on("jqv.form.result",function(h){h.preventDefault();var g=b.find("table.listViewEntriesTable");var i=jQuery("input.entryCheckBox",g).filter(":checked");if((i.length)==0){var f=app.vtranslate("JS_PLEASE_SELECT_ONE_RECORD");bootbox.alert(f);return}var d=b.data("jqv").InvalidFields;if((d.length)==0){var c=new Array();i.each(function(l,m){var j=jQuery(m);var n=j.closest("tr");var k=n.find("input[name=listPrice]");var e=k.val();var o=n.data("id");c.push({id:o,price:e})});a.done(c,a.getEventName())}})},selectAllHandler:function(c){this._super(c);var a=jQuery(c.currentTarget);var b=a.is(":checked");var d=a.closest("table");if(b){jQuery("input.entryCheckBox",d).closest("tr").find('input[name="listPrice"]').removeClass("invisible")}else{jQuery("input.entryCheckBox",d).closest("tr").find('input[name="listPrice"]').addClass("invisible")}},registerEventForActionsButtons:function(){var b=this;var a=this.getPopupPageContainer();a.on("click",".cancelLink",function(c){b.done()})},getPageRecords:function(c){var b=this;var a=jQuery.Deferred();this._super(c).then(function(e){b.popupSlimScroll();var d=jQuery("#popupPage");d.validationEngine("detach");d.validationEngine("attach");a.resolve(e)},function(e,d){a.reject(e,d)});return a.promise()},sortHandler:function(a){var b=this;if(a.hasClass("noSorting")){return}this._super(a).then(function(d){b.popupSlimScroll();var c=jQuery("#popupPage");c.validationEngine("detach");c.validationEngine("attach")},function(d,c){})},popupSlimScroll:function(){var b=this.getPopupPageContainer();var a=b.find(".popupEntriesDiv");app.showScrollBar(a,{height:"400px"})},registerEvents:function(){this._super();this.registerEventForActionsButtons();this.popupSlimScroll();jQuery("#popupPage").validationEngine({promptPosition:"topRight"})}});