{"version":3,"file":"Base.min.js","sources":["Base.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n/**\n * @classdesc Base Pbx integrations class.\n * @class\n */\nwindow.Integrations_Pbx_Base = class Integrations_Pbx_Base {\n\t/** @type {string} */\n\tstatic driver = 'Base';\n\n\t/** @type {Integrations_Pbx_Base} */\n\tstatic instance;\n\n\t/**\n\t * Get current class instance\n\t * @param {jQuery} container\n\t * @returns {window.Integrations_Pbx_Base}\n\t */\n\tstatic getInstance(container) {\n\t\tconst moduleClassName = 'Integrations_Pbx_' + Integrations_Pbx_Base.driver;\n\t\treturn (Integrations_Pbx_Base.instance = new window[moduleClassName](container));\n\t}\n\t/**\n\t * Constructor\n\t * @param {jQuery} container\n\t */\n\tconstructor(container) {\n\t\tthis.container = container;\n\t}\n\t/**\n\t * Register events.\n\t */\n\tregisterEvents() {\n\t\tthis.container.on('click', '.js-phone-perform-call', (e) => {\n\t\t\tthis.performCall($(e.currentTarget).data(), e);\n\t\t});\n\t}\n\t/**\n\t * Perform call\n\t * @param {Object} data\n\t */\n\tperformCall(data) {\n\t\tAppConnector.request({\n\t\t\tmodule: 'AppComponents',\n\t\t\taction: 'Pbx',\n\t\t\tmode: 'performCall',\n\t\t\t...data\n\t\t}).done(function (response) {\n\t\t\tif (response.result.status) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: response.result.text,\n\t\t\t\t\ttype: 'info'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tapp.showError({\n\t\t\t\t\ttitle: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\ttext: response.result.text\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Show console logs\n\t * @param {string} message\n\t * @param {string} body\n\t */\n\tlog(message, body) {\n\t\tif (CONFIG.debug) {\n\t\t\tif (body) {\n\t\t\t\tconsole.groupCollapsed('[PBX] ' + message);\n\t\t\t\tconsole.dirxml(body);\n\t\t\t\tconsole.groupEnd();\n\t\t\t} else {\n\t\t\t\tconsole.log('PBX ' + message, 'color: red;font-size: 1.2em;font-weight: bolder;');\n\t\t\t}\n\t\t}\n\t}\n};\n"],"names":["_class","_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","source","i","arguments","length","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","value","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","Number","window","Integrations_Pbx_Base","container","registerEvents","_this","on","e","performCall","$","currentTarget","data","AppConnector","request","module","action","mode","done","response","result","status","app","showNotify","title","text","type","showError","vtranslate","log","message","body","CONFIG","debug","console","groupCollapsed","dirxml","groupEnd","getInstance","moduleClassName","driver"],"mappings":"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"}