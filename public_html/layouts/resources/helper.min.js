'use strict';

$.Class('Vtiger_Helper_Js',{checkServerConfigResponseCache:'',langCode:'',/*
		 * Function to set lang code
		 */setLangCode:function setLangCode(){var htmlTag=document.getElementsByTagName('html')[0];this.langCode=htmlTag.getAttribute('lang')?htmlTag.getAttribute('lang'):'en';},/*
		 * Function to get lang code
		 */getLangCode:function getLangCode(){return this.langCode||this.setLangCode(),this.langCode},/*
		 * Function to get the instance of Mass edit of Email
		 */getEmailMassEditInstance:function getEmailMassEditInstance(){var emailMassEditInstance=new window.Emails_MassEdit_Js;return emailMassEditInstance},getDayFromDate:function getDayFromDate(date){var dayOfWeek=this.getDay(date);return this.getLabelDayFromDate(dayOfWeek)},getDay:function getDay(date){var dateObj=new Date(date);return isNaN(dateObj.getDay())&&(dateObj=Date.parse(date)),dateObj.getDay()},getLabelDayFromDate:function getLabelDayFromDate(day){var dayOfWeek=day,dayOfWeekLabel='';return 0===dayOfWeek?dayOfWeekLabel='JS_SUN':1===dayOfWeek?dayOfWeekLabel='JS_MON':2===dayOfWeek?dayOfWeekLabel='JS_TUE':3===dayOfWeek?dayOfWeekLabel='JS_WED':4===dayOfWeek?dayOfWeekLabel='JS_THU':5===dayOfWeek?dayOfWeekLabel='JS_FRI':6===dayOfWeek?dayOfWeekLabel='JS_SAT':void 0,app.vtranslate(dayOfWeekLabel)},/*
		 * Function to get Date Instance
		 * @params date---this is the field value
		 * @params dateFormat---user date format
		 * @return date object
		 */getDateInstance:function getDateInstance(dateTime,dateFormat){var dateTimeComponents=dateTime.split(' '),dateComponent=dateTimeComponents[0],timeComponent=dateTimeComponents[1],seconds='00',dotMode='-';-1!==dateFormat.indexOf('-')&&(dotMode='-'),-1!==dateFormat.indexOf('.')&&(dotMode='.'),-1!==dateFormat.indexOf('/')&&(dotMode='/');var splittedDate=dateComponent.split(dotMode),splittedDateFormat=dateFormat.split(dotMode),year=splittedDate[splittedDateFormat.indexOf('yyyy')],month=splittedDate[splittedDateFormat.indexOf('mm')],date=splittedDate[splittedDateFormat.indexOf('dd')],dateInstance=Date.parse(year+'/'+month+'/'+date);if(isNaN(dateInstance)||4<year.length||2<month.length||2<date.length||null==dateInstance)throw app.vtranslate('JS_INVALID_DATE');//Before creating date object time is set to 00
//because as while calculating date object it depends system timezone
'undefined'==typeof timeComponent&&(timeComponent='00:00:00');var timeSections=timeComponent.split(':');return 'undefined'!=typeof timeSections[2]&&(seconds=timeSections[2]),'undefined'!=typeof dateTimeComponents[2]&&('pm'===dateTimeComponents[2].toLowerCase()&&'12'!==timeSections[0]&&(timeSections[0]=parseInt(timeSections[0],10)+12),'am'===dateTimeComponents[2].toLowerCase()&&'12'===timeSections[0]&&(timeSections[0]='00')),--month,dateInstance=new Date(year,month,date,timeSections[0],timeSections[1],seconds),dateInstance},/*
		 * Function to show the confirmation messagebox
		 */showConfirmationBox:function showConfirmationBox(params){var aDeferred=$.Deferred(),bootBoxModal=bootbox.confirm($.extend({callback:function callback(result){result?aDeferred.resolve():aDeferred.reject();}},params));return bootBoxModal.on('hidden',function(){0<$('#'+Window.lastModalId).length&&$('body').addClass('modal-open');}),aDeferred.promise()},showMessage:function showMessage(params){'undefined'==typeof params.type&&(params.type='info'),'undefined'==typeof params.title&&(params.title=app.vtranslate('JS_MESSAGE')),app.showNotify(params);},/*
		 * Function to add clickoutside event on the element - By using outside events plugin
		 * @params element---On which element you want to apply the click outside event
		 * @params callbackFunction---This function will contain the actions triggered after clickoutside event
		 */addClickOutSideEvent:function addClickOutSideEvent(element,callbackFunction){element.one('clickoutside',callbackFunction);},/*
		 * Function to show horizontal top scroll bar
		 */showHorizontalTopScrollBar:function showHorizontalTopScrollBar(){var container=$('.contentsDiv'),topScroll=$('.contents-topscroll',container),bottomScroll=$('.contents-bottomscroll',container);$('.bottomscroll-div',container).attr('style',''),$('.topscroll-div',container).css('width',$('.bottomscroll-div',container).outerWidth()),$('.bottomscroll-div',container).css('width',$('.topscroll-div',container).outerWidth()),topScroll.on('scroll',function(){bottomScroll.scrollLeft(topScroll.scrollLeft());}),bottomScroll.on('scroll',function(){topScroll.scrollLeft(bottomScroll.scrollLeft());});},convertToDateString:function convertToDateString(stringDate,dateFormat,modDay,type){var dotMode='-';-1!==dateFormat.indexOf('-')&&(dotMode='-'),-1!==dateFormat.indexOf('.')&&(dotMode='.'),-1!==dateFormat.indexOf('/')&&(dotMode='/');var splittedDate=stringDate.split(dotMode),splittedDateFormat=dateFormat.split(dotMode),year=splittedDate[splittedDateFormat.indexOf('yyyy')],month=splittedDate[splittedDateFormat.indexOf('mm')],date=splittedDate[splittedDateFormat.indexOf('dd')],dateInstance=new Date(year,month-1,date);if(4<year.length||2<month.length||2<date.length||null==dateInstance){var errorMsg=app.vtranslate('JS_INVALID_DATE');throw errorMsg}var newDate=dateInstance;return '0'==modDay?'Calendar'==type&&newDate.setDate(dateInstance.getDate()-1):'-1'==modDay?'Calendar'==type?newDate.setDate(dateInstance.getDate()-2):newDate.setDate(dateInstance.getDate()-1):'Calendar'!=type&&newDate.setTime(dateInstance.getTime()+1e3*(60*(60*(24*parseInt(modDay))))),app.getStringDate(newDate)},hideOptions:function hideOptions(element,attr,value){var opval='';element.find('option').each(function(index,option){option=$(option),value==option.data(attr)?(''==opval&&(opval=option.val()),option.removeClass('d-none'),option.removeAttr('disabled')):(option.addClass('d-none'),option.attr('disabled','disabled'));}),element.val(opval).trigger('change');},unique:function unique(array){return array.filter(function(el,index,arr){return index===arr.indexOf(el)})}},{});
//# sourceMappingURL=helper.min.js.map
