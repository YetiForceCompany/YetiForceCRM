'use strict';

(function(a){var b=function(){var b=this;this.defaults={position:'append',mode:'show',blockInfo:{elementToBlock:'body'},message:''},this.imageContainerCss={"text-align":'center'},this.blockOverlayCSS={opacity:'0.2'},this.blockCss={border:'',backgroundColor:'',"background-clip":'border-box',"border-radius":'2px'},this.showTopCSS={width:'25%',left:'37.5%',position:'fixed',top:'4.5%',"z-index":'100000'},this.showOnTop=!1,this.init=function(c,d){return 'undefined'==typeof d&&(d={}),b.options=a.extend(!0,this.defaults,d),b.container=c,b.position=d.position,'undefined'!=typeof d.imageContainerCss&&(b.imageContainerCss=a.extend(!0,this.imageContainerCss,d.imageContainerCss)),this.isBlockMode()&&(b.elementToBlock=a(b.options.blockInfo.elementToBlock)),this},this.initActions=function(){'show'==this.options.mode?this.show():'hide'==this.options.mode&&this.hide();},this.isPageBlockMode=function(){return !!('undefined'!=typeof this.elementToBlock&&this.elementToBlock.is('body'))},this.isBlockMode=function(){return !('undefined'==typeof this.options.blockInfo||!0!=this.options.blockInfo.enabled)},this.show=function(){var c='bigLoading';!0==this.options.smallLoadingImage&&(c='smallLoading'),this.isBlockMode()&&(c+=' blockProgressContainer');var d='<div class="imageHolder '+c+'"><div class="sk-cube-grid"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div></div>',e=jQuery(d).css(this.imageContainerCss),f=b.options.message;0==f.length&&(f=app.vtranslate('JS_LOADING_PLEASE_WAIT')),f instanceof jQuery||(f=jQuery('<span></span>').html(f));var g=jQuery('<div class="message"></div>').append(f);switch(e.append(g),this.isBlockMode()&&e.addClass('blockMessageContainer'),b.position){case'prepend':b.container.prepend(e);break;case'html':b.container.html(e);break;case'replace':b.container.replaceWith(e);break;default:b.container.append(e);}this.isBlockMode()&&(b.blockedElement=b.elementToBlock,b.isPageBlockMode()?a.blockUI({message:b.container,overlayCSS:b.blockOverlayCSS,css:b.blockCss}):b.elementToBlock.block({message:b.container,overlayCSS:b.blockOverlayCSS,css:b.blockCss})),b.showOnTop&&this.container.css(this.showTopCSS).appendTo('body');},this.hide=function(){a('.imageHolder',this.container).remove(),'undefined'!=typeof this.blockedElement&&(this.isPageBlockMode()?a.unblockUI():this.blockedElement.unblock()),this.container.removeData('progressIndicator');};};a.fn.progressIndicator=function(c){var d=this;return 0>=this.length&&(d=jQuery('body')),d.each(function(d,e){var f=a(e);if('undefined'!=typeof f.data('progressIndicator'))var g=f.data('progressIndicator');else{var g=new b;f.data('progressIndicator',g);}g.init(f,c).initActions();})},a.progressIndicator=function(a){var c=jQuery('<div></div>'),d=new b;return d.init(c,a),d.isBlockMode()||(d.showOnTop=!0),d.initActions(),c.data('progressIndicator',d)},a.blockUI.defaults.baseZ=1e4;})(jQuery);
