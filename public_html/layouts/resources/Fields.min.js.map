{"version":3,"file":"Fields.min.js","sources":["Fields.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nwindow.App.Fields = {\n\tDate: {\n\t\tmonths: [\n\t\t\t'JS_JAN',\n\t\t\t'JS_FEB',\n\t\t\t'JS_MAR',\n\t\t\t'JS_APR',\n\t\t\t'JS_MAY_SHORT',\n\t\t\t'JS_JUN',\n\t\t\t'JS_JUL',\n\t\t\t'JS_AUG',\n\t\t\t'JS_SEP',\n\t\t\t'JS_OCT',\n\t\t\t'JS_NOV',\n\t\t\t'JS_DEC'\n\t\t],\n\t\tmonthsTranslated: [\n\t\t\t'JS_JAN',\n\t\t\t'JS_FEB',\n\t\t\t'JS_MAR',\n\t\t\t'JS_APR',\n\t\t\t'JS_MAY_SHORT',\n\t\t\t'JS_JUN',\n\t\t\t'JS_JUL',\n\t\t\t'JS_AUG',\n\t\t\t'JS_SEP',\n\t\t\t'JS_OCT',\n\t\t\t'JS_NOV',\n\t\t\t'JS_DEC'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\t\tfullMonths: [\n\t\t\t'JS_JANUARY',\n\t\t\t'JS_FEBRUARY',\n\t\t\t'JS_MARCH',\n\t\t\t'JS_APRIL',\n\t\t\t'JS_MAY',\n\t\t\t'JS_JUNE',\n\t\t\t'JS_JULY',\n\t\t\t'JS_AUGUST',\n\t\t\t'JS_SEPTEMBER',\n\t\t\t'JS_OCTOBER',\n\t\t\t'JS_NOVEMBER',\n\t\t\t'JS_DECEMBER'\n\t\t],\n\t\tfullMonthsTranslated: [\n\t\t\t'JS_JANUARY',\n\t\t\t'JS_FEBRUARY',\n\t\t\t'JS_MARCH',\n\t\t\t'JS_APRIL',\n\t\t\t'JS_MAY',\n\t\t\t'JS_JUNE',\n\t\t\t'JS_JULY',\n\t\t\t'JS_AUGUST',\n\t\t\t'JS_SEPTEMBER',\n\t\t\t'JS_OCTOBER',\n\t\t\t'JS_NOVEMBER',\n\t\t\t'JS_DECEMBER'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\t\tdays: ['JS_SUN', 'JS_MON', 'JS_TUE', 'JS_WED', 'JS_THU', 'JS_FRI', 'JS_SAT'],\n\t\tdaysTranslated: ['JS_SUN', 'JS_MON', 'JS_TUE', 'JS_WED', 'JS_THU', 'JS_FRI', 'JS_SAT'].map((monthName) =>\n\t\t\tapp.vtranslate(monthName)\n\t\t),\n\t\tfullDays: ['JS_SUNDAY', 'JS_MONDAY', 'JS_TUESDAY', 'JS_WEDNESDAY', 'JS_THURSDAY', 'JS_FRIDAY', 'JS_SATURDAY'],\n\t\tfullDaysTranslated: [\n\t\t\t'JS_SUNDAY',\n\t\t\t'JS_MONDAY',\n\t\t\t'JS_TUESDAY',\n\t\t\t'JS_WEDNESDAY',\n\t\t\t'JS_THURSDAY',\n\t\t\t'JS_FRIDAY',\n\t\t\t'JS_SATURDAY'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\n\t\t/**\n\t\t * Register DatePicker\n\t\t * @param {$} parentElement\n\t\t * @param {boolean} registerForAddon\n\t\t * @param {object} customParams\n\t\t */\n\t\tregister(parentElement, registerForAddon, customParams, className = 'dateField') {\n\t\t\tif (typeof parentElement === 'undefined') {\n\t\t\t\tparentElement = $('body');\n\t\t\t} else {\n\t\t\t\tparentElement = $(parentElement);\n\t\t\t}\n\t\t\tif (typeof registerForAddon === 'undefined') {\n\t\t\t\tregisterForAddon = true;\n\t\t\t}\n\t\t\tlet elements = $('.' + className, parentElement);\n\t\t\tif (parentElement.hasClass(className)) {\n\t\t\t\telements = parentElement;\n\t\t\t}\n\t\t\tif (elements.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (registerForAddon === true) {\n\t\t\t\tconst parentDateElem = elements.closest('.date');\n\t\t\t\t$('.js-date__btn', parentDateElem).on('click', function inputGroupAddonClickHandler(e) {\n\t\t\t\t\t// Using focus api of DOM instead of jQuery because show api of datePicker is calling e.preventDefault\n\t\t\t\t\t// which is stopping from getting focus to input element\n\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t.closest('.date')\n\t\t\t\t\t\t.find('input.' + className)\n\t\t\t\t\t\t.get(0)\n\t\t\t\t\t\t.focus();\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet format = CONFIG.dateFormat;\n\t\t\tconst elementDateFormat = elements.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tformat = elementDateFormat;\n\t\t\t}\n\t\t\tif (typeof $.fn.datepicker.dates[CONFIG.langKey] === 'undefined') {\n\t\t\t\t$.fn.datepicker.dates[CONFIG.langKey] = {\n\t\t\t\t\tdays: App.Fields.Date.fullDaysTranslated,\n\t\t\t\t\tdaysShort: App.Fields.Date.daysTranslated,\n\t\t\t\t\tdaysMin: App.Fields.Date.daysTranslated,\n\t\t\t\t\tmonths: App.Fields.Date.fullMonthsTranslated,\n\t\t\t\t\tmonthsShort: App.Fields.Date.monthsTranslated,\n\t\t\t\t\ttoday: app.vtranslate('JS_TODAY'),\n\t\t\t\t\tclear: app.vtranslate('JS_CLEAR'),\n\t\t\t\t\tformat: format,\n\t\t\t\t\ttitleFormat: 'MM yyyy' /* Leverages same syntax as 'format' */,\n\t\t\t\t\tweekStart: CONFIG.firstDayOfWeekNo\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet params = {\n\t\t\t\ttodayBtn: 'linked',\n\t\t\t\tclearBtn: true,\n\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\tweekStart: CONFIG.firstDayOfWeekNo,\n\t\t\t\tautoclose: true,\n\t\t\t\ttodayHighlight: true,\n\t\t\t\tformat: format\n\t\t\t};\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\telements.each((index, element) => {\n\t\t\t\t$(element).datepicker(\n\t\t\t\t\t$.extend(\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tObject.assign(params, { enableOnReadonly: !element.hasAttribute('readonly') }),\n\t\t\t\t\t\t$(element).data('params')\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t});\n\t\t\tApp.Fields.Utils.hideMobileKeyboard(elements);\n\t\t\treturn elements;\n\t\t},\n\n\t\t/**\n\t\t * Register dateRangePicker\n\t\t * @param {jQuery} parentElement\n\t\t * @param {object} customParams\n\t\t */\n\t\tregisterRange(parentElement, customParams = {}) {\n\t\t\tif (typeof parentElement === 'undefined') {\n\t\t\t\tparentElement = $('body');\n\t\t\t} else {\n\t\t\t\tparentElement = $(parentElement);\n\t\t\t}\n\t\t\tlet elements = $('.dateRangeField', parentElement);\n\t\t\tif (parentElement.hasClass('dateRangeField')) {\n\t\t\t\telements = parentElement;\n\t\t\t}\n\t\t\tif (elements.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet format = CONFIG.dateFormat.toUpperCase();\n\t\t\tconst elementDateFormat = elements.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tformat = elementDateFormat.toUpperCase();\n\t\t\t}\n\t\t\tlet ranges = {};\n\t\t\tranges[app.vtranslate('JS_TODAY')] = [moment(), moment()];\n\t\t\tranges[app.vtranslate('JS_TOMORROW')] = [moment().add(1, 'days'), moment().add(1, 'days')];\n\t\t\tranges[app.vtranslate('JS_YESTERDAY')] = [moment().subtract(1, 'days'), moment().subtract(1, 'days')];\n\t\t\tranges[app.vtranslate('JS_LAST_7_DAYS')] = [moment().subtract(6, 'days'), moment()];\n\t\t\tranges[app.vtranslate('JS_NEXT_7_DAYS')] = [moment(), moment().add(6, 'days')];\n\t\t\tranges[app.vtranslate('JS_CURRENT_MONTH')] = [moment().startOf('month'), moment().endOf('month')];\n\t\t\tranges[app.vtranslate('JS_NEXT_MONTH')] = [\n\t\t\t\tmoment().add(1, 'month').startOf('month'),\n\t\t\t\tmoment().add(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_LAST_MONTH')] = [\n\t\t\t\tmoment().subtract(1, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_MONTH')] = [\n\t\t\t\tmoment().add(1, 'month').startOf('month'),\n\t\t\t\tmoment().add(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_LAST_3_MONTHS')] = [\n\t\t\t\tmoment().subtract(3, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_3_MONTHS')] = [moment().startOf('month'), moment().add(3, 'month').endOf('month')];\n\t\t\tranges[app.vtranslate('JS_LAST_6_MONTHS')] = [\n\t\t\t\tmoment().subtract(6, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_6_MONTHS')] = [moment().startOf('month'), moment().add(6, 'month').endOf('month')];\n\n\t\t\tlet locale = App.Fields.DateTime.getDefaultLocale();\n\t\t\tlocale.format = format;\n\t\t\tlet params = {\n\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\tautoUpdateInput: false,\n\t\t\t\tautoApply: true,\n\t\t\t\tranges: ranges,\n\t\t\t\tlocale: locale\n\t\t\t};\n\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\tparentElement\n\t\t\t\t.find('.js-date__btn')\n\t\t\t\t.off()\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\t$(e.currentTarget).parent().next('.dateRangeField')[0].focus();\n\t\t\t\t});\n\t\t\telements.each((index, element) => {\n\t\t\t\tlet el = $(element);\n\t\t\t\tlet currentParams = $.extend(true, params, el.data('params'));\n\t\t\t\tel.daterangepicker(currentParams)\n\t\t\t\t\t.on('apply.daterangepicker', function (ev, picker) {\n\t\t\t\t\t\t$(this).val(\n\t\t\t\t\t\t\tpicker.startDate.format(currentParams.locale.format) +\n\t\t\t\t\t\t\t\t',' +\n\t\t\t\t\t\t\t\tpicker.endDate.format(currentParams.locale.format)\n\t\t\t\t\t\t);\n\t\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t\t})\n\t\t\t\t\t.on('show.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\t})\n\t\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t\t})\n\t\t\t\t\t.on('hide.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tpicker.container.removeClass('js-visible');\n\t\t\t\t\t});\n\t\t\t\tApp.Fields.Utils.registerMobileDateRangePicker(el);\n\t\t\t});\n\t\t}\n\t},\n\tDateTime: class DateTime {\n\t\tconstructor(container, params) {\n\t\t\tthis.container = container;\n\t\t\tthis.init(params);\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t * @param {Object} params\n\t\t */\n\t\tstatic register(container, params) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = $('body');\n\t\t\t}\n\t\t\tif (container.hasClass('dateTimePickerField') && !container.prop('disabled')) {\n\t\t\t\treturn new DateTime(container, params);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.dateTimePickerField:not([disabled])').each((_, e) => {\n\t\t\t\tlet element = $(e);\n\t\t\t\tinstances.push(new DateTime(element, params));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Gets default locale data\n\t\t * @returns {Object}\n\t\t */\n\t\tstatic getDefaultLocale() {\n\t\t\tif (!this.locale) {\n\t\t\t\tthis.locale = {\n\t\t\t\t\tseparator: ',',\n\t\t\t\t\tapplyLabel: app.vtranslate('JS_APPLY'),\n\t\t\t\t\tcancelLabel: app.vtranslate('JS_CANCEL'),\n\t\t\t\t\tfromLabel: app.vtranslate('JS_FROM'),\n\t\t\t\t\ttoLabel: app.vtranslate('JS_TO'),\n\t\t\t\t\tcustomRangeLabel: app.vtranslate('JS_CUSTOM'),\n\t\t\t\t\tweekLabel: app.vtranslate('JS_WEEK').substr(0, 1),\n\t\t\t\t\tfirstDay: CONFIG.firstDayOfWeekNo,\n\t\t\t\t\tdaysOfWeek: App.Fields.Date.daysTranslated,\n\t\t\t\t\tmonthNames: App.Fields.Date.fullMonthsTranslated\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn { ...this.locale };\n\t\t}\n\n\t\t/**\n\t\t * Initialization datetime\n\t\t */\n\t\tinit(customParams) {\n\t\t\t$('.input-group-text', this.container.closest('.dateTime')).on('click', function (e) {\n\t\t\t\t$(e.currentTarget).closest('.dateTime').find('input.dateTimePickerField').get(0).focus();\n\t\t\t});\n\t\t\tlet dateFormat = CONFIG.dateFormat.toUpperCase();\n\t\t\tconst elementDateFormat = this.container.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tdateFormat = elementDateFormat.toUpperCase();\n\t\t\t}\n\t\t\tlet hourFormat = CONFIG.hourFormat;\n\t\t\tconst elementHourFormat = this.container.data('hourFormat');\n\t\t\tif (typeof elementHourFormat !== 'undefined') {\n\t\t\t\thourFormat = elementHourFormat;\n\t\t\t}\n\t\t\tlet timePicker24Hour = true;\n\t\t\tlet timeFormat = 'HH:mm';\n\t\t\tif (hourFormat != '24') {\n\t\t\t\ttimePicker24Hour = false;\n\t\t\t\ttimeFormat = 'hh:mm A';\n\t\t\t}\n\t\t\tconst format = dateFormat + ' ' + timeFormat;\n\t\t\tlet isDateRangePicker = this.container.data('calendarType') !== 'range';\n\t\t\tlet locale = App.Fields.DateTime.getDefaultLocale();\n\t\t\tlocale.format = format;\n\t\t\tlet params = {\n\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\tparentEl: this.container.closest('.dateTime'),\n\t\t\t\tsingleDatePicker: isDateRangePicker,\n\t\t\t\tshowDropdowns: true,\n\t\t\t\ttimePicker: true,\n\t\t\t\tautoUpdateInput: false,\n\t\t\t\ttimePicker24Hour: timePicker24Hour,\n\t\t\t\ttimePickerIncrement: 1,\n\t\t\t\tautoApply: true,\n\t\t\t\topens: 'left',\n\t\t\t\tlocale: locale\n\t\t\t};\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\tthis.container\n\t\t\t\t.daterangepicker(params)\n\t\t\t\t.on('apply.daterangepicker', function applyDateRangePickerHandler(ev, picker) {\n\t\t\t\t\tif (isDateRangePicker) {\n\t\t\t\t\t\t$(this).val(picker.startDate.format(format));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(this).val(picker.startDate.format(format) + ',' + picker.endDate.format(format));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t});\n\t\t\tApp.Fields.Utils.registerMobileDateRangePicker(this.container);\n\t\t}\n\t},\n\tColors: {\n\t\t/**\n\t\t * Function to check whether the color is dark or light\n\t\t */\n\t\tgetColorContrast: function (hexcolor) {\n\t\t\tvar r = parseInt(hexcolor.substr(0, 2), 16);\n\t\t\tvar g = parseInt(hexcolor.substr(2, 2), 16);\n\t\t\tvar b = parseInt(hexcolor.substr(4, 2), 16);\n\t\t\tvar yiq = (r * 299 + g * 587 + b * 114) / 1000;\n\t\t\treturn yiq >= 128 ? 'light' : 'dark';\n\t\t},\n\t\tgetRandomColor: function () {\n\t\t\tvar letters = '0123456789ABCDEF'.split('');\n\t\t\tvar color = '#';\n\t\t\tfor (var i = 0; i < 6; i++) {\n\t\t\t\tcolor += letters[Math.floor(Math.random() * 16)];\n\t\t\t}\n\t\t\treturn color;\n\t\t},\n\t\tgetRandomColors: function (count) {\n\t\t\tconst colors = [];\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tcolors.push(this.getRandomColor());\n\t\t\t}\n\t\t\treturn colors;\n\t\t},\n\t\tshowPicker({ color, fieldToUpdate, bgToUpdate, cb }) {\n\t\t\tlet registerPickerEvents = (modalContainer) => {\n\t\t\t\tlet picker = window.ColorPicker.mount({\n\t\t\t\t\tel: modalContainer.find('.js-color-picker')[0],\n\t\t\t\t\tcurrentColor: color\n\t\t\t\t});\n\t\t\t\tmodalContainer.find('.js-modal__save').on('click', (_) => {\n\t\t\t\t\tlet newColor = picker.getColor().hex;\n\t\t\t\t\tcb && cb(newColor);\n\t\t\t\t\tbgToUpdate && bgToUpdate.css('background', newColor);\n\t\t\t\t\tfieldToUpdate && fieldToUpdate.val(newColor);\n\t\t\t\t\tapp.hideModalWindow(false, modalContainer.closest('.js-modal-container')[0].id);\n\t\t\t\t});\n\t\t\t};\n\t\t\tlet url = `index.php?module=AppComponents&view=ColorPickerModal${color ? '&color=' + color : ''}`;\n\t\t\tapp.showModalWindow({ url, cb: registerPickerEvents.bind(this) });\n\t\t}\n\t},\n\tText: {\n\t\t/**\n\t\t * Register clip\n\t\t * @param {HTMLElement|jQuery} container\n\t\t * @param {string} key\n\t\t * @returns {ClipboardJS|undefined}\n\t\t */\n\t\tregisterCopyClipboard: function (container, key = '.clipboard') {\n\t\t\tif (typeof container !== 'object') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontainer = $(container).get(0);\n\t\t\tlet elements = container.querySelectorAll(key);\n\t\t\tif (elements.length === 0) {\n\t\t\t\telements = key;\n\t\t\t\tcontainer = '';\n\t\t\t}\n\t\t\treturn new ClipboardJS(elements, {\n\t\t\t\tcontainer: container,\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\ttrigger = $(trigger);\n\t\t\t\t\tconst element = $(trigger.data('copyTarget'), container);\n\t\t\t\t\tlet val;\n\t\t\t\t\tif (typeof trigger.data('copyType') !== 'undefined') {\n\t\t\t\t\t\tif (element.is('select')) {\n\t\t\t\t\t\t\tval = element.find('option:selected').data(trigger.data('copyType'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tval = element.data(trigger.data('copyType'));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof trigger.data('copy-attribute') !== 'undefined') {\n\t\t\t\t\t\tval = trigger.data(trigger.data('copy-attribute'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = element.val();\n\t\t\t\t\t}\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tEditor: class {\n\t\t\tconstructor(container, params) {\n\t\t\t\tthis.container = container;\n\t\t\t\tthis.init(container, params);\n\t\t\t}\n\t\t\t/**\n\t\t\t * Register function\n\t\t\t * @param {jQuery} container\n\t\t\t * @param {Object} params\n\t\t\t */\n\t\t\tstatic register(container, params) {\n\t\t\t\tif (typeof container === 'undefined') {\n\t\t\t\t\tcontainer = $('body');\n\t\t\t\t}\n\t\t\t\tif (container.hasClass('js-editor') && !container.prop('disabled')) {\n\t\t\t\t\treturn new App.Fields.Text.Editor(container, $.extend(params, container.data()));\n\t\t\t\t}\n\t\t\t\tconst instances = [];\n\t\t\t\tcontainer.find('.js-editor:not([disabled])').each((_, e) => {\n\t\t\t\t\tlet element = $(e);\n\t\t\t\t\tinstances.push(new App.Fields.Text.Editor(element, $.extend(params, element.data())));\n\t\t\t\t});\n\t\t\t\treturn instances;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Initiation\n\t\t\t * @param {jQuery} element\n\t\t\t * @param {Object} params\n\t\t\t */\n\t\t\tinit(element, params) {\n\t\t\t\tlet config = {};\n\t\t\t\tif (element.hasClass('js-editor--basic')) {\n\t\t\t\t\tconfig.toolbar = 'Min';\n\t\t\t\t}\n\t\t\t\tif (element.data('height')) {\n\t\t\t\t\tconfig.height = element.data('height');\n\t\t\t\t}\n\t\t\t\tparams = $.extend(config, params);\n\t\t\t\tthis.isModal = element.closest('.js-modal-container').length;\n\t\t\t\tif (this.isModal && element.is(':visible')) {\n\t\t\t\t\tlet self = this;\n\t\t\t\t\tthis.progressInstance = $.progressIndicator({\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\tonBlock: () => {\n\t\t\t\t\t\t\t\tself.loadEditor(element, params);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tApp.Fields.Text.destroyEditor(element);\n\t\t\t\t\tthis.loadEditor(element, params);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\t *Function to set the textArea element\n\t\t\t */\n\t\t\tsetElement(element) {\n\t\t\t\tthis.element = $(element);\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t *Function to get the textArea element\n\t\t\t */\n\t\t\tgetElement() {\n\t\t\t\treturn this.element;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to return Element's id atrribute value\n\t\t\t */\n\t\t\tgetElementId() {\n\t\t\t\treturn this.getElement().attr('id');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to get the instance of ckeditor\n\t\t\t */\n\t\t\tgetEditorInstanceFromName() {\n\t\t\t\treturn CKEDITOR.instances[this.getElementId()];\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to load CkEditor\n\t\t\t * @param {HTMLElement|jQuery} element on which CkEditor has to be loaded\n\t\t\t * @param {Object} customConfig custom configurations for ckeditor\n\t\t\t */\n\t\t\tloadEditor(element, customConfig) {\n\t\t\t\tthis.setElement(element);\n\t\t\t\tconst instance = this.getEditorInstanceFromName();\n\t\t\t\tlet config = {\n\t\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\t\tallowedContent: true,\n\t\t\t\t\tdisableNativeSpellChecker: false,\n\t\t\t\t\textraAllowedContent: 'div{page-break-after*}',\n\t\t\t\t\tformat_tags: 'p;h1;h2;h3;h4;h5;h6;pre;address;div',\n\t\t\t\t\tremoveButtons: '',\n\t\t\t\t\tenterMode: CKEDITOR.ENTER_BR,\n\t\t\t\t\tshiftEnterMode: CKEDITOR.ENTER_P,\n\t\t\t\t\temojiEnabled: false,\n\t\t\t\t\tmentionsEnabled: false,\n\t\t\t\t\ton: {\n\t\t\t\t\t\tinstanceReady: (evt) => {\n\t\t\t\t\t\t\tevt.editor.on('blur', function () {\n\t\t\t\t\t\t\t\tevt.editor.updateElement();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (this.isModal && this.progressInstance) {\n\t\t\t\t\t\t\t\tthis.progressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeCommandExec: (e) => {\n\t\t\t\t\t\t\tif (e.editor.mode === 'source') {\n\t\t\t\t\t\t\t\treturn this.validate(element, e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tremovePlugins: 'scayt',\n\t\t\t\t\textraPlugins:\n\t\t\t\t\t\t'colorbutton,pagebreak,colordialog,find,selectall,showblocks,div,print,font,justify,bidi,ckeditor-image-to-base',\n\t\t\t\t\ttoolbar: 'Full',\n\t\t\t\t\ttoolbar_Full: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll'] },\n\t\t\t\t\t\t{ name: 'links', items: ['Link', 'Unlink'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'insert',\n\t\t\t\t\t\t\titems: ['ckeditor-image-to-base', 'Table', 'HorizontalRule', 'SpecialChar', 'PageBreak']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize', 'ShowBlocks'] },\n\t\t\t\t\t\t{ name: 'paragraph', items: ['Outdent', 'Indent', '-', 'Blockquote', 'CreateDiv'] },\n\t\t\t\t\t\t{ name: 'document', items: ['Source', 'Print'] },\n\t\t\t\t\t\t'/',\n\t\t\t\t\t\t{ name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t'NumberedList',\n\t\t\t\t\t\t\t\t'BulletedList',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'JustifyLeft',\n\t\t\t\t\t\t\t\t'JustifyCenter',\n\t\t\t\t\t\t\t\t'JustifyRight',\n\t\t\t\t\t\t\t\t'JustifyBlock',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'BidiLtr',\n\t\t\t\t\t\t\t\t'BidiRtl'\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Min: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t'NumberedList',\n\t\t\t\t\t\t\t\t'BulletedList',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'JustifyLeft',\n\t\t\t\t\t\t\t\t'JustifyCenter',\n\t\t\t\t\t\t\t\t'JustifyRight',\n\t\t\t\t\t\t\t\t'JustifyBlock',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'BidiLtr',\n\t\t\t\t\t\t\t\t'BidiRtl'\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat', 'Source'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Micro: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: ['NumberedList', 'BulletedList', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Clipboard: [\n\t\t\t\t\t\t{ name: 'document', items: ['Print'] },\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_PDF: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll', '-'] },\n\t\t\t\t\t\t{ name: 'links', items: ['Link', 'Unlink'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'insert',\n\t\t\t\t\t\t\titems: ['ckeditor-image-to-base', 'Table', 'HorizontalRule', 'PageBreak']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize', 'ShowBlocks'] },\n\t\t\t\t\t\t{ name: 'document', items: ['Source'] },\n\t\t\t\t\t\t'/',\n\t\t\t\t\t\t{ name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: ['JustifyLeft', 'JustifyCenter', 'JustifyRight']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t\tif (typeof customConfig !== 'undefined') {\n\t\t\t\t\tconfig = $.extend(config, customConfig);\n\t\t\t\t}\n\t\t\t\tconfig = Object.assign(config, element.data());\n\t\t\t\tif (config.emojiEnabled) {\n\t\t\t\t\tlet emojiToolbar = { name: 'links', items: ['EmojiPanel'] };\n\t\t\t\t\tif (typeof config.toolbar === 'string') {\n\t\t\t\t\t\tconfig[`toolbar_${config.toolbar}`].push(emojiToolbar);\n\t\t\t\t\t} else if (Array.isArray(config.toolbar)) {\n\t\t\t\t\t\tconfig.toolbar.push(emojiToolbar);\n\t\t\t\t\t}\n\t\t\t\t\tconfig.extraPlugins = config.extraPlugins + ',emoji';\n\t\t\t\t\tconfig.outputTemplate = '{id}';\n\t\t\t\t}\n\t\t\t\tif (config.mentionsEnabled) {\n\t\t\t\t\tconfig.extraPlugins = config.extraPlugins + ',mentions';\n\t\t\t\t\tconfig.mentions = this.registerMentions();\n\t\t\t\t}\n\t\t\t\tif (instance) {\n\t\t\t\t\tCKEDITOR.remove(instance);\n\t\t\t\t}\n\t\t\t\telement.ckeditor(config);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register mentions\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tregisterMentions() {\n\t\t\t\tlet minSerchTextLength = app.getMainParams('gsMinLength');\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tfeed: this.getMentionUsersData.bind(this),\n\t\t\t\t\t\titemTemplate: `<li data-id=\"{id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-2 c-img__completion__container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"{icon} m-auto u-w-fit u-fs-14px\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"{image}\" class=\"c-img__completion mr-2\" alt=\"{label}\" title=\"{label}\">\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col row-10 no-gutters u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">{label}</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">{category}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>`,\n\t\t\t\t\t\toutputTemplate: '<a href=\"#\" data-id=\"@{id}\" data-module=\"{module}\">{label}</a>',\n\t\t\t\t\t\tminChars: minSerchTextLength\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfeed: App.Fields.Text.getMentionData,\n\t\t\t\t\t\tmarker: '#',\n\t\t\t\t\t\tpattern: /#[wа-я]{1,}|#\\w{3,}$/,\n\t\t\t\t\t\titemTemplate: `<li data-id=\"{id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-2 c-circle-icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"yfm-{module}\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-10 row no-gutters pl-1 u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">{label}</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">{category}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>`,\n\t\t\t\t\t\toutputTemplate: '<a href=\"#\" data-id=\"#{id}\" data-module=\"{module}\">{label}</a>',\n\t\t\t\t\t\tminChars: minSerchTextLength\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Get mention Users data (invoked by ck editor mentions plugin)\n\t\t\t * @param {object} opts\n\t\t\t * @param {function} callback\n\t\t\t */\n\t\t\tgetMentionUsersData(opts, callback) {\n\t\t\t\tApp.Fields.Text.getMentionData(opts, callback, 'owners');\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Function to validate the field value\n\t\t\t * @param {jQuery} element\n\t\t\t * @param {object} e\n\t\t\t */\n\t\t\tvalidate(element, e) {\n\t\t\t\tlet status = true,\n\t\t\t\t\tparams;\n\t\t\t\tif (element.data('purifyMode')) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tmodule: 'Users',\n\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\tmode: 'validateByMode',\n\t\t\t\t\t\tpurifyMode: element.data('purifyMode'),\n\t\t\t\t\t\tvalue: element.val()\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tmodule: element.closest('form').find('[name=\"module\"]').val(),\n\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\tmode: 'validateForField',\n\t\t\t\t\t\tfieldName: element.attr('name'),\n\t\t\t\t\t\tfieldValue: element.val()\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: false,\n\t\t\t\t\tdata: params\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\telement.val(data.result.raw);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\t\t\ttext: error\n\t\t\t\t\t\t});\n\t\t\t\t\t\tstatus = false;\n\t\t\t\t\t});\n\t\t\t\treturn status;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Completions class for contenteditable html element for records, users and emojis. Params can be passed in data-completions- of contenteditable element or as argument. Default params:\n\t\t * {\n\t\t \t\tcompletionsCollection: {\n\t\t\t\t\t\trecords: true,\n\t\t\t\t\t\tusers: true,\n\t\t\t\t\t\temojis: true\n\t\t\t\t\t}\n\t\t\t}\n\t\t */\n\t\tCompletions: class {\n\t\t\t/**\n\t\t\t * Constructor\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t * @param params\n\t\t\t */\n\t\t\tconstructor(inputDiv = $('.js-completions').eq(0), params = { emojiPanel: true }) {\n\t\t\t\tif (typeof inputDiv === 'undefined' || inputDiv.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (inputDiv.length === undefined) {\n\t\t\t\t\tinputDiv = $(inputDiv);\n\t\t\t\t}\n\t\t\t\tlet basicParams = {\n\t\t\t\t\tcompletionsCollection: {\n\t\t\t\t\t\trecords: true,\n\t\t\t\t\t\tusers: true,\n\t\t\t\t\t\temojis: true\n\t\t\t\t\t},\n\t\t\t\t\tautolink: true\n\t\t\t\t};\n\t\t\t\tthis.params = Object.assign(basicParams, inputDiv.data(), params);\n\t\t\t\tthis.inputDiv = inputDiv;\n\t\t\t\tthis.collection = [];\n\t\t\t\tif (this.params.completionsCollection.records) {\n\t\t\t\t\tthis.collection.push(this.registerMentionCollection('#'));\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsCollection.users) {\n\t\t\t\t\tthis.collection.push(this.registerMentionCollection('@', 'owners'));\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsCollection.emojis) {\n\t\t\t\t\tthis.collection.push(this.registerEmojiCollection());\n\t\t\t\t}\n\t\t\t\tthis.register(inputDiv);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register mention collection for tribute.js\n\t\t\t * @param {string} symbol\n\t\t\t * @param {string} searchModule\n\t\t\t * @returns {{trigger: *, selectTemplate: selectTemplate, values: values, menuItemTemplate: (function(*): string), lookup: string, fillAttr: string}}\n\t\t\t */\n\t\t\tregisterMentionCollection(symbol, searchModule = '-') {\n\t\t\t\tlet self = this;\n\t\t\t\treturn {\n\t\t\t\t\ttrigger: symbol,\n\t\t\t\t\tselectTemplate: function (item) {\n\t\t\t\t\t\tif (this.range.isContentEditable(this.current.element)) {\n\t\t\t\t\t\t\treturn `<a href=\"#\" data-id=\"${symbol + item.original.id}\" data-module=\"${\n\t\t\t\t\t\t\t\titem.original.module\n\t\t\t\t\t\t\t}\">${item.original.label.split('(')[0].trim()}</a>`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn symbol + item.original.label;\n\t\t\t\t\t},\n\t\t\t\t\tvalues: (text, cb) => {\n\t\t\t\t\t\tif (text.length >= CONFIG.globalSearchAutocompleteMinLength) {\n\t\t\t\t\t\t\tApp.Fields.Text.getMentionData(text, (users) => cb(users), searchModule);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmenuItemTemplate: function (item) {\n\t\t\t\t\t\treturn self.mentionTemplate({\n\t\t\t\t\t\t\tid: item.original.id,\n\t\t\t\t\t\t\tmodule: item.original.module,\n\t\t\t\t\t\t\tcategory: item.original.category,\n\t\t\t\t\t\t\timage: item.original.image,\n\t\t\t\t\t\t\tlabel: item.original.label,\n\t\t\t\t\t\t\ticon: item.original.icon\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlookup: 'label',\n\t\t\t\t\tfillAttr: 'label'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register emoji collection for tribute.js\n\t\t\t * @returns {{trigger: string, selectTemplate: selectTemplate, menuItemTemplate: (function(*): string), lookup: string, fillAttr: string, values: Array}}\n\t\t\t */\n\t\t\tregisterEmojiCollection() {\n\t\t\t\treturn {\n\t\t\t\t\ttrigger: ':',\n\t\t\t\t\tselectTemplate: function (item) {\n\t\t\t\t\t\tif (this.range.isContentEditable(this.current.element)) {\n\t\t\t\t\t\t\treturn `<span data-id=\"${item.original.id}\">${item.original.symbol}</span>`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn item.original.symbol;\n\t\t\t\t\t},\n\t\t\t\t\tmenuItemTemplate: function (item) {\n\t\t\t\t\t\treturn `<span data-id=\"${item.original.id}\">${item.original.symbol} ${item.original.id}</span>`;\n\t\t\t\t\t},\n\t\t\t\t\tlookup: 'id',\n\t\t\t\t\tfillAttr: 'keywords',\n\t\t\t\t\tvalues: (text, cb) => {\n\t\t\t\t\t\tif (text.length >= 2) {\n\t\t\t\t\t\t\tcb(App.emoji);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\t/*\n\t\t\t * Mention template\n\t\t\t */\n\t\t\tmentionTemplate(params) {\n\t\t\t\tlet icon = '';\n\t\t\t\tif (params.module !== undefined) {\n\t\t\t\t\ticon = `yfm-${params.module}`;\n\t\t\t\t}\n\t\t\t\tif (params.icon !== undefined && params.icon !== '') {\n\t\t\t\t\ticon = params.icon;\n\t\t\t\t}\n\t\t\t\tlet avatar = `<div class=\"col-2 c-circle-icon\">\n\t\t\t\t\t\t\t\t<span class=\"${icon}\"></span>\n\t\t\t\t\t\t\t</div>`;\n\t\t\t\tif (params.image !== undefined && params.image !== '') {\n\t\t\t\t\tavatar = `<div class=\"col-2 c-img__completion__container m-0\"><img src=\"${params.image}\" class=\"c-img__completion\" alt=${params.label}\" title=\"${params.label}\"></div>`;\n\t\t\t\t}\n\t\t\t\treturn `<div data-id=\"${params.id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t${avatar}\n\t\t\t\t\t\t\t<div class=\"col-10 row no-gutters pl-1 u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">${params.label}</strong>\n\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">${params.category}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>`;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Auto link\n\t\t\t */\n\t\t\tautoLink() {\n\t\t\t\tlet fillChar = '\\u200B';\n\t\t\t\tlet sel = window.getSelection(),\n\t\t\t\t\trange = sel.getRangeAt(0).cloneRange(),\n\t\t\t\t\toffset,\n\t\t\t\t\tcharCode,\n\t\t\t\t\tgetParentByTagName = function (node, tags) {\n\t\t\t\t\t\tif (node && !isBody(node)) {\n\t\t\t\t\t\t\twhile (node) {\n\t\t\t\t\t\t\t\tif (tags[node.tagName] || isBody(node)) {\n\t\t\t\t\t\t\t\t\treturn !tags[node.tagName] && isBody(node) ? null : node;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tnode = node.parentNode;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t},\n\t\t\t\t\tisBody = function (node) {\n\t\t\t\t\t\treturn node && node.nodeType == 1 && node.tagName.toLowerCase() == 'body';\n\t\t\t\t\t},\n\t\t\t\t\thtml = function (str) {\n\t\t\t\t\t\treturn str.replace(/&((g|l|quo)t|amp|#39);/g, function (m) {\n\t\t\t\t\t\t\treturn { '&lt;': '<', '&amp;': '&', '&quot;': '\"', '&gt;': '>', '&#39;': \"'\" }[m];\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tisFillChar = function (node) {\n\t\t\t\t\t\treturn node.nodeType == 3 && !node.nodeValue.replace(new RegExp('' + fillChar), '').length;\n\t\t\t\t\t};\n\n\t\t\t\tlet start = range.startContainer;\n\t\t\t\twhile (start.nodeType == 1 && range.startOffset > 0) {\n\t\t\t\t\tstart = range.startContainer.childNodes[range.startOffset - 1];\n\t\t\t\t\tif (!start) break;\n\t\t\t\t\trange.setStart(start, start.nodeType == 1 ? start.childNodes.length : start.nodeValue.length);\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\tstart = range.startContainer;\n\t\t\t\t}\n\t\t\t\tdo {\n\t\t\t\t\tif (range.startOffset == 0) {\n\t\t\t\t\t\tstart = range.startContainer.previousSibling;\n\t\t\t\t\t\twhile (start && start.nodeType == 1) {\n\t\t\t\t\t\t\tstart = start.lastChild;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!start || isFillChar(start)) break;\n\t\t\t\t\t\toffset = start.nodeValue.length;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstart = range.startContainer;\n\t\t\t\t\t\toffset = range.startOffset;\n\t\t\t\t\t}\n\t\t\t\t\trange.setStart(start, offset - 1);\n\t\t\t\t\tcharCode = range.toString().charCodeAt(0);\n\t\t\t\t} while (charCode != 160 && charCode != 32);\n\t\t\t\tif (\n\t\t\t\t\trange\n\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t.replace(new RegExp(fillChar, 'g'), '')\n\t\t\t\t\t\t.match(/(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i)\n\t\t\t\t) {\n\t\t\t\t\twhile (range.toString().length) {\n\t\t\t\t\t\tif (/^(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i.test(range.toString())) break;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\trange.setStart(range.startContainer, range.startOffset + 1);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlet startCont = range.startContainer,\n\t\t\t\t\t\t\t\tnext;\n\t\t\t\t\t\t\twhile (!(next = startCont.nextSibling)) {\n\t\t\t\t\t\t\t\tif (isBody(startCont)) return;\n\t\t\t\t\t\t\t\tstartCont = startCont.parentNode;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trange.setStart(next, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (getParentByTagName(range.startContainer, { a: 1, A: 1 })) return;\n\t\t\t\t\tlet href = range\n\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t.replace(/<[^>]+>/g, '')\n\t\t\t\t\t\t\t.replace(new RegExp(fillChar, 'g'), ''),\n\t\t\t\t\t\threfFull = /^(?:https?:\\/\\/)/gi.test(href) ? href : 'http://' + href,\n\t\t\t\t\t\turl = new URL(hrefFull);\n\t\t\t\t\tlet allowedHosts = CONFIG.purifierAllowedDomains;\n\t\t\t\t\tif (allowedHosts !== false && allowedHosts.indexOf(url.host) === -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet a = document.createElement('a'),\n\t\t\t\t\t\ttext = document.createTextNode(' ');\n\t\t\t\t\ta.appendChild(range.extractContents());\n\t\t\t\t\ta.innerHTML = href;\n\t\t\t\t\ta.href = hrefFull ? html(hrefFull) : '';\n\t\t\t\t\ta.setAttribute('rel', 'noopener noreferrer');\n\t\t\t\t\ta.setAttribute('target', '_blank');\n\n\t\t\t\t\trange.insertNode(a);\n\t\t\t\t\ta.parentNode.insertBefore(text, a.nextSibling);\n\t\t\t\t\trange.setStart(text.nextSibling, 0);\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t\t/**\n\t\t\t * Register\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregister(inputDiv) {\n\t\t\t\tconst self = this;\n\t\t\t\tthis.completionsCollection = new Tribute({\n\t\t\t\t\tcollection: self.collection,\n\t\t\t\t\tallowSpaces: true,\n\t\t\t\t\treplaceTextSuffix: ''\n\t\t\t\t});\n\t\t\t\tthis.completionsCollection.attach(inputDiv[0]);\n\t\t\t\tif (this.params.completionsTextarea !== undefined) {\n\t\t\t\t\tthis.registerCompletionsTextArea(inputDiv);\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsButtons !== undefined) {\n\t\t\t\t\tthis.registerCompletionsButtons();\n\t\t\t\t}\n\t\t\t\tif (this.params.autolink) {\n\t\t\t\t\tthis.registerAutoLinker(inputDiv);\n\t\t\t\t}\n\t\t\t\tif (this.params.emojiPanel) {\n\t\t\t\t\tthis.registerEmojiPanel(this.inputDiv, this.inputDiv.parents().eq(3).find('.js-completions__emojis'));\n\t\t\t\t}\n\t\t\t\tif (App.emoji === undefined) {\n\t\t\t\t\tfetch(`${CONFIG.siteUrl}/vendor/ckeditor/ckeditor/plugins/emoji/emoji.json`)\n\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\tApp.emoji = response;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => console.error('Error:', error));\n\t\t\t\t}\n\t\t\t\tthis.registerTagClick(inputDiv);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register autolink\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregisterAutoLinker(inputDiv) {\n\t\t\t\tinputDiv.on('keypress', (e) => {\n\t\t\t\t\tif (e.keyCode === 32 || e.keyCode === 13) {\n\t\t\t\t\t\tthis.autoLink();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register completons hidden textarea - useful with forms\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregisterCompletionsTextArea(inputDiv) {\n\t\t\t\tlet textarea = inputDiv.siblings(`[name=${inputDiv.attr('id')}]`);\n\t\t\t\tinputDiv\n\t\t\t\t\t.on('focus', function () {\n\t\t\t\t\t\ttextarea.val(inputDiv.html());\n\t\t\t\t\t})\n\t\t\t\t\t.on('blur keyup paste input', function () {\n\t\t\t\t\t\ttextarea.val(inputDiv.html());\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register tag click\n\t\t\t * @param inputDiv\n\t\t\t */\n\t\t\tregisterTagClick(inputDiv) {\n\t\t\t\tinputDiv\n\t\t\t\t\t.closest('.js-completions__container')\n\t\t\t\t\t.find('.js-completions__messages')\n\t\t\t\t\t.on('click', '.js-completions__tag', (e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tinputDiv.append($(e.target).clone());\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register completions buttons\n\t\t\t */\n\t\t\tregisterCompletionsButtons() {\n\t\t\t\tlet completionsContainer = this.inputDiv.parents().eq(3);\n\t\t\t\tcompletionsContainer.find('.js-completions__users').on('click', (e) => {\n\t\t\t\t\tthis.completionsCollection.showMenuForCollection(this.inputDiv[0], 1);\n\t\t\t\t});\n\t\t\t\tcompletionsContainer.find('.js-completions__records').on('click', (e) => {\n\t\t\t\t\tthis.completionsCollection.showMenuForCollection(this.inputDiv[0], 0);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register emojipanel library\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t * @param {jQuery} emojisContainer\n\t\t\t */\n\t\t\tregisterEmojiPanel(inputDiv, emojisContainer) {\n\t\t\t\tnew EmojiPanel({\n\t\t\t\t\tcontainer: '.js-completions__emojis',\n\t\t\t\t\tjson_url: CONFIG.siteUrl + 'libraries/emojipanel/dist/emojis.json'\n\t\t\t\t});\n\t\t\t\temojisContainer.on('click', (e) => {\n\t\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\t\telement.toggleClass('active');\n\t\t\t\t});\n\t\t\t\temojisContainer.on('click', '.emoji', (e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tif ($(e.currentTarget).data('char') !== undefined) {\n\t\t\t\t\t\tlet value = `${$(e.currentTarget).data('char')}`;\n\t\t\t\t\t\tinputDiv.is('textarea') ? (inputDiv.get(0).value += value) : inputDiv.append(value);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\temojisContainer.on('mouseenter', '.emoji', (e) => {\n\t\t\t\t\tif ($(e.currentTarget).data('name') !== undefined) {\n\t\t\t\t\t\temojisContainer.find('.emoji-hovered').remove();\n\t\t\t\t\t\temojisContainer\n\t\t\t\t\t\t\t.find('footer')\n\t\t\t\t\t\t\t.prepend(\n\t\t\t\t\t\t\t\t`<div class=\"emoji-hovered u-text-ellipsis\">${\n\t\t\t\t\t\t\t\t\t$(e.currentTarget).data('char') + ' ' + $(e.currentTarget).data('name')\n\t\t\t\t\t\t\t\t}</div>`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\temojisContainer.on('clickoutside', () => {\n\t\t\t\t\temojisContainer.removeClass('active');\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get mention data (invoked by ck editor mentions plugin and tribute.js)\n\t\t * @param {object} opts\n\t\t * @param {function} callback\n\t\t * @param {string} searchModule\n\t\t */\n\t\tgetMentionData(text, callback, searchModule = '-') {\n\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\tbasicSearch.reduceNumberResults = app.getMainParams('gsAmountResponse');\n\t\t\tbasicSearch.returnHtml = false;\n\t\t\tbasicSearch.searchModule = searchModule;\n\t\t\tif (typeof text === 'object') {\n\t\t\t\ttext = text.query.toLowerCase();\n\t\t\t}\n\t\t\tif (searchModule === 'owners') {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\taction: 'Search',\n\t\t\t\t\tmode: 'owners',\n\t\t\t\t\tvalue: text\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tcallback(data.result);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tbasicSearch.search(text).done(function (data) {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\tlet serverDataFormat = data.result,\n\t\t\t\t\t\treponseDataList = [];\n\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t}\n\t\t\t\t\tcallback(reponseDataList);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Destroy ckEditor\n\t\t * @param {jQuery} element\n\t\t */\n\t\tdestroyEditor(element) {\n\t\t\tif (typeof CKEDITOR !== 'undefined' && CKEDITOR.instances && element.attr('id') in CKEDITOR.instances) {\n\t\t\t\tCKEDITOR.instances[element.attr('id')].destroy();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Generate random character\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateRandomChar() {\n\t\t\tconst chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ';\n\t\t\tconst rand = Math.floor(Math.random() * chars.length);\n\t\t\treturn chars.substring(rand, rand + 1);\n\t\t},\n\n\t\t/**\n\t\t * generate random hash\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateRandomHash(prefix = '') {\n\t\t\tprefix = prefix.toString();\n\t\t\tconst hash =\n\t\t\t\tMath.random().toString(36).substr(2, 10) +\n\t\t\t\tMath.random().toString(36).substr(2, 10) +\n\t\t\t\tnew Date().valueOf() +\n\t\t\t\tMath.random().toString(36).substr(2, 6);\n\t\t\treturn prefix ? prefix + hash : hash;\n\t\t}\n\t},\n\tPicklist: {\n\t\t/**\n\t\t * Function which will convert ui of select boxes.\n\t\t * @params parent - select element\n\t\t * @params view - select2\n\t\t * @params viewParams - select2 params\n\t\t * @returns jquery object list which represents changed select elements\n\t\t */\n\t\tchangeSelectElementView: function (parent, view, viewParams) {\n\t\t\tif (typeof parent === 'undefined') {\n\t\t\t\tparent = $('body');\n\t\t\t}\n\t\t\tif (typeof view === 'undefined') {\n\t\t\t\tconst select2Elements = $('select.select2', parent).toArray();\n\t\t\t\tselect2Elements.forEach((elem) => {\n\t\t\t\t\tthis.changeSelectElementView($(elem), 'select2', viewParams);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//If view is select2, This will convert the ui of select boxes to select2 elements.\n\t\t\tif (view === 'select2') {\n\t\t\t\treturn App.Fields.Picklist.showSelect2ElementView(parent, viewParams);\n\t\t\t} else {\n\t\t\t\tapp.errorLog(new Error(`Unknown select type [${view}]`));\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will show the select2 element for select boxes . This will use select2 library\n\t\t */\n\t\tshowSelect2ElementView(selectElement, params) {\n\t\t\tlet self = this;\n\t\t\tselectElement = $(selectElement);\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tif ($(selectElement).length > 1) {\n\t\t\t\treturn $(selectElement).each((index, element) => {\n\t\t\t\t\tthis.showSelect2ElementView($(element).eq(0), params);\n\t\t\t\t});\n\t\t\t}\n\t\t\tparams = this.registerParams(selectElement, params);\n\t\t\tif (params.selectLazy && !selectElement.hasClass('js-lazy-select-active')) {\n\t\t\t\treturn App.Fields.Picklist.showLazySelect(selectElement, {\n\t\t\t\t\tlazyElements: app.getMainParams('picklistLimit'),\n\t\t\t\t\tdata: this.registerLazySelectOptions(selectElement),\n\t\t\t\t\tselectParams: params\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst computeDropdownHeight = (e, dropdownContainer) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (!dropdownContainer.find('.select2-dropdown--above').length) {\n\t\t\t\t\t\tconst dropdownList = dropdownContainer.find('.select2-results > .select2-results__options');\n\t\t\t\t\t\tconst marginBottom = 35;\n\t\t\t\t\t\tconst selectOffsetTop = $(e.currentTarget).offset().top;\n\t\t\t\t\t\tdropdownList.css({\n\t\t\t\t\t\t\t'max-height':\n\t\t\t\t\t\t\t\t$(window).height() - selectOffsetTop - marginBottom - (dropdownList.offset().top - selectOffsetTop)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}, 100);\n\t\t\t};\n\t\t\tselectElement.each(function () {\n\t\t\t\tlet select = $(this);\n\t\t\t\tlet htmlBoolParams = select.data('select');\n\t\t\t\tif (htmlBoolParams === 'tags') {\n\t\t\t\t\tparams.tags = true;\n\t\t\t\t\tparams.tokenSeparators = [','];\n\t\t\t\t} else {\n\t\t\t\t\tparams[htmlBoolParams] = true;\n\t\t\t\t}\n\t\t\t\tselect\n\t\t\t\t\t.select2(params)\n\t\t\t\t\t.on('select2:open', (e) => {\n\t\t\t\t\t\tcomputeDropdownHeight(e, $('.select2-container--open:not(.select2-container--below)'));\n\t\t\t\t\t\tif (select.data('unselecting')) {\n\t\t\t\t\t\t\tselect.removeData('unselecting');\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tselect.each(function () {\n\t\t\t\t\t\t\t\t\t$(this).select2('close');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet instance = $(e.currentTarget).data('select2');\n\t\t\t\t\t\tinstance.$dropdown.css('z-index', 1000002);\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * Fix auto focusing in select2 with jQuery 3.6.0\n\t\t\t\t\t\t * see: https://github.com/select2/select2/issues/5993\n\t\t\t\t\t\t */\n\t\t\t\t\t\tif (instance.dropdown.$search) {\n\t\t\t\t\t\t\tinstance.dropdown.$search.get(0).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.on('select2:unselect', () => {\n\t\t\t\t\t\tselect.data('unselecting', true);\n\t\t\t\t\t});\n\t\t\t\tif (typeof self[params.selectCb] === 'function') {\n\t\t\t\t\tself[params.selectCb](select, params);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn selectElement;\n\t\t},\n\t\t/**\n\t\t * Register params\n\t\t * @param selectElement\n\t\t * @param params\n\t\t * @returns {*}\n\t\t */\n\t\tregisterParams(selectElement, params) {\n\t\t\tif (typeof params.dropdownParent === 'undefined') {\n\t\t\t\tconst modalParent = $(selectElement).closest('.modal-body');\n\t\t\t\tif (modalParent.length) {\n\t\t\t\t\tparams.dropdownParent = modalParent;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = selectElement.data();\n\t\t\tif (data != null) {\n\t\t\t\tparams = $.extend(data, params);\n\t\t\t}\n\t\t\tparams.language = {};\n\t\t\tparams.theme = 'bootstrap';\n\t\t\tconst width = $(selectElement).data('width');\n\t\t\tif (typeof width !== 'undefined') {\n\t\t\t\tparams.width = width;\n\t\t\t} else {\n\t\t\t\tparams.width = '100%';\n\t\t\t}\n\t\t\tparams.containerCssClass = 'form-control w-100';\n\t\t\tconst containerCssClass = selectElement.data('containerCssClass');\n\t\t\tif (typeof containerCssClass !== 'undefined') {\n\t\t\t\tparams.containerCssClass += ' ' + containerCssClass;\n\t\t\t}\n\t\t\tparams.language.noResults = function (msn) {\n\t\t\t\treturn app.vtranslate('JS_NO_RESULTS_FOUND');\n\t\t\t};\n\n\t\t\t// Sort DOM nodes alphabetically in select box.\n\t\t\tif (typeof params['customSortOptGroup'] !== 'undefined' && params['customSortOptGroup']) {\n\t\t\t\t$('optgroup', selectElement).each(function () {\n\t\t\t\t\tvar optgroup = $(this);\n\t\t\t\t\tvar options = optgroup\n\t\t\t\t\t\t.children()\n\t\t\t\t\t\t.toArray()\n\t\t\t\t\t\t.sort(function (a, b) {\n\t\t\t\t\t\t\tvar aText = $(a).text();\n\t\t\t\t\t\t\tvar bText = $(b).text();\n\t\t\t\t\t\t\treturn aText < bText ? 1 : -1;\n\t\t\t\t\t\t});\n\t\t\t\t\t$.each(options, function (i, v) {\n\t\t\t\t\t\toptgroup.prepend(v);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tdelete params['customSortOptGroup'];\n\t\t\t}\n\n\t\t\t//formatSelectionTooBig param is not defined even it has the maximumSelectionLength,\n\t\t\t//then we should send our custom function for formatSelectionTooBig\n\t\t\tif (typeof params.maximumSelectionLength !== 'undefined' && typeof params.formatSelectionTooBig === 'undefined') {\n\t\t\t\t//custom function which will return the maximum selection size exceeds message.\n\t\t\t\tvar formatSelectionExceeds = function (limit) {\n\t\t\t\t\treturn app.vtranslate('JS_YOU_CAN_SELECT_ONLY') + ' ' + limit.maximum + ' ' + app.vtranslate('JS_ITEMS');\n\t\t\t\t};\n\t\t\t\tparams.language.maximumSelected = formatSelectionExceeds;\n\t\t\t}\n\t\t\tif (typeof selectElement.attr('multiple') !== 'undefined' && !params.placeholder) {\n\t\t\t\tparams.placeholder = app.vtranslate('JS_SELECT_SOME_OPTIONS');\n\t\t\t} else if (!params.placeholder) {\n\t\t\t\tparams.placeholder = app.vtranslate('JS_SELECT_AN_OPTION');\n\t\t\t}\n\t\t\tif (typeof params.templateResult === 'undefined') {\n\t\t\t\tparams.templateResult = function (data, container) {\n\t\t\t\t\tif (data.element && data.element.className) {\n\t\t\t\t\t\t$(container).addClass(data.element.className);\n\t\t\t\t\t}\n\t\t\t\t\tlet actualElement = $(data.element);\n\t\t\t\t\tif (typeof selectElement.data('showAdditionalIcons') !== 'undefined' && actualElement.is('option')) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t'<div class=\"js-element__title d-flex justify-content-between\" data-js=\"appendTo\"><div class=\"u-text-ellipsis--no-hover\">' +\n\t\t\t\t\t\t\tactualElement.text() +\n\t\t\t\t\t\t\t'</div></div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof data.name === 'undefined') {\n\t\t\t\t\t\treturn data.text;\n\t\t\t\t\t}\n\t\t\t\t\tif (data.type == 'optgroup') {\n\t\t\t\t\t\treturn '<strong>' + data.name + '</strong>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '<span>' + data.name + '</span>';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tparams.escapeMarkup = function (markup) {\n\t\t\t\t\treturn markup;\n\t\t\t\t};\n\t\t\t} else if (typeof this[params.templateResult] === 'function') {\n\t\t\t\tparams.templateResult = this[params.templateResult];\n\t\t\t}\n\t\t\tif (typeof params.templateSelection === 'undefined') {\n\t\t\t\tparams.templateSelection = function (data, container) {\n\t\t\t\t\tif (data.element && data.element.className) {\n\t\t\t\t\t\t$(container).addClass(data.element.className);\n\t\t\t\t\t}\n\t\t\t\t\tif (data.text === '') {\n\t\t\t\t\t\treturn data.name;\n\t\t\t\t\t}\n\t\t\t\t\treturn data.text;\n\t\t\t\t};\n\t\t\t} else if (typeof this[params.templateSelection] === 'function') {\n\t\t\t\tparams.templateSelection = this[params.templateSelection];\n\t\t\t}\n\t\t\tif (selectElement.data('ajaxSearch') === 1) {\n\t\t\t\tparams = this.registerAjaxParams(selectElement, params);\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Register ajax params\n\t\t * @param selectElement\n\t\t * @param params\n\t\t * @returns {*}\n\t\t */\n\t\tregisterAjaxParams(selectElement, params) {\n\t\t\tparams.tags = false;\n\t\t\tparams.language.searching = function () {\n\t\t\t\treturn app.vtranslate('JS_SEARCHING');\n\t\t\t};\n\t\t\tparams.language.inputTooShort = function (args) {\n\t\t\t\tvar remainingChars = args.minimum - args.input.length;\n\t\t\t\treturn app.vtranslate('JS_INPUT_TOO_SHORT').replace('_LENGTH_', remainingChars);\n\t\t\t};\n\t\t\tparams.language.errorLoading = function () {\n\t\t\t\treturn app.vtranslate('JS_NO_RESULTS_FOUND');\n\t\t\t};\n\t\t\tparams.placeholder = '';\n\t\t\tparams.ajax = {\n\t\t\t\turl: selectElement.data('ajaxUrl'),\n\t\t\t\tdataType: 'json',\n\t\t\t\tdelay: 250,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: function (params) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: params.term, // search term\n\t\t\t\t\t\tpage: params.page\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tprocessResults: function (data, params) {\n\t\t\t\t\tvar items = new Array();\n\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\tselectElement.find('option').each(function () {\n\t\t\t\t\t\t\tvar currentTarget = $(this);\n\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\tlabel: currentTarget.html(),\n\t\t\t\t\t\t\t\tvalue: currentTarget.val()\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\titems = items.concat(data.result.items);\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tresults: items,\n\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\tmore: false\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tcache: false\n\t\t\t};\n\t\t\tparams.escapeMarkup = function (markup) {\n\t\t\t\tif (markup !== 'undefined') return markup;\n\t\t\t};\n\t\t\tvar minimumInputLength = 3;\n\t\t\tif (selectElement.data('minimumInput') !== 'undefined') {\n\t\t\t\tminimumInputLength = selectElement.data('minimumInput');\n\t\t\t}\n\t\t\tparams.minimumInputLength = minimumInputLength;\n\t\t\tparams.templateResult = function (data) {\n\t\t\t\tif (typeof data.name === 'undefined') {\n\t\t\t\t\treturn data.text;\n\t\t\t\t}\n\t\t\t\tif (data.type == 'optgroup') {\n\t\t\t\t\treturn '<strong>' + data.name + '</strong>';\n\t\t\t\t} else {\n\t\t\t\t\treturn '<span>' + data.name + '</span>';\n\t\t\t\t}\n\t\t\t};\n\t\t\tparams.templateSelection = function (data, container) {\n\t\t\t\tif (data.text === '') {\n\t\t\t\t\treturn data.name;\n\t\t\t\t}\n\t\t\t\treturn data.text;\n\t\t\t};\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Prepend template with a flag, function is called select2\n\t\t * @param optionData\n\t\t * @returns {Mixed|jQuery|HTMLElement}\n\t\t */\n\t\tprependDataTemplate(optionData) {\n\t\t\tlet template = optionData.text;\n\t\t\tif (optionData.id !== undefined && optionData.id !== '') {\n\t\t\t\ttemplate = $(optionData.element.dataset.template);\n\t\t\t\tif (optionData.element.dataset.state !== undefined) {\n\t\t\t\t\t//check if element has icons with different states\n\t\t\t\t\tif (optionData.element.dataset.state === 'active') {\n\t\t\t\t\t\ttemplate\n\t\t\t\t\t\t\t.find('.js-select-option-event')\n\t\t\t\t\t\t\t.removeClass(optionData.element.dataset.iconInactive)\n\t\t\t\t\t\t\t.addClass(optionData.element.dataset.iconActive);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttemplate\n\t\t\t\t\t\t\t.find('.js-select-option-event')\n\t\t\t\t\t\t\t.removeClass(optionData.element.dataset.iconActive)\n\t\t\t\t\t\t\t.addClass(optionData.element.dataset.iconInactive);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn template;\n\t\t},\n\t\t/**\n\t\t * Register select sortable\n\t\t * @param select\n\t\t * @param params\n\t\t */\n\t\tregisterSelectSortable(select, params) {\n\t\t\tthis.sortSelectOptions(select);\n\t\t\tthis.registerSortEvent(select, params.sortableCb);\n\t\t},\n\t\t/**\n\t\t * Sort elements (options) in select by data-sort-index\n\t\t * @param {jQuery} select2 element\n\t\t */\n\t\tsortSelectOptions(select) {\n\t\t\tselect\n\t\t\t\t.find('option[data-sort-index]')\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\treturn $(b).data('sort-index') < $(a).data('sort-index') ? 1 : -1;\n\t\t\t\t})\n\t\t\t\t.appendTo(select);\n\t\t},\n\t\t/**\n\t\t * Register select drag and drop sorting\n\t\t * @param {jQuery} select2 element\n\t\t * @param {function} callback function\n\t\t */\n\t\tregisterSortEvent(select, cb = () => {}) {\n\t\t\tlet ul = select.next('.select2-container').first('ul.select2-selection__rendered');\n\t\t\tul.sortable({\n\t\t\t\titems: 'li:not(.select2-search__field)',\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tstop: function () {\n\t\t\t\t\t$(ul.find('.select2-selection__choice').get().reverse()).each(function () {\n\t\t\t\t\t\tlet optionTitle = $(this).attr('title');\n\t\t\t\t\t\tselect.find('option').each(function () {\n\t\t\t\t\t\t\tif ($(this).text() === optionTitle) {\n\t\t\t\t\t\t\t\tselect.prepend($(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tcb(select);\n\t\t\t\t\tselect.trigger('sortable:change');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register icons events in select2 options\n\t\t * @param selectElement\n\t\t */\n\t\tregisterIconsEvents(selectElement) {\n\t\t\tselectElement.on('select2:selecting', (event) => {\n\t\t\t\tlet currentTarget = $(event.params.args.originalEvent.target);\n\t\t\t\tif (!currentTarget.hasClass('js-select-option-event') && !currentTarget.is('path')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (currentTarget.is('path')) {\n\t\t\t\t\t//svg target fix\n\t\t\t\t\tcurrentTarget = currentTarget.closest('.js-select-option-event');\n\t\t\t\t}\n\t\t\t\tlet currentElementData = $(event.params.args.data.element).data(),\n\t\t\t\t\toptionElement = $(event.params.args.data.element),\n\t\t\t\t\tprogressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request(currentElementData.url)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tif (response && response.result) {\n\t\t\t\t\t\t\tif (optionElement.attr('data-state') === 'active') {\n\t\t\t\t\t\t\t\toptionElement.attr('data-state', 'inactive');\n\t\t\t\t\t\t\t\tcurrentTarget.toggleClass(currentElementData.iconActive + ' ' + currentElementData.iconInactive);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\toptionElement.attr('data-state', 'active');\n\t\t\t\t\t\t\t\tcurrentTarget.toggleClass(currentElementData.iconInactive + ' ' + currentElementData.iconActive);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (response.message) {\n\t\t\t\t\t\t\t\tapp.showNotify({ text: response.message, type: 'success' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (response && response.message) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: response.message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show lazy select based on data passed in js.\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t * @param   {object}  params         contains selectParams object, lazyElements number, data array\n\t\t */\n\t\tshowLazySelect(selectElement, params) {\n\t\t\t$.fn.select2.amd.require(['select2/data/array', 'select2/utils'], (ArrayData, Utils) => {\n\t\t\t\tfunction CustomData($element, params) {\n\t\t\t\t\tCustomData.__super__.constructor.call(this, $element, params);\n\t\t\t\t}\n\t\t\t\tUtils.Extend(CustomData, ArrayData);\n\t\t\t\tCustomData.prototype.query = (options, callback) => {\n\t\t\t\t\tlet results = [];\n\t\t\t\t\tif (options.term && options.term !== '') {\n\t\t\t\t\t\tresults = params.data.filter((e) => {\n\t\t\t\t\t\t\treturn e.text.toUpperCase().indexOf(options.term.toUpperCase()) >= 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresults = params.data;\n\t\t\t\t\t}\n\t\t\t\t\tif (!('page' in options)) {\n\t\t\t\t\t\toptions.page = 1;\n\t\t\t\t\t}\n\t\t\t\t\tlet data = {};\n\t\t\t\t\tdata.results = results.slice((options.page - 1) * params.lazyElements, options.page * params.lazyElements);\n\t\t\t\t\tdata.pagination = {};\n\t\t\t\t\tdata.pagination.more = options.page * params.lazyElements < results.length;\n\t\t\t\t\tcallback(data);\n\t\t\t\t};\n\t\t\t\tparams.selectParams = Object.assign(params.selectParams, {\n\t\t\t\t\tajax: {},\n\t\t\t\t\tdataAdapter: CustomData\n\t\t\t\t});\n\t\t\t\tselectElement.addClass('js-lazy-select-active');\n\t\t\t\tthis.showSelect2ElementView(selectElement, params.selectParams);\n\t\t\t\tlet selectedOption = selectElement.data('selected-value');\n\t\t\t\tif (selectedOption) {\n\t\t\t\t\tlet text = selectedOption;\n\t\t\t\t\tif (\n\t\t\t\t\t\tselectElement.data('fieldinfo').picklistvalues.hasOwnProperty(selectedOption) &&\n\t\t\t\t\t\t!selectElement.get(0).dataset.templateResult\n\t\t\t\t\t) {\n\t\t\t\t\t\ttext = selectElement.data('fieldinfo').picklistvalues[selectedOption];\n\t\t\t\t\t}\n\t\t\t\t\tthis.createSelectedOption(selectElement, text, selectedOption);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register lazy select options\n\t\t *\n\t\t * @param   {object}  selectElement  [selectElement description]\n\t\t *\n\t\t * @return  {object}                 [return description]\n\t\t */\n\t\tregisterLazySelectOptions(selectElement) {\n\t\t\tlet options = [];\n\t\t\tif (\n\t\t\t\tselectElement.data('fieldinfo') &&\n\t\t\t\tselectElement.data('fieldinfo').picklistvalues &&\n\t\t\t\t!selectElement.get(0).dataset.templateResult\n\t\t\t) {\n\t\t\t\toptions = $.map(selectElement.data('fieldinfo').picklistvalues, function (val, key) {\n\t\t\t\t\treturn { id: key, text: val };\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toptions = $.map(selectElement.find('option'), (item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: item.value,\n\t\t\t\t\t\telement: item,\n\t\t\t\t\t\ttext: item.text,\n\t\t\t\t\t\tselected: item.selected,\n\t\t\t\t\t\tdisabled: item.disabled\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn options;\n\t\t},\n\t\t/**\n\t\t * Set value.\n\t\t *\n\t\t * @param   {object}  selectElement  [selectElement description]\n\t\t * @param   {string}  searchValue\n\t\t * @param   {string}  type           value|text|all\n\t\t *\n\t\t * @return  {boolean|string}         false or set value\n\t\t */\n\t\tsetValue(selectElement, searchValue, type = 'value') {\n\t\t\tconst option = this.findOption(selectElement, searchValue, type);\n\t\t\tif (!option) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (selectElement.hasClass('js-lazy-select-active')) {\n\t\t\t\tthis.createSelectedOption(selectElement, option.text, option.value);\n\t\t\t} else {\n\t\t\t\tselectElement.val(option.value).trigger('change');\n\t\t\t}\n\t\t\treturn option.value;\n\t\t},\n\t\t/**\n\t\t * Find option.\n\t\t *\n\t\t * @param   {object}  selectElement  [selectElement description]\n\t\t * @param   {string}  searchValue\n\t\t * @param   {string}  type           value|text|all\n\t\t *\n\t\t * @return  {boolean|object}         false or option object\n\t\t */\n\t\tfindOption(selectElement, searchValue, type = 'value') {\n\t\t\tlet foundOption = false;\n\t\t\tconst selectValues = this.getSelectOptions(selectElement);\n\t\t\tconst getFieldValueFromText = () => Object.keys(selectValues).find((key) => selectValues[key] === searchValue);\n\t\t\tconst valueExists = () => selectValues.hasOwnProperty(searchValue);\n\t\t\tconst createOption = () => {\n\t\t\t\treturn { text: selectValues[foundOption], value: foundOption };\n\t\t\t};\n\t\t\tswitch (type) {\n\t\t\t\tcase 'value':\n\t\t\t\t\tif (valueExists()) {\n\t\t\t\t\t\tfoundOption = searchValue;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tfoundOption = getFieldValueFromText();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\t\tif (valueExists()) {\n\t\t\t\t\t\tfoundOption = searchValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfoundOption = getFieldValueFromText();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn foundOption ? createOption() : false;\n\t\t},\n\t\t/**\n\t\t * Get select options\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t *\n\t\t * @return  {object}                 [return description]\n\t\t */\n\t\tgetSelectOptions(selectElement) {\n\t\t\tif (selectElement.data('fieldinfo') && selectElement.data('fieldinfo').picklistvalues) {\n\t\t\t\treturn selectElement.data('fieldinfo').picklistvalues;\n\t\t\t} else {\n\t\t\t\tlet optionsObject = {};\n\t\t\t\tselectElement.find('option').each((i, element) => {\n\t\t\t\t\toptionsObject[element.value] = element.text;\n\t\t\t\t});\n\t\t\t\treturn optionsObject;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Create selected option\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t * @param   {string}  text\n\t\t * @param   {string}  value\n\t\t */\n\t\tcreateSelectedOption(selectElement, text, value) {\n\t\t\tconst newOption = new Option(text, value, true, true);\n\t\t\tselectElement.append(newOption).trigger('change');\n\t\t}\n\t},\n\tMultiImage: {\n\t\tcurrentFileUploads: 0,\n\t\tregister(container) {\n\t\t\t$('.js-multi-image', container).each(function () {\n\t\t\t\tnew MultiImage($(this));\n\t\t\t});\n\t\t}\n\t},\n\tMultiEmail: {\n\t\tregister($container) {\n\t\t\t$('.js-multi-email', $container).each((idx, multiEmailField) => {\n\t\t\t\tlet $multiEmailField = $(multiEmailField);\n\t\t\t\t$multiEmailField.on('change', '.js-multi-email', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-consenticon', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.toggleConsent($(e.target));\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-add', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.addItem($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-remove', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.removeItem($(e.target));\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Converts data to json and set MultiEmail field value\n\t\t * @param $multiEmailField\n\t\t */\n\t\tparseToJSON($multiEmailField) {\n\t\t\tlet value = [];\n\t\t\t$('.js-multi-email-item', $multiEmailField).each((idx, item) => {\n\t\t\t\tlet $item = $(item);\n\t\t\t\tlet email = $('.js-multi-email', $item).val();\n\t\t\t\tlet consent = $('.js-multi-email-consent', $item).is(':visible') ? 1 : 0;\n\t\t\t\tif (email) {\n\t\t\t\t\tvalue.push({\n\t\t\t\t\t\te: email,\n\t\t\t\t\t\to: consent\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-multi-email-value', $multiEmailField).val(JSON.stringify(value));\n\t\t},\n\t\t/**\n\t\t * Adds a new item: email box and consent checkbox\n\t\t * @param $multiEmailField\n\t\t */\n\t\taddItem($multiEmailField) {\n\t\t\tlet $newItem = $('.js-multi-email-item', $multiEmailField).first().clone(false, false);\n\t\t\tif ($newItem) {\n\t\t\t\t$('.js-multi-email', $newItem).attr('value', '').val('');\n\t\t\t\t$('.js-multi-email-consent', $newItem).val('');\n\t\t\t\t$('.js-multi-email-consenticon', $newItem).hide();\n\t\t\t\t$('.js-multi-email-consenticon', $newItem).first().show();\n\t\t\t\t$('.js-multi-email-items', $multiEmailField).append($newItem);\n\t\t\t\t$('.js-multi-email-remove', $multiEmailField).show();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Removes an item: email box and consent checkbox\n\t\t * @param $deleteBtn\n\t\t */\n\t\tremoveItem($deleteBtn) {\n\t\t\tlet $multiEmailField = $deleteBtn.closest('.js-multi-email');\n\t\t\tif (1 < $('.js-multi-email-item', $multiEmailField).length) {\n\t\t\t\t$deleteBtn.closest('.js-multi-email-item').remove();\n\t\t\t}\n\t\t\tif (1 == $('.js-multi-email-item', $multiEmailField).length) {\n\t\t\t\t$('.js-multi-email-remove', $multiEmailField).hide();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Toggle consent boxes\n\t\t * @param $consentBox\n\t\t */\n\t\ttoggleConsent($consentBox) {\n\t\t\tlet $item = $consentBox.closest('.js-multi-email-item');\n\t\t\t$('.js-multi-email-consenticon', $item).toggle();\n\t\t}\n\t},\n\tMultiDependField: {\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregister(container) {\n\t\t\tcontainer.find('.js-multi-field').each((index, element) => {\n\t\t\t\tconst inputElement = $(element);\n\t\t\t\tconst fields = inputElement.find('.js-multi-field-val').data('fields');\n\t\t\t\tinputElement.find('.js-multi-field-add-item').on('click', (e) => {\n\t\t\t\t\tApp.Fields.MultiDependField.addRow(inputElement, fields);\n\t\t\t\t});\n\t\t\t\tApp.Fields.MultiDependField.registerRow(inputElement, fields);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register row\n\t\t * @param {jQuery} inputElement\n\t\t * @param {Object} fields\n\t\t */\n\t\tregisterRow(inputElement, fields) {\n\t\t\tfor (let i in fields) {\n\t\t\t\tinputElement.find('[name=\"' + fields[i] + '\"]').on('change', (e) => {\n\t\t\t\t\tApp.Fields.MultiDependField.parseToJson(inputElement, fields);\n\t\t\t\t});\n\t\t\t}\n\t\t\tinputElement.find('.js-remove-item').on('click', (e) => {\n\t\t\t\tApp.Fields.MultiDependField.removeRow($(e.target), inputElement);\n\t\t\t\tApp.Fields.MultiDependField.parseToJson(inputElement.closest('.js-multi-field'), fields);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Invoked after clicking the remove button\n\t\t * @param {jQuery} element\n\t\t * @param {jQuery} container\n\t\t */\n\t\tremoveRow(element, container) {\n\t\t\tif (container.find('.js-multi-field-row').length > 1) {\n\t\t\t\telement.closest('.js-multi-field-row').remove();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Convert data to json\n\t\t * @param {jQuery} element\n\t\t * @param {Object} fields\n\t\t */\n\t\tparseToJson(element, fields) {\n\t\t\tlet arr = [];\n\t\t\tlet allFields = $(element).find('.js-multi-field-row');\n\t\t\tlet arrayLength = allFields.length;\n\t\t\tfor (let i = 0; i < arrayLength; ++i) {\n\t\t\t\tlet partData = {},\n\t\t\t\t\tskip = false;\n\t\t\t\tfor (let k in fields) {\n\t\t\t\t\tpartData[fields[k]] = $(allFields[i])\n\t\t\t\t\t\t.find('[name=\"' + fields[k] + '\"]')\n\t\t\t\t\t\t.val();\n\t\t\t\t\tif (k == 0 && partData[fields[k]] === '') {\n\t\t\t\t\t\tskip = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!skip) {\n\t\t\t\t\tarr.push(partData);\n\t\t\t\t}\n\t\t\t}\n\t\t\t$(element).find('input.js-multi-field-val').val(JSON.stringify(arr));\n\t\t},\n\t\t/**\n\t\t * Invoked after clicking the add button\n\t\t * @param {jQuery} container\n\t\t * @param {Object} fields\n\t\t */\n\t\taddRow(container, fields) {\n\t\t\tlet newField;\n\t\t\tlet lastField = container.find('.js-multi-field-row').last();\n\t\t\tlet selectFields = lastField.find('select.select2');\n\t\t\tif (selectFields.length) {\n\t\t\t\tselectFields.select2('destroy').removeAttr('data-select2-id').find('option').removeAttr('data-select2-id');\n\t\t\t\tnewField = lastField.clone(false, false);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(lastField.find('select.select2'));\n\t\t\t} else {\n\t\t\t\tnewField = lastField.clone(false, false);\n\t\t\t}\n\t\t\tfor (let i in fields) {\n\t\t\t\tnewField.find('[name=\"' + fields[i] + '\"]').val('');\n\t\t\t}\n\t\t\tnewField.insertAfter(container.find('.js-multi-field-row').last());\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(newField.find('select.select2'));\n\t\t\tApp.Fields.Date.register(newField);\n\t\t\tApp.Fields.MultiDependField.registerRow(container, fields);\n\t\t}\n\t},\n\tDependentSelect: {\n\t\t/**\n\t\t * Get options for select from array of items (exclude children)\n\t\t * @param {Array} data {value,text,selected, children => data[]}\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateOptionsFromData(data) {\n\t\t\tlet html = '';\n\t\t\tfor (let item of data) {\n\t\t\t\tlet selected = false;\n\t\t\t\tif (typeof item.selected !== 'undefined' && item.selected) {\n\t\t\t\t\tselected = true;\n\t\t\t\t}\n\t\t\t\thtml += `<option value=${item.value}${selected ? ' selected' : ''}>${item.text}</option>`;\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\t\t/**\n\t\t * Register dependent selects\n\t\t *\n\t\t * @param {jQuery} container with data- options:\n\t\t * data-slave: selector for slave element\n\t\t * data-data: array of options with children elements for slave select (see getOptions for data format)\n\t\t * data-sort: do we want to sort slave options by text when master has two items selected? if not - just append options to slave\n\t\t */\n\t\tregister(container) {\n\t\t\tif (typeof container === 'undefined' || typeof container.length === 'undefined' || !container.length) {\n\t\t\t\treturn app.errorLog('Dependend select field container is missing.');\n\t\t\t}\n\t\t\tcontainer.each(function () {\n\t\t\t\tconst masterSelect = $(this),\n\t\t\t\t\tslaveSelect = $(masterSelect.data('slave')),\n\t\t\t\t\tdata = masterSelect.data('data');\n\t\t\t\tif (!slaveSelect.length) {\n\t\t\t\t\treturn app.errorLog('Could not find slave select element (data-slave attribute)');\n\t\t\t\t}\n\t\t\t\tif (!data) {\n\t\t\t\t\treturn app.errorLog('Could not load data (data-data attribute)');\n\t\t\t\t}\n\t\t\t\tmasterSelect.on('change', (e) => {\n\t\t\t\t\tlet values = $(e.target).val();\n\t\t\t\t\tif (!Array.isArray(values)) {\n\t\t\t\t\t\tvalues = [values];\n\t\t\t\t\t}\n\t\t\t\t\tlet children = [];\n\t\t\t\t\tfor (let value of values) {\n\t\t\t\t\t\tfor (let item of data) {\n\t\t\t\t\t\t\tif (item.value === value) {\n\t\t\t\t\t\t\t\tif (typeof item.children !== 'undefined') {\n\t\t\t\t\t\t\t\t\titem.children.forEach((child) => {\n\t\t\t\t\t\t\t\t\t\tchildren.push(child);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (masterSelect.data('sort')) {\n\t\t\t\t\t\tchildren.sort((a, b) => {\n\t\t\t\t\t\t\treturn a.text.localeCompare(b.text);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tslaveSelect.html(App.Fields.DependentSelect.generateOptionsFromData(children));\n\t\t\t\t});\n\t\t\t\tmasterSelect.html(App.Fields.DependentSelect.generateOptionsFromData(data));\n\t\t\t});\n\t\t}\n\t},\n\tGantt: {\n\t\tregister(container, data) {\n\t\t\treturn new GanttField(container, data);\n\t\t}\n\t},\n\tInteger: {\n\t\t/**\n\t\t * Function returns the integer in user specified format.\n\t\t * @param {number} value\n\t\t * @param {int} numberOfDecimal\n\t\t * @returns {string}\n\t\t */\n\t\tformatToDisplay(value) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tlet groupSeparator = CONFIG.currencyGroupingSeparator;\n\t\t\tlet groupingPattern = CONFIG.currencyGroupingPattern;\n\t\t\tvalue = parseFloat(value).toFixed(1);\n\t\t\tlet integer = value.toString().split('.')[0];\n\t\t\tif (integer.length > 3) {\n\t\t\t\tif (groupingPattern === '123,456,789') {\n\t\t\t\t\tinteger = integer.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1' + groupSeparator);\n\t\t\t\t} else if (groupingPattern === '123456,789') {\n\t\t\t\t\tinteger = integer.slice(0, -3) + groupSeparator + integer.slice(-3);\n\t\t\t\t} else if (groupingPattern === '12,34,56,789') {\n\t\t\t\t\tinteger =\n\t\t\t\t\t\tinteger.slice(0, -3).replace(/(\\d)(?=(\\d\\d)+(?!\\d))/g, '$1' + groupSeparator) +\n\t\t\t\t\t\tgroupSeparator +\n\t\t\t\t\t\tinteger.slice(-3);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn integer;\n\t\t}\n\t},\n\tDouble: {\n\t\t/**\n\t\t * Function returns the currency in user specified format.\n\t\t * @param {number} value\n\t\t * @param {boolean} numberOfDecimal\n\t\t * @param {int} numberOfDecimal\n\t\t * @returns {string}\n\t\t */\n\t\tformatToDisplay(value, fixed = true, numberOfDecimal = CONFIG.noOfCurrencyDecimals) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tlet strDecimal = value.toString().split('.')[1];\n\t\t\tlet numberOfZerosAtTheEnd = 0;\n\t\t\tif (typeof strDecimal !== 'undefined') {\n\t\t\t\tfor (let i = strDecimal.length - 1; i > 0; --i) {\n\t\t\t\t\tif (strDecimal[i] == '0') {\n\t\t\t\t\t\tnumberOfZerosAtTheEnd++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = parseFloat(value);\n\t\t\tif (fixed) {\n\t\t\t\tlet base = 10 ** numberOfDecimal;\n\t\t\t\tvalue =\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tvalue * base + Math.sign(value) * 0.1 ** (17 - 2 - (Math.round(value * base) / base).toString().length)\n\t\t\t\t\t) / base;\n\t\t\t}\n\t\t\tlet splittedFloat = value.toString().split('.');\n\t\t\tlet integer = splittedFloat[0];\n\t\t\tif (integer !== '-0' && integer !== '0') {\n\t\t\t\tinteger = App.Fields.Integer.formatToDisplay(integer);\n\t\t\t}\n\t\t\tlet decimal = splittedFloat[1];\n\t\t\tif (numberOfDecimal) {\n\t\t\t\tif (!CONFIG.truncateTrailingZeros && decimal) {\n\t\t\t\t\tfor (let i = 0; i < numberOfZerosAtTheEnd && decimal.length < numberOfDecimal; ++i) {\n\t\t\t\t\t\tdecimal += '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (decimal) {\n\t\t\t\t\treturn integer + CONFIG.currencyDecimalSeparator + decimal;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn integer;\n\t\t},\n\t\t/**\n\t\t * Function to get value for db format.\n\t\t * @param {string} value\n\t\t * @returns {number}\n\t\t */\n\t\tformatToDb(value) {\n\t\t\tif (value == undefined || value == '') {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tvalue = value.toString();\n\t\t\tvalue = value.split(CONFIG.currencyGroupingSeparator).join('');\n\t\t\tvalue = value.replace(/\\s/g, '').replace(CONFIG.currencyDecimalSeparator, '.');\n\t\t\treturn parseFloat(value);\n\t\t}\n\t},\n\t/**\n\t * Tree\n\t */\n\tTree: class Tree {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-tree-container')) {\n\t\t\t\treturn new Tree(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-tree-container').each((n, e) => {\n\t\t\t\tinstances.push(new Tree($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tthis.modalEvent();\n\t\t\tthis.autoCompleteEvent();\n\t\t\tthis.clearSelectionEvent();\n\t\t}\n\t\t/**\n\t\t * Function which will handle modal view with tree\n\t\t */\n\t\tmodalEvent() {\n\t\t\t$('.js-tree-modal', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (_) => {\n\t\t\t\t\tlet sourceFieldElement = this.container.find('input.sourceField'),\n\t\t\t\t\t\tfieldDisplayElement = this.container.find('input[name=\"' + sourceFieldElement.attr('name') + '_display\"]');\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: sourceFieldElement.data('modulename'),\n\t\t\t\t\t\tview: 'TreeModal',\n\t\t\t\t\t\ttemplate: sourceFieldElement.data('treetemplate'),\n\t\t\t\t\t\tfieldName: sourceFieldElement.attr('name'),\n\t\t\t\t\t\tmultiple: sourceFieldElement.data('multiple'),\n\t\t\t\t\t\tvalue: sourceFieldElement.val()\n\t\t\t\t\t}).done(function (requestData) {\n\t\t\t\t\t\tapp.modalEvents['treeModal'] = function (modal, instance) {\n\t\t\t\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\t\t\t\tsourceFieldElement.val(responseData.id);\n\t\t\t\t\t\t\t\tfieldDisplayElement.val(responseData.name).attr('readonly', true);\n\t\t\t\t\t\t\t\tsourceFieldElement.trigger('change');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\tapp.showModalWindow(requestData, { modalId: 'treeModal' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t */\n\t\tautoCompleteEvent() {\n\t\t\tlet autoCompleteElement = $('input.treeAutoComplete', this.container);\n\t\t\tif (autoCompleteElement.hasClass('ui-autocomplete-input')) {\n\t\t\t\tautoCompleteElement.autocomplete('destroy');\n\t\t\t}\n\t\t\tautoCompleteElement.autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term.toLowerCase();\n\t\t\t\t\tlet parentElem = inputElement.closest('.js-tree-container');\n\t\t\t\t\tlet sourceFieldElement = $('input.sourceField', parentElem);\n\t\t\t\t\tlet fieldInfo = sourceFieldElement.data('fieldinfo');\n\t\t\t\t\tlet allValues = fieldInfo.picklistvalues;\n\t\t\t\t\tlet responseDataList = [];\n\t\t\t\t\tfor (let id in allValues) {\n\t\t\t\t\t\tif (allValues[id].toLowerCase().indexOf(searchValue) >= 0) {\n\t\t\t\t\t\t\tresponseDataList.push({ label: allValues[id], value: id, id: id });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (responseDataList.length <= 0) {\n\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\tresponseDataList.push({\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tresponse(responseDataList);\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\tif (typeof selectedItemData.type !== 'undefined' && selectedItemData.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedItemData.name = selectedItemData.value;\n\t\t\t\t\tthis.value = selectedItemData.label;\n\t\t\t\t\tlet element = $(this).attr('readonly', true);\n\t\t\t\t\telement.closest('.js-tree-container').find('input.sourceField').val(selectedItemData.id).trigger('change');\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t//To Make the menu come up in the case of quick create\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Function which will register reference field clear event\n\t\t */\n\t\tclearSelectionEvent() {\n\t\t\t$('.clearTreeSelection', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tlet fieldElement = this.container.find('.sourceField');\n\t\t\t\t\t$('input[name=\"' + fieldElement.attr('name') + '_display\"]', this.container)\n\t\t\t\t\t\t.removeAttr('readonly')\n\t\t\t\t\t\t.val('');\n\t\t\t\t\tfieldElement.val('').trigger('change');\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * TimePeriod class\n\t *\n\t * Save value as time period in 00:m format where '0' is a number of units\n\t * ':' is just separator\n\t * and 'm' is time scale/period in php date format - available formats are [m, d, H, i, s]\n\t * @example 10:i = 10 minutes, 2:m = 2 months, 20:H = 20 hours and so on...\n\t */\n\tTimePeriod: class TimePeriod {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.value = container.val();\n\t\t\tif (this.value) {\n\t\t\t\tconst split = this.value.split(':');\n\t\t\t\tthis.time = Number(split[0]);\n\t\t\t\tthis.period = split[1];\n\t\t\t} else {\n\t\t\t\tthis.time = 0;\n\t\t\t\tthis.period = 'H';\n\t\t\t\tthis.value = '0:H';\n\t\t\t\tcontainer.val(this.value);\n\t\t\t}\n\t\t\tthis.injectContent();\n\t\t}\n\n\t\t/**\n\t\t * Register time period field/s\n\t\t *\n\t\t * @param {jQuery} container it could be input type hidden with js-time-period class\n\t\t *                           or container that contains multiple js-time-period inputs\n\t\t *\n\t\t * @example <input type=\"hidden\" name=\"field_name\" class=\"js-time-period\">\n\t\t *\n\t\t * @returns {TimePeriod|TimePeriod[]} instance/s\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('c-time-period')) {\n\t\t\t\treturn new TimePeriod(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.c-time-period').each((index, value) => {\n\t\t\t\tinstances.push(new TimePeriod($(value)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\n\t\t/**\n\t\t * Inject content next to container\n\t\t *\n\t\t * @returns  {jQuery}  created element with input and select\n\t\t */\n\t\tinjectContent() {\n\t\t\tlet content = `<div class=\"input-group c-time-period\" data-js=\"container\">\n\t\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t\t<a href class=\"btn btn-default c-time-period-input-modifier c-time-period-input-modifier--minus-1\"><span class=\"fas fa-minus\"></span></a>\n\t\t\t\t</div>\n\t\t\t\t<input type=\"number\" class=\"form-control c-time-period-input\" min=\"0\" value=\"${this.time}\"\n\t\t\t\t\tdata-validation-engine=\"validate[required,funcCall[Vtiger_Integer_Validator_Js.invokeValidation]]\">\n\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t<a href class=\"btn btn-default c-time-period-input-modifier c-time-period-input-modifier--plus-1\"><span class=\"fas fa-plus\"></span></a>\n\t\t\t\t\t<select class=\"select2 js-time-period-select time-period-${this.container.attr('name')}\">\n\t\t\t\t\t\t<option value=\"d\"${this.period === 'd' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_DAYS_FULL')}</option>\n\t\t\t\t\t\t<option value=\"H\"${this.period === 'H' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_HOURS_FULL')}</option>\n\t\t\t\t\t\t<option value=\"i\"${this.period === 'i' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_MINUTES_FULL')}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t\t\tthis.element = this.container.parent().append(content);\n\t\t\tthis.input = this.element.find('.c-time-period-input').eq(0);\n\t\t\tthis.select = this.element.find('.select2').eq(0);\n\t\t\tthis.plus1btn = this.element.find('.c-time-period-input-modifier--plus-1').eq(0);\n\t\t\tthis.minus1btn = this.element.find('.c-time-period-input-modifier--minus-1').eq(0);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.select, { width: '100px' });\n\t\t\tthis.registerEvents();\n\t\t\treturn this.element;\n\t\t}\n\n\t\t/**\n\t\t * Register events\n\t\t */\n\t\tregisterEvents() {\n\t\t\tthis.input.on('input', this.onChange.bind(this));\n\t\t\tthis.select.on('change', this.onChange.bind(this));\n\t\t\tthis.plus1btn.on('click', this.onPlus1Click.bind(this));\n\t\t\tthis.minus1btn.on('click', this.onMinus1Click.bind(this));\n\t\t}\n\n\t\t/**\n\t\t * On change event\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonChange(event) {\n\t\t\tthis.time = this.input.val();\n\t\t\tthis.period = this.select.val();\n\t\t\tthis.value = this.input.val() + ':' + this.select.val();\n\t\t\tthis.container.val(this.value);\n\t\t}\n\n\t\t/**\n\t\t * Plus 1 button click event handler\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonPlus1Click(event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tthis.input.val(Number(this.input.val()) + 1);\n\t\t\tthis.onChange();\n\t\t}\n\n\t\t/**\n\t\t * Minus 1 button click event handler\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonMinus1Click(event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tif (Number(this.input.val()) > 0) {\n\t\t\t\tthis.input.val(Number(this.input.val()) - 1);\n\t\t\t\tthis.onChange();\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Multi currency\n\t */\n\tMultiCurrency: class MultiCurrency {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-multicurrency-container')) {\n\t\t\t\treturn new MultiCurrency(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-multicurrency-container').each((n, e) => {\n\t\t\t\tinstances.push(new MultiCurrency($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-multicurrency-event', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tlet modal = $('<form>').append(this.container.find('.js-currencies-container .js-currencies-modal').clone());\n\t\t\t\t\tthis.registerEnableCurrencyEvent(modal);\n\t\t\t\t\tthis.registerResetCurrencyEvent(modal);\n\t\t\t\t\tthis.loadData(modal);\n\t\t\t\t\tthis.calculateConversionRate(modal);\n\t\t\t\t\tapp.showModalWindow({\n\t\t\t\t\t\tdata: modal,\n\t\t\t\t\t\tcss: {},\n\t\t\t\t\t\tcb: (data) => {\n\t\t\t\t\t\t\tlet form = data.parent();\n\t\t\t\t\t\t\tform.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t\t\t\tform.on('submit', (e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (form.validationEngine('validate') && this.saveCurrencies(form)) {\n\t\t\t\t\t\t\t\t\tlet id = form.closest('.js-modal-container').attr('id');\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow(null, id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tthis.getField().on('focusout', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\telement.formatNumber();\n\t\t\t\tthis.setPrice(element.val());\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Loading data\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tloadData(modalContainer) {\n\t\t\tlet values = JSON.parse(this.getFieldToSave().val());\n\t\t\tlet baseCurrencyId = values['currencyId'] || CONFIG.currencyId;\n\t\t\tif (values['currencies'] === undefined) {\n\t\t\t\tvalues['currencies'] = [];\n\t\t\t\tvalues['currencies'][baseCurrencyId] = { price: 0 };\n\t\t\t}\n\t\t\tfor (let i in values['currencies']) {\n\t\t\t\tlet row = modalContainer.find('[data-currency-id=\"' + i + '\"]');\n\t\t\t\tif (row.length) {\n\t\t\t\t\trow.find('.js-enable-currency').prop('checked', true);\n\t\t\t\t\trow.find('.js-currency-reset,.js-base-currency,[name^=\"currencies[\"]').prop('disabled', false);\n\t\t\t\t\trow.find('.js-converted-price').val(values['currencies'][i]['price']);\n\t\t\t\t\tif (i == baseCurrencyId) {\n\t\t\t\t\t\trow.find('.js-base-currency').prop('checked', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Set value\n\t\t * @param {number} value\n\t\t */\n\t\tsetPrice(value) {\n\t\t\tlet values = JSON.parse(this.getFieldToSave().val());\n\t\t\tlet baseCurrencyId = values['currencyId'] || CONFIG.currencyId;\n\t\t\tvalues['currencies'] = values['currencies'] || {};\n\t\t\tvalues['currencies'][baseCurrencyId] = { price: value };\n\t\t\tvalues['currencyId'] = baseCurrencyId;\n\t\t\tvalues = $.extend({}, values);\n\t\t\tthis.getFieldToSave().val(JSON.stringify($.extend({}, values)));\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-multicurrency-field');\n\t\t}\n\t\t/**\n\t\t * Gets field to save\n\t\t */\n\t\tgetFieldToSave() {\n\t\t\treturn this.container.find('.js-multicurrency-field-to-save');\n\t\t}\n\t\t/**\n\t\t * Save\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tsaveCurrencies(modalContainer) {\n\t\t\tlet enabledBaseCurrency = modalContainer.find('.js-enable-currency').filter(':checked');\n\t\t\tif (enabledBaseCurrency.length < 1) {\n\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_SELECT_BASE_CURRENCY_FOR_PRODUCT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet selectedBaseCurrency = modalContainer.find('.js-base-currency').filter(':checked');\n\t\t\tif (selectedBaseCurrency.length < 1) {\n\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_ENABLE_BASE_CURRENCY_FOR_PRODUCT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet selectedRow = selectedBaseCurrency.closest('tr');\n\t\t\tlet symbol = selectedRow.data('currency-symbol');\n\t\t\tthis.container.find('.js-currency').text(symbol);\n\t\t\tlet data = {};\n\t\t\tdata['currencies'] = {};\n\t\t\tenabledBaseCurrency.closest('tr').each((n, e) => {\n\t\t\t\tlet row = $(e),\n\t\t\t\t\tcurrencyId = row.data('currencyId');\n\t\t\t\tdata['currencies'][currencyId] = {};\n\t\t\t\tdata['currencies'][currencyId]['price'] = row.find('.js-converted-price').val();\n\t\t\t\tif (row.find('.js-base-currency:checked').length) {\n\t\t\t\t\tdata['currencyId'] = currencyId;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.getFieldToSave().val(JSON.stringify(data));\n\t\t\tthis.getField().val(selectedRow.find('.js-converted-price').val());\n\t\t\tselectedBaseCurrency.prop('checked', false);\n\t\t\treturn true;\n\t\t}\n\t\t/**\n\t\t * Calculate\n\t\t * @param {jQuery} container\n\t\t */\n\t\tcalculateConversionRate(container) {\n\t\t\tlet baseCurrencyConversionRate = container\n\t\t\t\t.find('.js-base-currency')\n\t\t\t\t.filter(':checked')\n\t\t\t\t.closest('tr')\n\t\t\t\t.find('.js-conversion-rate');\n\t\t\tif (baseCurrencyConversionRate.val() == '1') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet baseCurrencyRatePrevValue = baseCurrencyConversionRate.getNumberFromValue();\n\t\t\tcontainer.find('.js-conversion-rate').each(function (key, domElement) {\n\t\t\t\tlet element = $(domElement);\n\t\t\t\tif (!element.is(baseCurrencyConversionRate)) {\n\t\t\t\t\telement.val(\n\t\t\t\t\t\tApp.Fields.Double.formatToDisplay(element.getNumberFromValue() / baseCurrencyRatePrevValue, false)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tbaseCurrencyConversionRate.val('1');\n\t\t}\n\t\t/**\n\t\t * Function to register event for enabling currency on checkbox checked\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterEnableCurrencyEvent(container) {\n\t\t\tcontainer.on('change', '.js-enable-currency', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentRow = element.closest('tr');\n\t\t\t\tif (element.is(':checked')) {\n\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\tlet price = this.getField().getNumberFromValue() * parentRow.find('.js-conversion-rate').getNumberFromValue();\n\t\t\t\t\t$('input', parentRow).removeAttr('disabled');\n\t\t\t\t\tparentRow.find('.js-currency-reset').removeAttr('disabled');\n\t\t\t\t\tparentRow.find('.js-converted-price').val(App.Fields.Double.formatToDisplay(price));\n\t\t\t\t} else {\n\t\t\t\t\tif (parentRow.find('.js-base-currency').is(':checked')) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t'\"' +\n\t\t\t\t\t\t\t\tparentRow.find('.js-currency-name').text() +\n\t\t\t\t\t\t\t\t'\" ' +\n\t\t\t\t\t\t\t\tapp.vtranslate('JS_BASE_CURRENCY_CHANGED_TO_DISABLE_CURRENCY')\n\t\t\t\t\t\t});\n\t\t\t\t\t\telement.prop('checked', true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tparentRow.find('input').attr('disabled', 'disabled');\n\t\t\t\t\tparentRow.find('.js-currency-reset').attr('disabled', 'disabled');\n\t\t\t\t\telement.removeAttr('disabled checked');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Function to register event for reseting the currencies\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterResetCurrencyEvent(container) {\n\t\t\tcontainer.on('click', '.js-currency-reset', (e) => {\n\t\t\t\tlet parentElem = $(e.currentTarget).closest('tr');\n\t\t\t\tlet price = this.getField().getNumberFromValue() * parentElem.find('.js-conversion-rate').getNumberFromValue();\n\t\t\t\t$('.js-converted-price', parentElem).val(App.Fields.Double.formatToDisplay(price));\n\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * Meeting URL\n\t */\n\tMeetingUrl: class MeetingUrl {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-meeting-container')) {\n\t\t\t\treturn new MeetingUrl(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-meeting-container').each((n, e) => {\n\t\t\t\tinstances.push(new MeetingUrl($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tlet addButton = $('.js-meeting-add', this.container);\n\t\t\tif (!addButton.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet valElement = $('.js-meeting-val', this.container);\n\t\t\taddButton.off('click').on('click', (e) => {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request(this.getUrl(e))\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tlet result = data.result;\n\t\t\t\t\t\tif (result && result.success && result.url) {\n\t\t\t\t\t\t\tvalElement.attr('readonly', true).val(result.url);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t})\n\t\t\t\t\t.fail((_) => {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t\t$('.js-meeting-clear', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tvalElement.attr('readonly', false).val('');\n\t\t\t\t});\n\t\t\tthis.addEventsForDependentFields();\n\t\t}\n\t\t/**\n\t\t * Gets URL\n\t\t */\n\t\tgetUrl(e) {\n\t\t\tlet url = e.currentTarget.dataset.url;\n\t\t\tlet formData = $(e.currentTarget).closest('form').serializeFormData();\n\t\t\tlet expField = e.currentTarget.dataset.expField;\n\t\t\tif (expField && formData && formData[expField]) {\n\t\t\t\tlet date = formData[expField].split(' ');\n\t\t\t\turl += '&exp=' + encodeURIComponent(date[0]);\n\t\t\t}\n\t\t\tlet roomName = e.currentTarget.dataset.roomName;\n\t\t\tif (roomName && formData && formData[roomName]) {\n\t\t\t\turl += '&roomName=' + encodeURIComponent(formData[roomName]);\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\t\t/**\n\t\t * Add events for dependent fields\n\t\t */\n\t\taddEventsForDependentFields() {\n\t\t\tlet addButton = $('.js-meeting-add', this.container);\n\t\t\tlet valElement = $('.js-meeting-val', this.container);\n\t\t\tlet data = addButton.data();\n\t\t\tlet formElement = this.container.closest('form');\n\t\t\tfor (let name of ['expField', 'roomName']) {\n\t\t\t\tlet fieldName = data[name];\n\t\t\t\tif (!fieldName) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tformElement.on('change', `[name=${fieldName}]`, (_) => {\n\t\t\t\t\tif (data['domain'] && valElement.val().indexOf(data['domain']) === 0) {\n\t\t\t\t\t\taddButton.trigger('click');\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_MEETING_URL_CHANGED')\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Changes Json\n\t */\n\tChangesJson: class ChangesJson {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-changesjson-container')) {\n\t\t\t\treturn new ChangesJson(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-changesjson-container').each((_, e) => {\n\t\t\t\tinstances.push(new ChangesJson($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-changesjson-edit', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tlet field = this.getField();\n\t\t\t\t\tlet value = field.val() ? JSON.parse(field.val()) : { record: 0, module: '', changes: [] };\n\t\t\t\t\tlet relatedField = this.getRelatedField();\n\t\t\t\t\tif (relatedField.length) {\n\t\t\t\t\t\tvalue.record = relatedField.val();\n\t\t\t\t\t\tvalue.module = $('input[name=\"popupReferenceModule\"]', relatedField.closest('.fieldValue')).val();\n\t\t\t\t\t}\n\t\t\t\t\tif (!value.record || value.record == 0) {\n\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_LACK_INFORMATION_ABOUT_RECORD') });\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: value.module,\n\t\t\t\t\t\trecord: value.record,\n\t\t\t\t\t\tchanges: value.changes,\n\t\t\t\t\t\tsourceModule: field.data('module'),\n\t\t\t\t\t\tsourceField: field.attr('name'),\n\t\t\t\t\t\tview: 'ChangesJsonModal'\n\t\t\t\t\t})\n\t\t\t\t\t\t.done((requestData) => {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.showModalWindow({\n\t\t\t\t\t\t\t\tdata: requestData,\n\t\t\t\t\t\t\t\tcss: {},\n\t\t\t\t\t\t\t\tcb: (data) => {\n\t\t\t\t\t\t\t\t\tthis.saveData(data, value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail((_) => {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Save data to field\n\t\t */\n\t\tsaveData(container, data) {\n\t\t\tlet form = container.find('form');\n\t\t\tcontainer.on('click', '.js-modal__save', (e) => {\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (!form.find('input[id^=\"selectRow\"]:checked').length) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_NONE_FIELD_MARKED_IN_MASS_EDIT'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet invalidFields = form.data('jqv').InvalidFields;\n\t\t\t\t\tif (invalidFields.length !== 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tform.find('[id^=\"selectRow\"]').each(function (_, checkbox) {\n\t\t\t\t\t\tcheckbox = $(checkbox);\n\t\t\t\t\t\tif (!checkbox.prop('checked')) {\n\t\t\t\t\t\t\tcheckbox\n\t\t\t\t\t\t\t\t.closest('.js-form-row-container')\n\t\t\t\t\t\t\t\t.find('.fieldValue [name]')\n\t\t\t\t\t\t\t\t.each(function (_, element) {\n\t\t\t\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\t\t\t\telement.attr('data-element-name', element.attr('name')).removeAttr('name');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet changeData = form.serializeFormData();\n\t\t\t\t\tdelete changeData['_csrf'];\n\t\t\t\t\tfor (let fieldName in changeData) {\n\t\t\t\t\t\tif (fieldName.substr(-2) === '[]') {\n\t\t\t\t\t\t\tlet fieldNameShort = fieldName.substr(0, fieldName.length - 2);\n\t\t\t\t\t\t\tchangeData[fieldNameShort] = changeData[fieldName];\n\t\t\t\t\t\t\tdelete changeData[fieldName];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata.changes = changeData;\n\t\t\t\t\tthis.getField().val(JSON.stringify(data));\n\t\t\t\t\tapp.hideModalWindow(null, form.closest('.js-modal-container').attr('id'));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-changesjson-value');\n\t\t}\n\t\t/**\n\t\t * Gets related field\n\t\t */\n\t\tgetRelatedField() {\n\t\t\tlet relatedFieldName = this.getField().data('related-field');\n\t\t\treturn this.container.closest('form').find(`[name=${relatedFieldName}]`);\n\t\t}\n\t},\n\t/**\n\t * MultiReference\n\t */\n\tMultiReference: class MultiReference {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-multiReference-container')) {\n\t\t\t\treturn new MultiReference(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-multiReference-container').each((_, e) => {\n\t\t\t\tinstances.push(new MultiReference($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-clear-selection', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.clear();\n\t\t\t\t});\n\t\t\t$('.js-related-popup', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tlet field = this.getField();\n\t\t\t\t\tlet url = field.data('url');\n\t\t\t\t\tif (url) {\n\t\t\t\t\t\tparams = this.convertUrl(url);\n\t\t\t\t\t}\n\t\t\t\t\tapp.showRecordsList($.extend(params, this.getParams()), (modal, instance) => {\n\t\t\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\t\t\tthis.setReferenceFieldValue(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tthis.registerAutoComplete();\n\t\t}\n\t\t/**\n\t\t * Clear selection\n\t\t */\n\t\tclear() {\n\t\t\tlet element = this.getField();\n\t\t\tlet fieldName = element.attr('name');\n\t\t\telement.val('');\n\t\t\tthis.container.find(`#${fieldName}_display`).removeAttr('readonly').val('');\n\t\t}\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t */\n\t\tregisterAutoComplete() {\n\t\t\tlet thisInstance = this;\n\t\t\tlet formElement = this.container.closest('form');\n\t\t\tthis.container.find('.js-auto-complete').autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term;\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams.search_module = $('.js-popup-reference-module', thisInstance.container).val();\n\t\t\t\t\tparams.search_value = searchValue;\n\t\t\t\t\tparams.module = thisInstance.getField().data('module');\n\t\t\t\t\tparams.action = 'BasicAjax';\n\t\t\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\t\t\tif (sourceRecordElement.length > 0 && sourceRecordElement.val()) {\n\t\t\t\t\t\tparams.src_record = sourceRecordElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tlet responseDataList = [];\n\t\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\t\tif (serverDataFormat.length <= 0) {\n\t\t\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\t\t\tserverDataFormat = new Array({\n\t\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\t\tresponseDataList.push(responseData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresponse(responseDataList);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tif (typeof ui.item.type !== 'undefined' && ui.item.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tlet selectedItemData = [];\n\t\t\t\t\tselectedItemData[ui.item.id] = ui.item.value;\n\t\t\t\t\tthisInstance.setReferenceFieldValue(selectedItemData);\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tif (element.attr('readonly') == undefined) {\n\t\t\t\t\t\tthisInstance.clear();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Set reference field value\n\t\t * @param {object} data\n\t\t */\n\t\tsetReferenceFieldValue(data) {\n\t\t\tlet sourceField = this.getField(),\n\t\t\t\tfieldName = sourceField.attr('name'),\n\t\t\t\tselectedNames = [],\n\t\t\t\tids = [];\n\t\t\tfor (let index in data) {\n\t\t\t\tids.push(index);\n\t\t\t\tselectedNames.push(data[index]);\n\t\t\t}\n\t\t\tthis.clear();\n\t\t\tsourceField.val(ids.join(','));\n\t\t\tthis.container\n\t\t\t\t.find(`#${fieldName}_display`)\n\t\t\t\t.val(app.decodeHTML(selectedNames.join(', ')))\n\t\t\t\t.attr('readonly', true);\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-source-field');\n\t\t}\n\t\t/**\n\t\t * Convert URL to Object\n\t\t * @param {string} data\n\t\t */\n\t\tconvertUrl(url) {\n\t\t\tlet vars = {};\n\t\t\turl.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (_, key, value) {\n\t\t\t\tvars[key] = value;\n\t\t\t});\n\t\t\treturn vars;\n\t\t}\n\t\t/**\n\t\t * Gets params\n\t\t */\n\t\tgetParams() {\n\t\t\tlet form = this.container.closest('form');\n\t\t\tlet sourceModule = $('input[name=\"module\"]', form).val();\n\t\t\tlet popupReferenceModule = $('.js-popup-reference-module', this.container).val();\n\t\t\tlet sourceField = this.getField();\n\t\t\tlet sourceFieldName = sourceField.attr('name');\n\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', form);\n\t\t\tlet sourceRecordId = '';\n\t\t\tif (sourceRecordElement.length > 0) {\n\t\t\t\tsourceRecordId = sourceRecordElement.val();\n\t\t\t}\n\n\t\t\tlet filterFields = {};\n\t\t\tlet listFilterFieldsJson = form.find('input[name=\"listFilterFields\"]').val();\n\t\t\tlet listFilterFields = listFilterFieldsJson ? JSON.parse(listFilterFieldsJson) : [];\n\t\t\tif (\n\t\t\t\tlistFilterFields[sourceFieldName] != undefined &&\n\t\t\t\tlistFilterFields[sourceFieldName][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(listFilterFields[sourceFieldName][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = form.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\tsrc_module: sourceModule,\n\t\t\t\tsrc_field: sourceFieldName,\n\t\t\t\tsrc_record: sourceRecordId,\n\t\t\t\tfilterFields: filterFields,\n\t\t\t\tmulti_select: sourceField.data('multiple')\n\t\t\t};\n\t\t}\n\t},\n\t/**\n\t * Password\n\t */\n\tPassword: class Password {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-pwd-container')) {\n\t\t\t\treturn new Password(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-pwd-container').each((_, e) => {\n\t\t\t\tinstances.push(new Password($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Get strength meter\n\t\t * @returns {Object}\n\t\t */\n\t\tstatic getStrengthLevels() {\n\t\t\tif (!this.strengthLevels) {\n\t\t\t\tthis.strengthLevels = {\n\t\t\t\t\t0: app.vtranslate('JS_PWD_RIDICULOUS'),\n\t\t\t\t\t1: app.vtranslate('JS_PWD_VERY_WEAK'),\n\t\t\t\t\t2: app.vtranslate('JS_PWD_WEAK'),\n\t\t\t\t\t3: app.vtranslate('JS_PWD_MEDIUM'),\n\t\t\t\t\t4: app.vtranslate('JS_PWD_STRONG'),\n\t\t\t\t\t5: app.vtranslate('JS_PWD_VERY_STRONG')\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn { ...this.strengthLevels };\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tlet field = this.getField();\n\t\t\t$('.js-pwd-auto-generate', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.getResponse({\n\t\t\t\t\t\tmodule: field.data('module'),\n\t\t\t\t\t\tfield: field.attr('name'),\n\t\t\t\t\t\taction: 'Password',\n\t\t\t\t\t\tmode: 'generatePwd'\n\t\t\t\t\t}).then((response) => {\n\t\t\t\t\t\tif (response.success && response.result && response.result.pwd) {\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t\tfield.val(response.result.pwd).trigger('keyup').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t$('.js-pwd-validate', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.getResponse({\n\t\t\t\t\t\tmodule: field.data('module'),\n\t\t\t\t\t\tfield: field.attr('name'),\n\t\t\t\t\t\tpassword: field.val(),\n\t\t\t\t\t\taction: 'Password',\n\t\t\t\t\t\tmode: 'validatePwd'\n\t\t\t\t\t}).then((response) => {\n\t\t\t\t\t\tif (response.success && response.result) {\n\t\t\t\t\t\t\tlet message = response.result.message;\n\t\t\t\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t\t\t\tmessage = message.join('<br>');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfield.validationEngine('showPrompt', message, response.result.type, 'topLeft', true);\n\t\t\t\t\t\t\tfield.validationEngine('updatePromptsPosition');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t$('.js-pwd-clear', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tthis.clear();\n\t\t\t\t});\n\t\t\t$('.js-pwd-get', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tlet form = this.container.closest('form');\n\t\t\t\t\tlet recordId = $('input[name=\"record\"]', form).val() || app.getRecordId();\n\t\t\t\t\tthis.getResponse({\n\t\t\t\t\t\tmodule: field.data('module'),\n\t\t\t\t\t\tfield: field.attr('name'),\n\t\t\t\t\t\trecord: recordId,\n\t\t\t\t\t\taction: 'Password',\n\t\t\t\t\t\tmode: 'getPwd'\n\t\t\t\t\t}).then((response) => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tfield.val(response.result.text);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tif (field.data('strengthMeter')) {\n\t\t\t\tfield.off('keyup').on('keyup', (e) => {\n\t\t\t\t\tlet score = this.strengthMeter(e.target.value || '');\n\t\t\t\t\tfield\n\t\t\t\t\t\t.attr('data-original-title', App.Fields.Password.getStrengthLevels()[score])\n\t\t\t\t\t\t.tooltip('show')\n\t\t\t\t\t\t.validationEngine('hide');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Clear data\n\t\t */\n\t\tclear() {\n\t\t\tthis.getField().val('').attr('disabled', false).tooltip('dispose').validationEngine('hide');\n\t\t\tthis.container.find('.js-pwd-validate, .js-pwd-show').attr('disabled', false);\n\t\t}\n\t\t/**\n\t\t * Get response\n\t\t * @param {Object} params\n\t\t * @returns\n\t\t */\n\t\tgetResponse(params) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\taDeferred.resolve(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\taDeferred.reject(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail((_) => {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(_);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\t/**\n\t\t * Get strength meter score\n\t\t * @param {string} pwd\n\t\t * @returns {int}\n\t\t */\n\t\tstrengthMeter(pwd) {\n\t\t\tlet score = 0;\n\t\t\tif (pwd.length > 6) score++;\n\t\t\tif (pwd.match(/[a-z]/) && pwd.match(/[A-Z]/)) score++;\n\t\t\tif (pwd.match(/\\d+/)) score++;\n\t\t\tif (pwd.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)) score++;\n\t\t\tif (pwd.length > 12) score++;\n\n\t\t\treturn score;\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-pwd-field');\n\t\t}\n\t},\n\tUtils: {\n\t\tregisterMobileDateRangePicker(element) {\n\t\t\tthis.hideMobileKeyboard(element);\n\t\t\tif (!Quasar.plugins.Platform.is.desktop) {\n\t\t\t\telement\n\t\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t\t})\n\t\t\t\t\t.on('hide.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tpicker.container.removeClass('js-visible');\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\thideMobileKeyboard(element) {\n\t\t\tif (!Quasar.plugins.Platform.is.desktop) {\n\t\t\t\telement.attr('readonly', 'true').addClass('bg-white');\n\t\t\t}\n\t\t},\n\t\tpositionPicker(ev, picker) {\n\t\t\tlet offset = picker.element.offset();\n\t\t\tlet $window = $(window);\n\t\t\tif (offset.left - $window.scrollLeft() + picker.container.outerWidth() > $window.width()) {\n\t\t\t\tpicker.opens = 'left';\n\t\t\t} else {\n\t\t\t\tpicker.opens = 'right';\n\t\t\t}\n\t\t\tpicker.move();\n\t\t\tif (offset.top - $window.scrollTop() + picker.container.outerHeight() > $window.height()) {\n\t\t\t\tpicker.drops = 'up';\n\t\t\t} else {\n\t\t\t\tpicker.drops = 'down';\n\t\t\t}\n\t\t\tpicker.move();\n\t\t},\n\t\t/**\n\t\t * Set value\n\t\t *\n\t\t * @param   {object}  fieldElement  jQuery\n\t\t * @param   {string|boolean}  value\n\t\t */\n\t\tsetValue(fieldElement, value) {\n\t\t\tif (fieldElement.is('select')) {\n\t\t\t\tApp.Fields.Picklist.setValue(fieldElement, value);\n\t\t\t} else {\n\t\t\t\tfieldElement.val(value);\n\t\t\t}\n\t\t\tfieldElement.trigger('change');\n\t\t\tlet fieldValue = fieldElement.closest('.fieldValue');\n\t\t\tfieldValue.addClass('border border-info');\n\t\t\tsetTimeout(function () {\n\t\t\t\tfieldValue.removeClass('border border-info');\n\t\t\t}, 5000);\n\t\t}\n\t}\n};\n"],"names":["window","App","Fields","Date","months","monthsTranslated","map","monthName","app","vtranslate","fullMonths","fullMonthsTranslated","days","daysTranslated","fullDays","fullDaysTranslated","register","parentElement","registerForAddon","customParams","className","$","elements","hasClass","length","parentDateElem","closest","on","e","currentTarget","find","get","focus","format","CONFIG","dateFormat","elementDateFormat","data","fn","datepicker","dates","langKey","daysShort","daysMin","monthsShort","today","clear","titleFormat","weekStart","firstDayOfWeekNo","params","todayBtn","clearBtn","language","autoclose","todayHighlight","extend","each","index","element","Object","assign","enableOnReadonly","hasAttribute","Utils","hideMobileKeyboard","registerRange","toUpperCase","ranges","moment","add","subtract","startOf","endOf","locale","DateTime","getDefaultLocale","autoUpdateInput","autoApply","off","parent","next","el","currentParams","daterangepicker","ev","picker","val","startDate","endDate","trigger","positionPicker","container","addClass","removeClass","registerMobileDateRangePicker","init","hourFormat","elementHourFormat","timePicker24Hour","timeFormat","isDateRangePicker","parentEl","singleDatePicker","showDropdowns","timePicker","timePickerIncrement","opens","prop","instances","_","push","separator","applyLabel","cancelLabel","fromLabel","toLabel","customRangeLabel","weekLabel","substr","firstDay","daysOfWeek","monthNames","Colors","getColorContrast","hexcolor","r","parseInt","g","b","getRandomColor","letters","color","i","Math","floor","random","getRandomColors","count","colors","showPicker","fieldToUpdate","bgToUpdate","cb","url","showModalWindow","registerPickerEvents","modalContainer","ColorPicker","mount","currentColor","newColor","getColor","hex","css","hideModalWindow","id","bind","Text","registerCopyClipboard","key","querySelectorAll","ClipboardJS","text","showNotify","type","is","Editor","config","toolbar","height","isModal","self","progressInstance","progressIndicator","blockInfo","enabled","onBlock","loadEditor","destroyEditor","getElement","attr","CKEDITOR","getElementId","customConfig","setElement","instance","getEditorInstanceFromName","allowedContent","disableNativeSpellChecker","extraAllowedContent","format_tags","removeButtons","enterMode","ENTER_BR","shiftEnterMode","ENTER_P","emojiEnabled","mentionsEnabled","instanceReady","evt","editor","updateElement","mode","beforeCommandExec","validate","removePlugins","extraPlugins","toolbar_Full","name","items","toolbar_Min","toolbar_Micro","toolbar_Clipboard","toolbar_PDF","emojiToolbar","Array","isArray","outputTemplate","mentions","registerMentions","remove","ckeditor","minSerchTextLength","getMainParams","feed","getMentionUsersData","itemTemplate","minChars","getMentionData","marker","pattern","opts","callback","status","module","action","purifyMode","value","fieldName","fieldValue","AppConnector","request","async","done","result","raw","fail","error","title","Completions","inputDiv","eq","emojiPanel","completionsCollection","records","users","emojis","autolink","collection","registerMentionCollection","registerEmojiCollection","symbol","searchModule","selectTemplate","item","range","isContentEditable","current","original","label","split","trim","values","globalSearchAutocompleteMinLength","menuItemTemplate","mentionTemplate","category","image","icon","lookup","fillAttr","emoji","avatar","offset","charCode","fillChar","sel","getSelection","getRangeAt","cloneRange","getParentByTagName","node","tags","isBody","tagName","parentNode","nodeType","toLowerCase","html","str","replace","m","isFillChar","nodeValue","start","startContainer","startOffset","childNodes","setStart","collapse","previousSibling","lastChild","toString","charCodeAt","RegExp","match","test","startCont","nextSibling","a","A","href","hrefFull","URL","allowedHosts","purifierAllowedDomains","indexOf","host","document","createElement","createTextNode","appendChild","extractContents","innerHTML","setAttribute","insertNode","insertBefore","removeAllRanges","addRange","Tribute","allowSpaces","replaceTextSuffix","attach","completionsTextarea","registerCompletionsTextArea","completionsButtons","registerCompletionsButtons","registerAutoLinker","registerEmojiPanel","parents","fetch","siteUrl","then","response","json","catch","console","registerTagClick","keyCode","autoLink","textarea","siblings","preventDefault","append","target","clone","completionsContainer","showMenuForCollection","emojisContainer","EmojiPanel","json_url","toggleClass","stopPropagation","prepend","basicSearch","Vtiger_BasicSearch_Js","reduceNumberResults","returnHtml","query","search","JSON","parse","serverDataFormat","reponseDataList","responseData","destroy","generateRandomChar","rand","substring","generateRandomHash","prefix","hash","valueOf","Picklist","changeSelectElementView","view","viewParams","select2Elements","toArray","forEach","elem","showSelect2ElementView","errorLog","Error","selectElement","registerParams","selectLazy","showLazySelect","lazyElements","registerLazySelectOptions","selectParams","computeDropdownHeight","dropdownContainer","setTimeout","dropdownList","selectOffsetTop","top","select","htmlBoolParams","tokenSeparators","select2","removeData","$dropdown","dropdown","$search","selectCb","dropdownParent","modalParent","theme","width","containerCssClass","noResults","optgroup","options","children","sort","aText","bText","v","maximumSelectionLength","formatSelectionTooBig","formatSelectionExceeds","limit","maximum","maximumSelected","placeholder","templateResult","actualElement","escapeMarkup","markup","templateSelection","registerAjaxParams","searching","inputTooShort","args","remainingChars","minimum","input","errorLoading","ajax","dataType","delay","method","term","page","processResults","success","concat","results","pagination","more","cache","minimumInputLength","prependDataTemplate","optionData","template","dataset","state","iconInactive","iconActive","registerSelectSortable","sortSelectOptions","registerSortEvent","sortableCb","appendTo","ul","first","sortable","tolerance","stop","reverse","optionTitle","registerIconsEvents","event","originalEvent","currentElementData","optionElement","progressIndicatorElement","message","amd","require","ArrayData","CustomData","$element","__super__","constructor","call","Extend","prototype","filter","slice","dataAdapter","selectedOption","picklistvalues","hasOwnProperty","createSelectedOption","selected","disabled","setValue","searchValue","option","findOption","foundOption","selectValues","getSelectOptions","getFieldValueFromText","keys","valueExists","createOption","optionsObject","newOption","Option","MultiImage","currentFileUploads","MultiEmail","$container","idx","multiEmailField","$multiEmailField","parseToJSON","toggleConsent","addItem","removeItem","$item","email","consent","o","stringify","$newItem","hide","show","$deleteBtn","$consentBox","toggle","MultiDependField","inputElement","fields","addRow","registerRow","parseToJson","removeRow","arr","allFields","arrayLength","partData","skip","k","newField","lastField","last","selectFields","removeAttr","insertAfter","DependentSelect","generateOptionsFromData","masterSelect","slaveSelect","child","localeCompare","Gantt","GanttField","Integer","formatToDisplay","groupSeparator","currencyGroupingSeparator","groupingPattern","currencyGroupingPattern","parseFloat","toFixed","integer","Double","fixed","numberOfDecimal","noOfCurrencyDecimals","strDecimal","numberOfZerosAtTheEnd","base","round","sign","splittedFloat","decimal","truncateTrailingZeros","currencyDecimalSeparator","formatToDb","join","Tree","modalEvent","autoCompleteEvent","clearSelectionEvent","sourceFieldElement","fieldDisplayElement","multiple","requestData","modalEvents","modal","setSelectEvent","modalId","autoCompleteElement","autocomplete","minLength","source","parentElem","fieldInfo","allValues","responseDataList","ui","selectedItemData","change","open","menu","fieldElement","n","TimePeriod","time","Number","period","injectContent","content","plus1btn","minus1btn","registerEvents","onChange","onPlus1Click","onMinus1Click","MultiCurrency","registerEnableCurrencyEvent","registerResetCurrencyEvent","loadData","calculateConversionRate","form","validationEngine","validationEngineOptionsForRecord","saveCurrencies","getField","formatNumber","setPrice","getFieldToSave","baseCurrencyId","currencyId","price","row","enabledBaseCurrency","Vtiger_Helper_Js","showMessage","selectedBaseCurrency","selectedRow","baseCurrencyConversionRate","baseCurrencyRatePrevValue","getNumberFromValue","domElement","parentRow","MeetingUrl","addButton","valElement","getUrl","addEventsForDependentFields","formData","serializeFormData","expField","date","encodeURIComponent","roomName","formElement","ChangesJson","field","record","changes","relatedField","getRelatedField","sourceModule","sourceField","saveData","invalidFields","InvalidFields","checkbox","changeData","fieldNameShort","relatedFieldName","MultiReference","convertUrl","showRecordsList","getParams","setReferenceFieldValue","registerAutoComplete","thisInstance","search_module","search_value","sourceRecordElement","src_record","err","selectedNames","ids","decodeHTML","vars","popupReferenceModule","sourceFieldName","sourceRecordId","filterFields","listFilterFieldsJson","listFilterFields","mapFieldElement","src_module","src_field","multi_select","Password","getResponse","pwd","password","recordId","getRecordId","score","strengthMeter","getStrengthLevels","tooltip","aDeferred","Deferred","resolve","reject","promise","strengthLevels","Quasar","plugins","Platform","desktop","$window","left","scrollLeft","outerWidth","move","drops","scrollTop","outerHeight"],"mappings":"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"}