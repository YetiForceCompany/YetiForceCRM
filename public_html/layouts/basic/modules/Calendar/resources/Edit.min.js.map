{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce Sp. z o.o\n *************************************************************************************/\n'use strict';\n\nVtiger_Edit_Js(\"Calendar_Edit_Js\", {\n\tcurrencyInstance: false,\n\tcheckEmail(field, rules, i, options) {\n\t\tif(Calendar_Edit_Js.currencyInstance.emailExists(field.val())){\n\t\t\treturn app.vtranslate('JS_DUPLICATE_RECORD') + ': ' + field.val();\n\t\t}\n\t\treturn true;\n\t}\n}, {\n\tinit(){\n\t\tCalendar_Edit_Js.currencyInstance = this;\n\t},\n\tregisterReminderFieldCheckBox: function () {\n\t\tlet element = this.getForm().find('.js-reminder-field-checkbox');\n\t\telement.on('change', function (e) {\n\t\t\tlet rowElement = element.closest('.js-reminder-field-element').find('.js-reminder-field-row');\n\t\t\tif (element.is(':checked')) {\n\t\t\t\trowElement.removeClass('d-none');\n\t\t\t} else {\n\t\t\t\trowElement.addClass('d-none');\n\t\t\t}\n\t\t});\n\t\telement.change();\n\t},\n\t/**\n\t * Function which will register change event on recurrence field checkbox\n\t */\n\tregisterRecurrenceFieldCheckBox: function () {\n\t\tconst form = this.getForm(),\n\t\t\telement = form.find('input[name=\"reapeat\"]');\n\t\telement.on('change', function (e) {\n\t\t\tlet repeatUI = form.find('.js-repeat-ui'),\n\t\t\t\tcontainer = form.find('[name=\"followup\"]').closest('.fieldValue');\n\t\t\tif ($(e.currentTarget).is(':checked')) {\n\t\t\t\trepeatUI.closest('.fieldRow').removeClass('d-none');\n\t\t\t\tcontainer.find('[name=\"followup_display\"]').attr('disabled', 'disabled');\n\t\t\t\tcontainer.find('button').attr('disabled', 'disabled');\n\t\t\t} else {\n\t\t\t\tcontainer.find('[name=\"followup_display\"]').removeAttr('disabled');\n\t\t\t\tcontainer.find('button').removeAttr('disabled');\n\t\t\t\trepeatUI.closest('.fieldRow').addClass('d-none');\n\t\t\t}\n\t\t});\n\t\telement.change();\n\t},\n\t/**\n\t * Function which will register the change event for recurring type\n\t */\n\tregisterRecurringTypeChangeEvent: function () {\n\t\tvar container = this.getForm();\n\t\tvar thisInstance = this;\n\t\tcontainer.find('.recurringType').on('change', function (e) {\n\t\t\tthisInstance.changeRecurringTypesUIStyles(jQuery(e.currentTarget).val());\n\t\t});\n\t\tcontainer.find('.js-repeat-ui [name=\"calendarEndType\"]').on('change', function (e) {\n\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\tvar value = currentTarget.val();\n\t\t\tif (value === 'never') {\n\t\t\t\tcontainer.find('.countEvents').attr('disabled', 'disabled');\n\t\t\t\tcontainer.find('.calendarUntil').attr('disabled', 'disabled');\n\t\t\t} else if (value === 'count') {\n\t\t\t\tcontainer.find('.countEvents').removeAttr('disabled');\n\t\t\t\tcontainer.find('.calendarUntil').attr('disabled', 'disabled');\n\t\t\t} else if (value === 'until') {\n\t\t\t\tcontainer.find('.countEvents').attr('disabled', 'disabled');\n\t\t\t\tcontainer.find('.calendarUntil').removeAttr('disabled');\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function which will change the UI styles based on recurring type\n\t * @params - recurringType - which recurringtype is selected\n\t */\n\tchangeRecurringTypesUIStyles: function (recurringType) {\n\t\tvar container = this.getForm();\n\t\tif (recurringType == 'DAILY' || recurringType == 'YEARLY') {\n\t\t\tcontainer.find('.repeatWeekUI').removeClass('show').addClass('d-none');\n\t\t\tcontainer.find('.repeatMonthUI').removeClass('show').addClass('d-none');\n\t\t} else if (recurringType == 'WEEKLY') {\n\t\t\tcontainer.find('.repeatWeekUI').removeClass('d-none').addClass('show');\n\t\t\tcontainer.find('.repeatMonthUI').removeClass('show').addClass('d-none');\n\t\t} else if (recurringType == 'MONTHLY') {\n\t\t\tcontainer.find('.repeatWeekUI').removeClass('show').addClass('d-none');\n\t\t\tcontainer.find('.repeatMonthUI').removeClass('d-none').addClass('show');\n\t\t}\n\t},\n\tsetDefaultEndTime: function (container) {\n\t\tconst self = this;\n\t\tif (container.find('.js-autofill').is(':checked')) {\n\t\t\tself.getFreeTime(container);\n\t\t} else {\n\t\t\tif ('1' === $('[name=\"userChangedEndDateTime\"]').val()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet dateStartElement = container.find('[name=\"date_start\"]'),\n\t\t\t\tstartTimeElement = container.find('[name=\"time_start\"]'),\n\t\t\t\tendTimeElement = container.find('[name=\"time_end\"]'),\n\t\t\t\tendDateElement = container.find('[name=\"due_date\"]'),\n\t\t\t\tstartDate = dateStartElement.val(),\n\t\t\t\tstartTime = startTimeElement.val(),\n\t\t\t\tresult = Vtiger_Time_Validator_Js.invokeValidation(startTimeElement);\n\t\t\tif (true !== result) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet startDateTime = startDate + ' ' + startTime,\n\t\t\t\tdateFormat = container.find('[name=\"due_date\"]').data('dateFormat').toUpperCase(),\n\t\t\t\ttimeFormat = endTimeElement.data('format'),\n\t\t\t\tactivityType = container.find('[name=\"activitytype\"]').val(),\n\t\t\t\tactivityDurations = JSON.parse(container.find('[name=\"defaultOtherEventDuration\"]').val()),\n\t\t\t\tminutes = 0;\n\t\t\tfor (let i in activityDurations) {\n\t\t\t\tif (activityDurations[i].activitytype === activityType) {\n\t\t\t\t\tminutes = parseInt(activityDurations[i].duration);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet defaultTimeFormat = 'HH:mm';\n\t\t\tif (12 === timeFormat) {\n\t\t\t\tdefaultTimeFormat = 'hh:mm A';\n\t\t\t}\n\t\t\tlet endDate = moment(startDateTime, dateFormat + ' ' + defaultTimeFormat).add(minutes, 'minutes');\n\t\t\tendDateElement.val(endDate.format(dateFormat));\n\t\t\tendTimeElement.val(endDate.format(defaultTimeFormat));\n\t\t}\n\t},\n\t/**\n\t * Function to change the end time based on default call duration\n\t */\n\tregisterActivityTypeChangeEvent: function (container) {\n\t\tconst thisInstance = this;\n\t\tcontainer.on('change', '[name=\"activitytype\"]', function (e) {\n\t\t\tthisInstance.setDefaultEndTime(container);\n\t\t});\n\t},\n\t/**\n\t * Function to change the end time based on default call duration\n\t */\n\tregisterTimeStartChangeEvent(container) {\n\t\tconst thisInstance = this;\n\t\tcontainer.find('input[name=\"time_start\"]').on('change', function (e) {\n\t\t\tthisInstance.setDefaultEndTime(container);\n\t\t});\n\t\tcontainer.find('[name=\"date_start\"]').on('change', function (e) {\n\t\t\tlet endDateElement = container.find('[name=\"due_date\"]'),\n\t\t\t\tstart = thisInstance.getDateInstance(container, 'start'),\n\t\t\t\tend = thisInstance.getDateInstance(container, 'end'),\n\t\t\t\tdateFormat = CONFIG.dateFormat.toUpperCase();\n\t\t\tcontainer.find('.js-autofill').trigger('change');\n\t\t\tif (start > end) {\n\t\t\t\tend = start;\n\t\t\t\tendDateElement.val(moment(end).format(dateFormat));\n\t\t\t\tApp.Fields.Date.register(container);\n\t\t\t}\n\t\t});\n\t\tcontainer.find('input[name=\"time_start\"]').on('focus', function (e) {\n\t\t\tlet element = $(e.currentTarget);\n\t\t\telement.data('prevValue', element.val());\n\t\t});\n\t\tcontainer.find('input[name=\"time_start\"]').on('blur', function (e, data) {\n\t\t\tif (typeof data === \"undefined\") {\n\t\t\t\tdata = {};\n\t\t\t}\n\t\t\tif (typeof data.forceChange === \"undefined\") {\n\t\t\t\tdata.forceChange = false;\n\t\t\t}\n\t\t\tlet element = $(e.currentTarget);\n\t\t\tif (element.val() !== element.data('prevValue') || data.forceChange) {\n\t\t\t\te = $.Event(\"keydown\");\n\t\t\t\te.which = 13;\n\t\t\t\te.keyCode = 13;\n\t\t\t\telement.trigger(e);\n\t\t\t}\n\t\t});\n\t},\n\tregisterEndDateTimeChangeLogger: function (container) {\n\t\tcontainer.find('[name=\"time_end\"]').on('change', function (e) {\n\t\t\tlet timeElement = jQuery(e.currentTarget);\n\t\t\tlet result = Vtiger_Time_Validator_Js.invokeValidation(timeElement);\n\t\t\tif (result != true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet timeDateElement = timeElement.closest('.fieldValue').find('[name=\"due_date\"]');\n\t\t\tjQuery('[name=\"userChangedEndDateTime\"]').val('1');\n\t\t\ttimeDateElement.data('userChangedTime', true);\n\t\t});\n\n\t\tcontainer.find('[name=\"due_date\"]').on('change', function (e) {\n\t\t\tlet dueDateElement = jQuery(e.currentTarget);\n\t\t\tlet result = Vtiger_Date_Validator_Js.invokeValidation(dueDateElement);\n\t\t\tif (result != true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tjQuery('[name=\"userChangedEndDateTime\"]').val('1');\n\t\t\tdueDateElement.data('userChangedTime', true);\n\t\t});\n\t},\n\t/**\n\t *\n\t * @returns {String}\n\t */\n\tgetRule: function () {\n\t\tvar form = this.getForm();\n\t\tvar freq = form.find('.recurringType').val();\n\t\tvar rule = 'FREQ=' + freq;\n\t\trule += ';INTERVAL=' + form.find('.repeatFrequency').val();\n\t\tvar endValue = form.find('.js-repeat-ui [name=\"calendarEndType\"]:checked').val();\n\t\tif (endValue === 'count') {\n\t\t\trule += ';COUNT=' + form.find('.countEvents').val();\n\t\t} else if (endValue === 'until') {\n\t\t\tvar date = form.find('.calendarUntil').val();\n\t\t\tdate = app.getDateInDBInsertFormat(CONFIG.dateFormat, date);\n\t\t\trule += ';UNTIL=' + date.replace(/-/gi, '') + 'T235959';\n\t\t}\n\t\tif (freq === 'WEEKLY') {\n\t\t\tvar checkedElements = [];\n\t\t\tform.find('.repeatWeekUI [type=\"checkbox\"]').each(function () {\n\t\t\t\tvar currentTarget = $(this);\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tcheckedElements.push(currentTarget.val());\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (checkedElements.length > 0) {\n\t\t\t\trule += ';BYDAY=' + checkedElements.join(',');\n\t\t\t}\n\t\t}\n\t\tif (freq === 'MONTHLY') {\n\t\t\tvar dayOfWeek = Vtiger_Helper_Js.getDay(form.find('[name=\"date_start\"]').val());\n\t\t\tvar dateInstance = Vtiger_Helper_Js.getDateInstance(form.find('[name=\"date_start\"]').val(), CONFIG.dateFormat);\n\t\t\tvar dayOfMonth = dateInstance.getDate();\n\t\t\tvar option = form.find('.calendarMontlyType:checked').val();\n\t\t\tif (option == 'DAY') {\n\t\t\t\tvar dayOfWeekLabel = '';\n\t\t\t\tswitch (dayOfWeek) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tdayOfWeekLabel = 'SU';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tdayOfWeekLabel = 'MO';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tdayOfWeekLabel = 'TU';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tdayOfWeekLabel = 'WE';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tdayOfWeekLabel = 'TU';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tdayOfWeekLabel = 'FR';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tdayOfWeekLabel = 'SA';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\trule += ';BYDAY=' + (parseInt((dayOfMonth - 1) / 7) + 1) + dayOfWeekLabel;\n\t\t\t} else {\n\t\t\t\trule += ';BYMONTHDAY=' + dayOfMonth;\n\t\t\t}\n\t\t}\n\t\treturn rule;\n\t},\n\t/**\n\t * This function will register the submit event on form\n\t */\n\tregisterFormSubmitEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar form = this.getForm();\n\t\tvar lockSave = true;\n\t\tif (app.getRecordId()) {\n\t\t\tform.on(Vtiger_Edit_Js.recordPreSave, function (e) {\n\t\t\t\tif (lockSave && form.find('input[name=\"reapeat\"]').is(':checked')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tapp.showModalWindow(form.find('.typeSavingModal').clone(), function (container) {\n\t\t\t\t\t\tcontainer.find('.typeSavingBtn').on('click', function (e) {\n\t\t\t\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\t\t\t\tform.find('[name=\"typeSaving\"]').val(currentTarget.data('value'));\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tlockSave = false;\n\t\t\t\t\t\t\tform.submit();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tform.on('submit', function (e) {\n\t\t\tconst recurringCheck = form.find('input[name=\"reapeat\"]').is(':checked');\n\t\t\tif (recurringCheck) {\n\t\t\t\tif (app.getRecordId() && lockSave) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\tform.find('[name=\"recurrence\"]').val(thisInstance.getRule());\n\t\t\t}\n\t\t\tlet rows = form.find(\".js-participants-content .js-participant-row\");\n\t\t\tlet invitees = [];\n\t\t\trows.each(function (index, domElement) {\n\t\t\t\tlet row = $(domElement);\n\t\t\t\tif (row.data('email')) {\n\t\t\t\t\tinvitees.push([row.data('email'), row.data('crmid'), row.data('ivid'), row.data('name')]);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('<input type=\"hidden\" name=\"inviteesid\" />').appendTo(form).val(JSON.stringify(invitees));\n\t\t});\n\t},\n\tgetFreeTime: function (container) {\n\t\tvar timeStart = container.find('[name=\"time_start\"], [data-element-name=\"time_start\"]');\n\t\tvar timeEnd = container.find('[name=\"time_end\"], [data-element-name=\"time_end\"]');\n\t\tvar dateStart = container.find('[name=\"date_start\"], [data-element-name=\"date_start\"]');\n\t\tvar ownerId = container.find('[name=\"assigned_user_id\"], [data-element-name=\"assigned_user_id\"]');\n\t\tvar params = {\n\t\t\tmodule: 'Calendar',\n\t\t\taction: 'GetFreeTime',\n\t\t\tdateStart: dateStart.val(),\n\t\t\townerId: ownerId.val(),\n\t\t\tactivitytype: container.find('[name=\"activitytype\"]').val()\n\t\t};\n\t\tlet progress = $.progressIndicator({position: 'html', blockInfo: {enabled: true}});\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogress.progressIndicator({mode: 'hide'});\n\t\t\tif (data.result.date_start !== null) {\n\t\t\t\ttimeStart.val(data.result.time_start);\n\t\t\t\ttimeEnd.val(data.result.time_end);\n\t\t\t\tdateStart.val(data.result.date_start);\n\t\t\t\tcontainer.find('[name=\"due_date\"]').val(data.result.date_start);\n\t\t\t} else {\n\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR_MAX_VALUE'));\n\t\t\t\tcontainer.find('.js-autofill').prop('checked', false).trigger('change');\n\t\t\t}\n\t\t});\n\t},\n\tregisterAutoFillHours: function (container) {\n\t\tconst thisInstance = this;\n\t\tlet allDay = container.find('[name=\"allday\"]'),\n\t\t\ttimeStart = container.find('[name=\"time_start\"]'),\n\t\t\ttimeEnd = container.find('[name=\"time_end\"]'),\n\t\t\tdateEnd = container.find('[name=\"due_date\"]'),\n\t\t\tautoFill = container.find('.js-autofill');\n\t\tcontainer.find('.js-autofill__icon').on('click', function (e) {\n\t\t\tif (autoFill.is(':checked')) {\n\t\t\t\t$(e.currentTarget).closest('.input-group-text').removeClass('bg-color-blue-700').removeClass('text-white');\n\t\t\t\tautoFill.prop('checked', false).trigger('change');\n\t\t\t} else {\n\t\t\t\t$(e.currentTarget).closest('.input-group-text').addClass('bg-color-blue-700').addClass('text-white');\n\t\t\t\tautoFill.prop('checked', true).trigger('change');\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-autofill').on('change', function (e) {\n\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\tcontainer.find('.js-autofill').prop('checked', true);\n\t\t\t\tthisInstance.getFreeTime(container);\n\t\t\t\ttimeStart.attr('readonly', 'readonly');\n\t\t\t\ttimeEnd.attr('readonly', 'readonly');\n\t\t\t\ttimeStart.clockpicker('remove');\n\t\t\t\ttimeEnd.clockpicker('remove');\n\t\t\t\tallDay.attr('disabled', 'disabled');\n\t\t\t\tallDay.prop('checked', false);\n\t\t\t\tallDay.trigger('change');\n\t\t\t\tdateEnd.attr('readonly', 'readonly');\n\t\t\t} else {\n\t\t\t\tcontainer.find('.js-autofill').prop('checked', false);\n\t\t\t\tallDay.removeAttr('disabled');\n\t\t\t\ttimeStart.removeAttr('readonly');\n\t\t\t\ttimeEnd.removeAttr('readonly');\n\t\t\t\tdateEnd.removeAttr('readonly');\n\t\t\t\tapp.registerEventForClockPicker(timeStart);\n\t\t\t\tapp.registerEventForClockPicker(timeEnd);\n\t\t\t}\n\t\t});\n\t},\n\tregisterMarkAsCompletedBtn: function (container) {\n\t\tcontainer.find('.js-btn--mark-as-completed').on('click', function () {\n\t\t\tconst self = $(this);\n\t\t\tif (self.hasClass('active')) {\n\t\t\t\tcontainer.find('.js-completed').remove();\n\t\t\t} else {\n\t\t\t\tcontainer.append('<input class=\"js-completed\" type=hidden name=\"activitystatus\" value=\"PLL_COMPLETED\" data-js=\"remove\">');\n\t\t\t}\n\t\t});\n\t},\n\tregisterBasicEvents: function (container) {\n\t\tthis._super(container);\n\t\tthis.toggleTimesInputs(container);\n\t\tthis.registerTimesInputs(container);\n\t\tthis.registerTimeStartChangeEvent(container);\n\t\tthis.registerActivityTypeChangeEvent(container);\n\t\tthis.registerEndDateTimeChangeLogger(container);\n\t\tthis.registerAutoFillHours(container);\n\t\tthis.registerMarkAsCompletedBtn(container);\n\t},\n\ttoggleTimesInputs: function (container) {\n\t\tcontainer.find(':checkbox').on('change', function () {\n\t\t\tvar checkboxName = $(this).attr('name');\n\t\t\tif ('allday' == checkboxName) {\n\t\t\t\tvar checkboxIsChecked = $(this).is(':checked');\n\t\t\t\tif (!container.find('#quickCreate').length) {\n\t\t\t\t\tif (checkboxIsChecked) {\n\t\t\t\t\t\tcontainer.find('.time').hide();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontainer.find('.time').show();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tregisterTimesInputs: function (container) {\n\t\tvar allday = container.find('[name=\"allday\"]:checkbox');\n\t\tif (allday.prop('checked')) {\n\t\t\tcontainer.find('.time').hide();\n\t\t}\n\n\t},\n\tgetDateInstance: function (container, type) {\n\t\tvar startDateElement = container.find('[name=\"date_start\"]');\n\t\tvar endDateElement = container.find('[name=\"due_date\"]');\n\t\tvar endTimeElement = container.find('[name=\"time_end\"]');\n\t\tvar startTimeElement = container.find('[name=\"time_start\"]');\n\t\tvar startDate = startDateElement.val();\n\t\tvar startTime = startTimeElement.val();\n\t\tvar endTime = endTimeElement.val();\n\t\tvar endDate = endDateElement.val();\n\t\tvar dateFormat = CONFIG.dateFormat;\n\t\tif (type == 'start') {\n\t\t\treturn Vtiger_Helper_Js.getDateInstance(startDate + ' ' + startTime, dateFormat);\n\t\t}\n\t\tif (type == 'end') {\n\t\t\treturn Vtiger_Helper_Js.getDateInstance(endDate + ' ' + endTime, dateFormat);\n\t\t}\n\t},\n\temailExists(email){\n\t\temail = email.toLowerCase();\n\t\tlet recordExist = false;\n\t\tthis.getForm().find('.js-participants-content').find('.js-participant-row').each((index, element) => {\n\t\t\tif ($(element).data('email').toLowerCase() === email) {\n\t\t\t\trecordExist = true;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn recordExist;\n\t},\n\tregisterAddInvitation(){\n\t\tthis.getForm().find('.js-btn-add-invitation').on('click', (e)=>{\n\t\t\tlet progressIndicatorElement = $.progressIndicator();\n\t\t\tapp.showModalWindow(null, 'index.php?module=Calendar&view=InviteEmail', (data) => {\n\t\t\t\tdata.find('.js-modal__save').on('click', (e)=>{\n\t\t\t\t\tlet email = data.find('.js-invite-email-input').val();\n\t\t\t\t\tlet nameAttendee = data.find('.js-invite-name-input').val();\n\t\t\t\t\tlet participantsContent = this.getForm().find('.js-participants-content');\n\t\t\t\t\tlet formEmail = data.find('.js-form');\n\t\t\t\t\tformEmail.validationEngine(app.validationEngineOptions);\n\t\t\t\t\tif( formEmail.validationEngine('validate') ){\n\t\t\t\t\t\tlet participantRow = participantsContent.find('.d-none .js-participant-row').clone(true, true);\n\t\t\t\t\t\tparticipantRow.data('crmid', 0);\n\t\t\t\t\t\tparticipantRow.data('email', email);\n\t\t\t\t\t\tif( nameAttendee ){\n\t\t\t\t\t\t\tparticipantRow.find('.js-participant-name').data('content', nameAttendee).text(nameAttendee);\n\t\t\t\t\t\t\tparticipantRow.data('name', nameAttendee);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tparticipantRow.find('.js-participant-name').data('content', email).text(email);\n\t\t\t\t\t\t\tparticipantRow.data('name', '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparticipantsContent.append(participantRow);\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterInviteEvent: function (editViewForm) {\n\t\tthis.registerRow(editViewForm);\n\t\tlet participantsContent = editViewForm.find('.js-participants-content');\n\t\tlet participantsSearch = editViewForm.find('.js-participants-search');\n\t\t$.widget(\"custom.ivAutocomplete\", $.ui.autocomplete, {\n\t\t\t_create: function () {\n\t\t\t\tthis._super();\n\t\t\t\tthis.widget().menu(\"option\", \"items\", \"> :not(.ui-autocomplete-category)\");\n\t\t\t},\n\t\t\t_renderMenu: function (ul, items) {\n\t\t\t\tlet that = this, currentCategory = \"\";\n\t\t\t\t$.each(items, function (index, item) {\n\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + \"</li>\");\n\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t}\n\t\t\t\t\tthat._renderItemData(ul, item);\n\t\t\t\t});\n\t\t\t},\n\t\t\t_renderItemData: function (ul, item) {\n\t\t\t\treturn this._renderItem(ul, item).data(\"ui-autocomplete-item\", item);\n\t\t\t},\n\t\t\t_renderItem: function (ul, item) {\n\t\t\t\treturn $(\"<li>\")\n\t\t\t\t\t.data(\"item.autocomplete\", item)\n\t\t\t\t\t.append($(\"<a></a>\").html(item.label))\n\t\t\t\t\t.appendTo(ul);\n\t\t\t},\n\t\t});\n\t\tparticipantsSearch.ivAutocomplete({\n\t\t\tdelay: '600',\n\t\t\tminLength: '3',\n\t\t\tsource: (request, response) => {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'Calendar',\n\t\t\t\t\taction: 'Invitees',\n\t\t\t\t\tmode: 'find',\n\t\t\t\t\tvalue: request.term\n\t\t\t\t}).done((result) => {\n\t\t\t\t\tlet reponseDataList = result.result;\n\t\t\t\t\tif (reponseDataList.length <= 0) {\n\t\t\t\t\t\treponseDataList.push({\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\ttype: 'no results',\n\t\t\t\t\t\t\tcategory: ''\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t});\n\t\t\t},\n\t\t\tselect: (event, ui) => {\n\t\t\t\tlet selected = ui.item;\n\t\t\t\t//To stop selection if no results is selected\n\t\t\t\tif (typeof selected.type !== \"undefined\" && selected.type == \"no results\") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet recordExist = true;\n\t\t\t\tparticipantsContent.find('.js-participant-row').each(function (index) {\n\t\t\t\t\tif ($(this).data('crmid') == selected.id) {\n\t\t\t\t\t\trecordExist = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (recordExist) {\n\t\t\t\t\tlet participantRow = participantsContent.find('.d-none .js-participant-row').clone(true, true);\n\t\t\t\t\tVtiger_Index_Js.getEmailFromRecord(selected.id, selected.module).done((email) => {\n\t\t\t\t\t\tparticipantRow.data('crmid', selected.id);\n\t\t\t\t\t\tparticipantRow.data('email', email);\n\t\t\t\t\t\tparticipantRow.find('.js-participant-name').data('content', selected.fullLabel + email).text(selected.label);\n\t\t\t\t\t\tparticipantRow.find('.js-participant-icon .c-badge__icon').removeClass('fas fa-envelope').addClass('userIcon-' + selected.module);\n\t\t\t\t\t\tparticipantsContent.append(participantRow);\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_DUPLICATE_RECORD') + ': ' + selected.fullLabel,\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tclose: (event, ui) => {\n\t\t\t\tparticipantsSearch.val('');\n\t\t\t}\n\n\t\t});\n\t},\n\t/**\n\t * Function validate is holiday day\n\t * @param {jQuery} form\n\t * @returns {boolean}\n\t */\n\tvalidateHolidayDate(form) {\n\t\tlet fields = form.find('[name=\"date_start\"], [name=\"due_date\"]'),\n\t\t\tisHoliday = false,\n\t\t\tfieldHolidayArray = [],\n\t\t\taDeferred = $.Deferred();\n\t\t$.each(fields, function (index, fieldObj) {\n\t\t\tfieldHolidayArray.push(fieldObj.value);\n\t\t});\n\t\tAppConnector.request({\n\t\t\tasync: false,\n\t\t\tdata: {\n\t\t\t\tmodule: form.find('[name=\"module\"]').length ? form.find('[name=\"module\"]').val() : app.getModuleName(),\n\t\t\t\taction: 'Fields',\n\t\t\t\tmode: 'verifyIsHolidayDate',\n\t\t\t\tfieldName: 'date_start',\n\t\t\t\tdate: fieldHolidayArray\n\t\t\t}\n\t\t}).done(function (data) {\n\t\t\tif (true === data.success && true === data.result.isHolidayDate) {\n\t\t\t\tisHoliday = true;\n\t\t\t}\n\t\t\taDeferred.resolve(isHoliday);\n\t\t}).fail(function (error) {\n\t\t\taDeferred.reject(false);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Register pre save event\n\t * @param {jQuery} form\n\t */\n\tregisterRecordPreSaveEventEvent: function (form) {\n\t\tconst self = this;\n\t\tlet lockSave = true;\n\t\tform.on(Vtiger_Edit_Js.recordPreSave, function (e, data) {\n\t\t\tself.validateHolidayDate(form).done(function (isHoliday) {\n\t\t\t\tif (lockSave && isHoliday) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tapp.showConfirmModal(app.vtranslate(\"JS_DATES_SELECTED_HOLIDAYS\"), function () {\n\t\t\t\t\t\tlockSave = false;\n\t\t\t\t\t\tform.submit();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tregisterRow(row) {\n\t\trow.on(\"click\", '.js-participant-remove', (e) => {\n\t\t\t$(e.target).closest('.js-participant-row').remove();\n\t\t});\n\t},\n\tregisterEvents() {\n\t\tif (!this.proceedRegisterEvents()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.registerReminderFieldCheckBox();\n\t\tthis.registerRecurrenceFieldCheckBox();\n\t\tthis.registerFormSubmitEvent();\n\t\tthis.registerRecurringTypeChangeEvent();\n\t\tthis.registerInviteEvent(this.getForm());\n\t\tthis.registerAddInvitation();\n\t\tthis._super();\n\t}\n});\n"],"names":["Vtiger_Edit_Js","currencyInstance","checkEmail","field","Calendar_Edit_Js","emailExists","val","app","vtranslate","init","registerReminderFieldCheckBox","getForm","find","element","on","closest","is","rowElement","removeClass","addClass","change","registerRecurrenceFieldCheckBox","form","e","container","$","currentTarget","repeatUI","attr","removeAttr","registerRecurringTypeChangeEvent","thisInstance","changeRecurringTypesUIStyles","jQuery","value","recurringType","setDefaultEndTime","self","getFreeTime","startTimeElement","endTimeElement","endDateElement","startDate","dateStartElement","startTime","result","Vtiger_Time_Validator_Js","invokeValidation","data","toUpperCase","timeFormat","activityType","activityDurations","JSON","parse","minutes","i","activitytype","parseInt","duration","defaultTimeFormat","moment","dateFormat","add","endDate","format","registerActivityTypeChangeEvent","registerTimeStartChangeEvent","start","getDateInstance","end","CONFIG","trigger","App","Fields","Date","register","forceChange","Event","which","keyCode","registerEndDateTimeChangeLogger","timeElement","timeDateElement","Vtiger_Date_Validator_Js","dueDateElement","getRule","freq","rule","date","getDateInDBInsertFormat","replace","each","checkedElements","push","length","join","Vtiger_Helper_Js","getDay","dateInstance","dayOfMonth","getDate","option","dayOfWeek","dayOfWeekLabel","registerFormSubmitEvent","lockSave","getRecordId","recordPreSave","preventDefault","showModalWindow","clone","hideModalWindow","submit","recurringCheck","invitees","rows","index","domElement","row","appendTo","stringify","timeEnd","dateStart","ownerId","params","module","action","progress","progressIndicator","position","blockInfo","enabled","AppConnector","request","done","mode","date_start","showPnotify","prop","timeStart","time_start","time_end","registerAutoFillHours","allDay","dateEnd","autoFill","clockpicker","registerEventForClockPicker","registerMarkAsCompletedBtn","hasClass","remove","append","registerBasicEvents","_super","toggleTimesInputs","registerTimesInputs","checkboxName","checkboxIsChecked","hide","show","allday","type","startDateElement","endTime","email","toLowerCase","recordExist","registerAddInvitation","nameAttendee","participantsContent","formEmail","validationEngine","validationEngineOptions","participantRow","text","progressIndicatorElement","registerInviteEvent","editViewForm","registerRow","participantsSearch","widget","ui","autocomplete","_create","menu","_renderMenu","ul","items","currentCategory","item","category","that","_renderItemData","_renderItem","html","label","ivAutocomplete","delay","minLength","source","response","term","reponseDataList","select","event","selected","id","Vtiger_Index_Js","getEmailFromRecord","fullLabel","close","validateHolidayDate","isHoliday","fieldHolidayArray","aDeferred","Deferred","fields","fieldObj","async","getModuleName","fieldName","success","isHolidayDate","resolve","fail","reject","promise","registerRecordPreSaveEventEvent","showConfirmModal","target","registerEvents","proceedRegisterEvents"],"mappings":"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"}