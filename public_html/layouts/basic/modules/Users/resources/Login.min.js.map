{"version":3,"file":"Login.min.js","sources":["Login.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n\n'use strict';\n$(document).ready(() => {\n\t$('input:visible').first().focus();\n\t$('#fingerPrint').val(new DeviceUUID().get());\n\t$('button.close').on('click', () => {\n\t\t$('.visible-phone').css('visibility', 'hidden');\n\t});\n\t$('a#forgotpass').on('click', () => {\n\t\t$('#loginDiv').hide();\n\t\t$('#forgotPasswordDiv').removeClass('d-none');\n\t\t$('#forgotPasswordDiv').show();\n\t});\n\t$('a#backButton').on('click', () => {\n\t\t$('#loginDiv').removeClass('d-none');\n\t\t$('#loginDiv').show();\n\t\t$('#forgotPasswordDiv').hide();\n\t});\n\n\tlet formForgot = $('.js-forgot-password');\n\tformForgot.on('submit', (event) => {\n\t\tevent.preventDefault();\n\t\t$.post('index.php?module=Users&action=LoginForgotPassword', {\n\t\t\temail: formForgot.find('[name=\"email\"]').val()\n\t\t})\n\t\t\t.done((data) => {\n\t\t\t\tformForgot.find('.js-email-content').addClass('d-none');\n\t\t\t\tformForgot.find('#retrievePassword').attr('disabled', 'disabled');\n\t\t\t\t$('.js-alert-password').removeClass('d-none alert-danger').addClass('alert-success');\n\t\t\t\t$('.js-alert-text').html(data.result);\n\t\t\t})\n\t\t\t.fail((error) => {\n\t\t\t\t$('.js-alert-password').removeClass('d-none').addClass('alert-danger');\n\t\t\t\t$('.js-alert-text').html(JSON.parse(error.responseText).error.message);\n\t\t\t});\n\t});\n\n\tlet formChange = $('.js-change-password');\n\tformChange.on('submit', (event) => {\n\t\tevent.preventDefault();\n\t\tlet password = formChange.find('[name=\"password\"]').val();\n\t\tlet confirmPassword = formChange.find('[name=\"confirm_password\"]').val();\n\t\tif (password !== confirmPassword) {\n\t\t\t$('.js-alert-confirm-password').removeClass('d-none');\n\t\t} else {\n\t\t\t$.post('index.php?module=Users&action=LoginPassChange', {\n\t\t\t\tpassword: password,\n\t\t\t\tconfirm_password: confirmPassword,\n\t\t\t\ttoken: formChange.find('[name=\"token\"]').val()\n\t\t\t})\n\t\t\t\t.done(() => {\n\t\t\t\t\twindow.location.href = 'index.php';\n\t\t\t\t})\n\t\t\t\t.fail((error) => {\n\t\t\t\t\t$('.js-alert-confirm-password').addClass('d-none');\n\t\t\t\t\t$('.js-alert-password').removeClass('d-none').addClass('alert-danger');\n\t\t\t\t\t$('.js-alert-text').html(JSON.parse(error.responseText).error.message);\n\t\t\t\t});\n\t\t}\n\t});\n});\n"],"names":["$","document","ready","first","focus","val","DeviceUUID","get","on","css","hide","removeClass","show","formForgot","event","preventDefault","post","email","find","done","data","addClass","attr","html","result","fail","error","JSON","parse","responseText","message","formChange","password","confirmPassword","confirm_password","token","window","location","href"],"mappings":"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"}