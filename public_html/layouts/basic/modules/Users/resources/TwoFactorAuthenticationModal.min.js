'use strict';

/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */"use strict";$.Class("Base_TwoFactorAuthenticationModal_JS",{},{/**
		 * Function to handle sending the AJAX form
		 * @param data
		 */registerSubmitFrom:function registerSubmitFrom(data){data.find("button[name=saveButton]").prop("disabled",!0),data.find("input[name=user_code]").on("keyup",function(e){13!==e.keyCode&&data.find("button[name=saveButton]").prop("disabled",0===$(e.currentTarget).val().length);}),data.find("input[name=user_code]").on("change",function(e){data.find("button[name=saveButton]").prop("disabled",0===$(e.currentTarget).val().length);}),data.find("input[name=turn_off_2fa]").on("change",function(e){$(e.currentTarget).prop("checked")?(data.find(".js-qr-code,.js-user-code").addClass("hide"),data.find("input[name=mode]").val("off"),data.find("button[name=saveButton]").prop("disabled",!1)):(data.find(".js-qr-code,.js-user-code").removeClass("hide"),data.find("input[name=mode]").val("secret"),data.find("button[name=saveButton]").prop("disabled",!0),data.find("input[name=user_code]").val(""));});var form=data.find("form");form.on("submit",function(e){var progress=$.progressIndicator({blockInfo:{enabled:!0}});AppConnector.request(form.serializeFormData()).done(function(response){if(response.result.success)app.hideModalWindow(),app.showNotify({text:response.result.message,type:"success",animation:"show"}),"Users"===app.getModuleName()&&location.reload();else {var wrongCode=form.find(".js-wrong-code");wrongCode.hasClass("hide")&&wrongCode.removeClass("hide");}progress.progressIndicator({mode:"hide"});}),e.preventDefault();});},/**
		 * Register base events
		 * @param {jQuery} modalContainer
		 */registerEvents:function registerEvents(modalContainer){this.registerSubmitFrom(modalContainer),App.Fields.Text.registerCopyClipboard(modalContainer,".js-clipboard");}});
//# sourceMappingURL=TwoFactorAuthenticationModal.min.js.map
