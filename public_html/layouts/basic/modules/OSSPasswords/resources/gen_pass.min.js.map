{"version":3,"file":"gen_pass.min.js","sources":["gen_pass.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nvar PasswordHelper;\nPasswordHelper = {\n\tinit() {\n\t\treturn this;\n\t},\n// Function to generate new password\n\tpasswordStrength(password, translations) {\n\t\tif (password == '')\n\t\t\tpassword = document.getElementById('OSSPasswords_editView_fieldName_password').value;\n\n\t\tvar desc = [];\n\t\tif (translations == '') {\n\t\t\tdesc[0] = app.vtranslate('Very Weak');\n\t\t\tdesc[1] = app.vtranslate('Weak');\n\t\t\tdesc[2] = app.vtranslate('Better');\n\t\t\tdesc[3] = app.vtranslate('Medium');\n\t\t\tdesc[4] = app.vtranslate('Strong');\n\t\t\tdesc[5] = app.vtranslate('Very Strong');\n\t\t} else {\n\t\t\tvar tstring = translations.split(',');\n\t\t\tdesc[0] = tstring[0];\n\t\t\tdesc[1] = tstring[1];\n\t\t\tdesc[2] = tstring[2];\n\t\t\tdesc[3] = tstring[3];\n\t\t\tdesc[4] = tstring[4];\n\t\t\tdesc[5] = tstring[5];\n\t\t}\n\n\t\tvar score = 0;\n\n\t\t//if password bigger than 6 give 1 point\n\t\tif (password.length > 6)\n\t\t\tscore++;\n\n\t\t//if password has both lower and uppercase characters give 1 point\n\t\tif ((password.match(/[a-z]/)) && (password.match(/[A-Z]/)))\n\t\t\tscore++;\n\n\t\t//if password has at least one number give 1 point\n\t\tif (password.match(/\\d+/))\n\t\t\tscore++;\n\n\t\t//if password has at least one special caracther give 1 point\n\t\tif (password.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/))\n\t\t\tscore++;\n\n\t\t//if password bigger than 12 give another 1 point\n\t\tif (password.length > 12)\n\t\t\tscore++;\n\n\t\t// password hidden\n\t\tif (password == '') {\n\t\t\tdocument.getElementById(\"passwordDescription\").innerHTML = app.vtranslate('Enter the password');\n\t\t\tdocument.getElementById(\"passwordStrength\").className = \"input-group-text strength0\";\n\t\t} else if (password == '**********') {\n\t\t\tdocument.getElementById(\"passwordDescription\").innerHTML = app.vtranslate('Password is hidden');\n\t\t\tdocument.getElementById(\"passwordStrength\").className = \"input-group-text strength0\";\n\t\t} else {\n\t\t\tdocument.getElementById(\"passwordDescription\").innerHTML = desc[score];\n\t\t\tdocument.getElementById(\"passwordStrength\").className = \"input-group-text strength\" + score;\n\t\t}\n\t},\n\tshowPassword(record) {\n\t\tlet showPassText = app.vtranslate('LBL_ShowPassword');\n\t\tlet hidePassText = app.vtranslate('LBL_HidePassword');\n\n\t\tif ($('#show-btn').text() == showPassText) {\n\t\t\tvar params = {\n\t\t\t\t'module': \"OSSPasswords\",\n\t\t\t\t'action': \"GetPass\",\n\t\t\t\t'record': record\n\t\t\t};\n\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tvar response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\tvar el = document.getElementById(\"OSSPasswords_editView_fieldName_password\");\n\t\t\t\t\tel.value = response['password'];\n\t\t\t\t\tel.onchange();\n\t\t\t\t\t$('#copy-button').removeClass('d-none').show();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// validate password\n\t\t\tthis.passwordStrength('', '');\n\n\t\t\t// change buttons label\n\t\t\t$('#show-btn').text(hidePassText);\n\t\t} else {\n\t\t\tdocument.getElementById(\"OSSPasswords_editView_fieldName_password\").value = '**********';\n\t\t\t$('#show-btn').text(showPassText);\n\t\t\tthis.passwordStrength('', '');\n\t\t\t$('#copy-button').hide();\n\t\t}\n\t},\n\tshowDetailsPassword(record) {\n\t\tconst showPassText = app.vtranslate('LBL_ShowPassword');\n\t\tconst hidePassText = app.vtranslate('LBL_HidePassword');\n\n\t\tif ($('#show-btn').text() == showPassText) {\n\t\t\tconst params = {\n\t\t\t\tmodule: 'OSSPasswords',\n\t\t\t\taction: 'GetPass',\n\t\t\t\trecord: record\n\t\t\t};\n\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tconst response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\t$('#detailPassword').text(response['password']);\n\t\t\t\t\t$('#copy-button')\n\t\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t\t.show();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// change buttons label\n\t\t\t$('#show-btn').html('<span class=\"fas fa-eye-slash u-mr-5px\"></span>' + hidePassText);\n\t\t} else {\n\t\t\tdocument.getElementById('detailPassword').innerHTML = '**********';\n\t\t\t$('#show-btn').html('<span class=\"fas fa-eye u-mr-5px\"></span>' + showPassText);\n\t\t\t$('#copy-button').hide();\n\t\t}\n\t},\n\tshowPasswordQuickEdit(record) {\n\t\tconst hidePassText = app.vtranslate('LBL_HidePassword');\n\n\t\tconst params = {\n\t\t\tmodule: 'OSSPasswords',\n\t\t\taction: 'GetPass',\n\t\t\trecord: record\n\t\t};\n\t\tAppConnector.request(params).done(function(data) {\n\t\t\tconst response = data['result'];\n\t\t\tif (response['success']) {\n\t\t\t\t$('#detailPassword').text(response['password']);\n\t\t\t\t$(\"input[name='password']\").val(response['password']);\n\t\t\t\t$('#copy-button')\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.show();\n\t\t\t}\n\t\t});\n\t\t// change buttons label\n\t\t$('#show-btn').text(hidePassText);\n\t}\n};\n$(document).ready(function() {\n\tPasswordHelper.init();\n});\n"],"names":["PasswordHelper","init","passwordStrength","password","translations","document","getElementById","value","desc","app","vtranslate","split","tstring","length","score","match","innerHTML","className","showPassword","record","hidePassText","$","text","showPassText","AppConnector","request","done","data","response","el","onchange","removeClass","show","hide","showDetailsPassword","module","action","html","showPasswordQuickEdit","val","ready"],"mappings":"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"}