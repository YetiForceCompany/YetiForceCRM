{"version":3,"file":"RegistrationSerialModal.min.js","sources":["RegistrationSerialModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_YetiForce_RegistrationSerialModal_Js',\n\t{\n\t\tregisterEvents() {\n\t\t\tconst container = $(\"[data-view='RegistrationSerialModal']\");\n\t\t\tconst form = container.find('form');\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcontainer.find('[name=\"saveButton\"]').click();\n\t\t\t});\n\t\t\tcontainer.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\t\tif (!form.validationEngine('validate')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ENTER_REGISTRATION_KEY'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcontainer.find('button[name=saveButton]').prop('disabled', true);\n\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_LOADING_PLEASE_WAIT'),\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'YetiForce',\n\t\t\t\t\tparent: 'Settings',\n\t\t\t\t\taction: 'Register',\n\t\t\t\t\tmode: 'serial',\n\t\t\t\t\tkey: container.find('.registrationKey').val()\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: data['result']['message'],\n\t\t\t\t\t\ttype: data['result']['type']\n\t\t\t\t\t});\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (data['result']['type'] === 'success') {\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t}\n\t\t\t\t\tcontainer.find('button[name=saveButton]').prop('disabled', false);\n\t\t\t\t\treturn data['result'];\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\t{}\n);\nSettings_YetiForce_RegistrationSerialModal_Js.registerEvents();\n"],"names":["jQuery","Class","registerEvents","container","$","form","find","validationEngine","app","validationEngineOptions","on","e","preventDefault","click","showNotify","text","vtranslate","type","prop","progress","progressIndicator","message","blockInfo","enabled","AppConnector","request","module","parent","action","mode","key","val","done","data","hideModalWindow","Settings_YetiForce_RegistrationSerialModal_Js"],"mappings":";;AAGAA,MAAM,CAACC,KAAP,CACC,+CADD,CAEC,CACCC,cADD,0BACkB,KACVC,SAAS,CAAGC,CAAC,CAAC,uCAAD,CADH,CAEVC,IAAI,CAAGF,SAAS,CAACG,IAAV,CAAe,MAAf,CAFG,CAGhBD,IAAI,CAACE,gBAAL,CAAsBC,GAAG,CAACC,uBAA1B,CAHgB,CAIhBJ,IAAI,CAACK,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAC9BA,CAAC,CAACC,cAAF,EAD8B,CAE9BT,SAAS,CAACG,IAAV,CAAe,uBAAf,EAAsCO,KAAtC,GACA,CAHD,CAJgB,CAQhBV,SAAS,CAACG,IAAV,CAAe,uBAAf,EAAsCI,EAAtC,CAAyC,OAAzC,CAAkD,SAAUC,CAAV,CAAa,CAC9D,GAAI,CAACN,IAAI,CAACE,gBAAL,CAAsB,UAAtB,CAAL,CAMC,OALAI,CAAC,CAACC,cAAF,EAKA,CAJAJ,GAAG,CAACM,UAAJ,CAAe,CACdC,IAAI,CAAEP,GAAG,CAACQ,UAAJ,CAAe,2BAAf,CADQ,CAEdC,IAAI,CAAE,OAFQ,CAAf,CAIA,IAEDd,SAAS,CAACG,IAAV,CAAe,yBAAf,EAA0CY,IAA1C,CAA+C,UAA/C,IAT8D,CAU9D,IAAIC,QAAQ,CAAGf,CAAC,CAACgB,iBAAF,CAAoB,CAClCC,OAAO,CAAEb,GAAG,CAACQ,UAAJ,CAAe,wBAAf,CADyB,CAElCM,SAAS,CAAE,CACVC,OAAO,GADG,CAFuB,CAApB,CAAf,CAMAC,YAAY,CAACC,OAAb,CAAqB,CACpBC,MAAM,CAAE,WADY,CAEpBC,MAAM,CAAE,UAFY,CAGpBC,MAAM,CAAE,UAHY,CAIpBC,IAAI,CAAE,QAJc,CAKpBC,GAAG,CAAE3B,SAAS,CAACG,IAAV,CAAe,kBAAf,EAAmCyB,GAAnC,EALe,CAArB,EAMGC,IANH,CAMQ,SAAUC,IAAV,CAAgB,CAUvB,OATAzB,GAAG,CAACM,UAAJ,CAAe,CACdC,IAAI,CAAEkB,IAAI,OAAJ,QADQ,CAEdhB,IAAI,CAAEgB,IAAI,OAAJ,KAFQ,CAAf,CASA,CALAd,QAAQ,CAACC,iBAAT,CAA2B,CAAES,IAAI,CAAE,MAAR,CAA3B,CAKA,CAJ+B,SAA3B,GAAAI,IAAI,OAAJ,KAIJ,EAHCzB,GAAG,CAAC0B,eAAJ,EAGD,CADA/B,SAAS,CAACG,IAAV,CAAe,yBAAf,EAA0CY,IAA1C,CAA+C,UAA/C,IACA,CAAOe,IAAI,OACX,CAjBD,EAkBA,CAlCD,EAmCA,CA5CF,CAFD,CAgDC,EAhDD,EAkDAE,6CAA6C,CAACjC,cAA9C;;"}