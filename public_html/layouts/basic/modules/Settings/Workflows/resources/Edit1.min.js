Settings_Workflows_Edit_Js("Settings_Workflows_Edit1_Js",{},{init:function(){this.initialize()},getContainer:function(){return this.step1Container},setContainer:function(a){this.step1Container=a;return this},initialize:function(a){if(typeof a=="undefined"){a=jQuery("#workflow_step1")}if(a.is("#workflow_step1")){this.setContainer(a)}else{this.setContainer(jQuery("#workflow_step1"))}},submit:function(){var a=jQuery.Deferred();var b=this.getContainer();var d=b.serializeFormData();var c=jQuery.progressIndicator({position:"html",blockInfo:{enabled:true}});AppConnector.request(d).then(function(e){b.hide();c.progressIndicator({mode:"hide"});a.resolve(e)},function(e,f){});return a.promise()},registerEventForScheduledWorkflow:function(){var d=this;jQuery('input[name="execution_condition"]').on("click",function(h){var g=jQuery(h.currentTarget);var f=jQuery("#scheduleBox");if(g.is(":checked")&&g.val()=="6"){f.removeClass("d-none")}else{f.addClass("d-none")}});app.registerEventForClockPicker($(".clockPicker"));app.registerEventForDatePickerFields("#scheduleByDate",true);jQuery("#annualDates").chosen();jQuery("#schdayofweek").chosen();jQuery("#schdayofmonth").chosen();var b=new Date().getFullYear();var a=jQuery("#weekStartDay").data("value");$("#annualDatePicker").datepicker({weekStart:a,startDate:"01/01/"+b,endDate:"12/31/"+b,format:"mm/dd/yyyy",maxViewMode:1,todayBtn:"linked",language:jQuery("body").data("language"),multidate:true,todayHighlight:true}).on("changeDate",function(l){var k=[];var f=[];var j="";var i=jQuery("#annualDates");d.updateAnnualDates(i);for(var h in l.dates){var g=l.dates[h];var m=moment(g).format("YYYY-MM-DD");k.push({id:m,text:m});f.push(m);j+="<option selected value="+m+">"+m+"</option>"}i.append(j);i.trigger("chosen:updated")});var c=jQuery("#annualDates");d.updateAnnualDates(c);c.trigger("chosen:updated")},updateAnnualDates:function(d){d.html("");var e=jQuery("#hiddenAnnualDates").val();if(e){var a="";var b=JSON.parse(e);for(var c in b){a+="<option selected value="+b[c]+">"+b[c]+"</option>"}d.html(a)}},registerEventForChangeInScheduledType:function(){var a=this;jQuery("#schtypeid").on("change",function(d){var b=jQuery(d.currentTarget);var c=b.val();a.showScheduledTime();a.hideScheduledWeekList();a.hideScheduledMonthByDateList();a.hideScheduledSpecificDate();a.hideScheduledAnually();if(c=="1"){a.hideScheduledTime()}else{if(c=="3"){a.showScheduledWeekList()}else{if(c=="4"){a.showScheduledSpecificDate()}else{if(c=="5"){a.showScheduledMonthByDateList()}else{if(c=="7"){a.showScheduledAnually()}}}}}})},hideScheduledTime:function(){jQuery("#scheduledTime").addClass("d-none")},showScheduledTime:function(){jQuery("#scheduledTime").removeClass("d-none")},hideScheduledWeekList:function(){jQuery("#scheduledWeekDay").addClass("d-none")},showScheduledWeekList:function(){jQuery("#scheduledWeekDay").removeClass("d-none")},hideScheduledMonthByDateList:function(){jQuery("#scheduleMonthByDates").addClass("d-none")},showScheduledMonthByDateList:function(){jQuery("#scheduleMonthByDates").removeClass("d-none")},hideScheduledSpecificDate:function(){jQuery("#scheduleByDate").addClass("d-none")},showScheduledSpecificDate:function(){jQuery("#scheduleByDate").removeClass("d-none")},hideScheduledAnually:function(){jQuery("#scheduleAnually").addClass("d-none")},showScheduledAnually:function(){jQuery("#scheduleAnually").removeClass("d-none")},registerEvents:function(){var a=this.getContainer();a.find('[type="submit"]').removeAttr("disabled");var b=app.validationEngineOptions;b.onValidationComplete=function(d,c){return c};b.promptPosition="bottomRight";a.validationEngine(b);this.registerEventForScheduledWorkflow();this.registerEventForChangeInScheduledType()}});