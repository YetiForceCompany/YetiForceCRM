{"version":3,"file":"Edit3.min.js","sources":["Edit3.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\nSettings_Workflows_Edit_Js(\n\t'Settings_Workflows_Edit3_Js',\n\t{},\n\t{\n\t\tstep3Container: false,\n\t\tadvanceFilterInstance: false,\n\t\tconditionBuilderInstance: false,\n\t\tckEditorInstance: false,\n\t\tfieldValueMap: false,\n\t\tinit: function () {\n\t\t\tthis.initialize();\n\t\t},\n\t\t/**\n\t\t * Function to get the container which holds all the reports step1 elements\n\t\t * @return jQuery object\n\t\t */\n\t\tgetContainer: function () {\n\t\t\treturn this.step3Container;\n\t\t},\n\t\t/**\n\t\t * Function to set the reports step1 container\n\t\t * @params : element - which represents the reports step1 container\n\t\t * @return : current instance\n\t\t */\n\t\tsetContainer: function (element) {\n\t\t\tthis.step3Container = element;\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function  to intialize the reports step1\n\t\t */\n\t\tinitialize: function (container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = $('#workflow_step3');\n\t\t\t}\n\t\t\tif (container.is('#workflow_step3')) {\n\t\t\t\tthis.setContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setContainer($('#workflow_step3'));\n\t\t\t}\n\t\t},\n\t\tregisterEditTaskEvent: function () {\n\t\t\tlet thisInstance = this,\n\t\t\t\tcontainer = this.getContainer();\n\t\t\tcontainer.on('click', '[data-url]', function (e) {\n\t\t\t\tlet currentElement = $(e.currentTarget),\n\t\t\t\t\tparams = currentElement.data('url'),\n\t\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tapp.showModalWindow(null, params, function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tlet clipboard = App.Fields.Text.registerCopyClipboard(data);\n\t\t\t\t\t\tcontainer.one('hidden.bs.modal', () => {\n\t\t\t\t\t\t\tclipboard.destroy();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.registerVTCreateTodoTaskEvents();\n\t\t\t\t\tvar taskType = $('#taskType').val();\n\t\t\t\t\tvar functionName = 'register' + taskType + 'Events';\n\t\t\t\t\tif (typeof thisInstance[functionName] !== 'undefined') {\n\t\t\t\t\t\tthisInstance[functionName].apply(thisInstance, data);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.registerSaveTaskSubmitEvent(taskType);\n\t\t\t\t\t$('#saveTask').validationEngine(app.validationEngineOptions);\n\t\t\t\t\tthisInstance.registerFillTaskFieldsEvent();\n\t\t\t\t\tthisInstance.registerCheckSelectDateEvent();\n\t\t\t\t\tApp.Tools.VariablesPanel.registerRefreshCompanyVariables(data);\n\t\t\t\t\tthisInstance.conditionBuilderInstance = new Vtiger_ConditionBuilder_Js(\n\t\t\t\t\t\tdata.find('.js-condition-builder'),\n\t\t\t\t\t\tdata.find('.js-source-module').val()\n\t\t\t\t\t);\n\t\t\t\t\tthisInstance.conditionBuilderInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterCheckSelectDateEvent: function () {\n\t\t\t$('[name=\"check_select_date\"]').on('change', function (e) {\n\t\t\t\tif ($(e.currentTarget).is(':checked')) {\n\t\t\t\t\t$('#checkSelectDateContainer').removeClass('d-none').addClass('show');\n\t\t\t\t} else {\n\t\t\t\t\t$('#checkSelectDateContainer').removeClass('show').addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register save task submit event\n\t\t * @param {string} taskType\n\t\t */\n\t\tregisterSaveTaskSubmitEvent(taskType) {\n\t\t\t$('#saveTask').on('submit', (e) => {\n\t\t\t\tlet form = $(e.currentTarget);\n\t\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\t\tlet customValidationFunctionName = taskType + 'CustomValidation';\n\t\t\t\t\tif (typeof this[customValidationFunctionName] !== 'undefined') {\n\t\t\t\t\t\tlet result = this[customValidationFunctionName].apply(this);\n\t\t\t\t\t\tif (result !== true) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\ttext: result,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet preSaveActionFunctionName = 'preSave' + taskType;\n\t\t\t\t\tif (typeof this[preSaveActionFunctionName] !== 'undefined') {\n\t\t\t\t\t\tthis[preSaveActionFunctionName].apply(this, [taskType]);\n\t\t\t\t\t}\n\t\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\t\tlet createEntityModule = form.find('.createEntityModule:visible option:selected');\n\t\t\t\t\tformData.entity_type = createEntityModule.val();\n\t\t\t\t\tformData.relationId = createEntityModule.attr('data-relation-id');\n\t\t\t\t\tAppConnector.request(formData).done((data) => {\n\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\tthis.getTaskList();\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\tVTUpdateFieldsTaskCustomValidation: function () {\n\t\t\treturn this.checkDuplicateFieldsSelected();\n\t\t},\n\t\tVTCreateEntityTaskCustomValidation: function () {\n\t\t\treturn this.checkDuplicateFieldsSelected();\n\t\t},\n\t\tcheckDuplicateFieldsSelected: function () {\n\t\t\tvar selectedFieldNames = $('#save_fieldvaluemapping').find('.js-conditions-row').find('[name=\"fieldname\"]');\n\t\t\tvar result = true;\n\t\t\tvar failureMessage = app.vtranslate('JS_SAME_FIELDS_SELECTED_MORE_THAN_ONCE');\n\t\t\t$.each(selectedFieldNames, function (i, ele) {\n\t\t\t\tvar fieldName = $(ele).attr('value');\n\t\t\t\tvar fields = $('[name=' + fieldName + ']').not(':hidden');\n\t\t\t\tif (fields.length > 1) {\n\t\t\t\t\tresult = failureMessage;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\tpreSaveVTUpdateFieldsTask: function (tasktype) {\n\t\t\tvar values = this.getValues(tasktype);\n\t\t\t$('[name=\"field_value_mapping\"]').val(JSON.stringify(values));\n\t\t},\n\t\tpreSaveVTCreateEntityTask: function (tasktype) {\n\t\t\tvar values = this.getValues(tasktype);\n\t\t\t$('[name=\"field_value_mapping\"]').val(JSON.stringify(values));\n\t\t},\n\t\tpreSaveVTEmailTask: function (tasktype) {\n\t\t\t$('#content').val($('#saveTask').serializeFormData().content);\n\t\t\t//To keep the plain text value to the textarea which need to be\n\t\t\t//sent to server\n\t\t},\n\t\tpreSaveVTUpdateRelatedFieldTask: function (tasktype) {\n\t\t\tvar values = this.getValues(tasktype);\n\t\t\t$('[name=\"field_value_mapping\"]').val(JSON.stringify(values));\n\t\t},\n\t\tpreSaveSumFieldFromDependent: function (tasktype) {\n\t\t\t$('[name=\"conditions\"]').val(JSON.stringify(this.conditionBuilderInstance.getConditions()));\n\t\t},\n\t\t/**\n\t\t * Function to check if the field selected is empty field\n\t\t * @params : select element which represents the field\n\t\t * @return : boolean true/false\n\t\t */\n\t\tisEmptyFieldSelected: function (fieldSelect) {\n\t\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\t\t//assumption that empty field will be having value none\n\t\t\tif (selectedOption.val() === 'none' || !selectedOption.val()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tgetVTCreateEntityTaskFieldList: function () {\n\t\t\treturn new Array('fieldname', 'value', 'valuetype', 'modulename');\n\t\t},\n\t\tgetVTUpdateFieldsTaskFieldList: function () {\n\t\t\treturn new Array('fieldname', 'value', 'valuetype');\n\t\t},\n\t\tgetVTUpdateRelatedFieldTaskFieldList: function () {\n\t\t\treturn new Array('fieldname', 'value', 'valuetype');\n\t\t},\n\t\t/**\n\t\t * Get values\n\t\t * @param {string} tasktype\n\t\t * @returns {Array}\n\t\t */\n\t\tgetValues(tasktype) {\n\t\t\tlet fieldListFunctionName = 'get' + tasktype + 'FieldList',\n\t\t\t\tfieldList = [];\n\t\t\tif (typeof this[fieldListFunctionName] !== 'undefined') {\n\t\t\t\tfieldList = this[fieldListFunctionName].apply();\n\t\t\t}\n\n\t\t\tlet values = [];\n\t\t\t$('.js-conditions-row', $('#save_fieldvaluemapping')).each((i, conditionDomElement) => {\n\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\tfieldSelectElement = $('[name=\"fieldname\"]', rowElement),\n\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t//To not send empty fields to server\n\t\t\t\tif (this.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet fieldDataInfo = fieldSelectElement.find('option:selected').data('fieldinfo'),\n\t\t\t\t\tfieldType = fieldDataInfo.type,\n\t\t\t\t\trowValues = {},\n\t\t\t\t\tkey,\n\t\t\t\t\tfield;\n\t\t\t\tif (fieldType === 'owner') {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field == 'value' && valueSelectElement.is('select')) {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.find('option:selected').val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (fieldType === 'picklist' || fieldType == 'multipicklist') {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\tfor (let j = 0; j < valuesArr.length; j++) {\n\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[j]] !== 'undefined') {\n\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[j]]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[j]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && fieldType == 'picklist') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && fieldType == 'multipicklist') {\n\t\t\t\t\t\t\tvar value = valueSelectElement.val();\n\t\t\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field == 'value') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($('[name=\"valuetype\"]', rowElement).val() == 'false' || $('[name=\"valuetype\"]', rowElement).length == 0) {\n\t\t\t\t\trowValues['valuetype'] = 'rawtext';\n\t\t\t\t}\n\n\t\t\t\tvalues.push(rowValues);\n\t\t\t});\n\t\t\treturn values;\n\t\t},\n\t\tgetTaskList: function () {\n\t\t\tvar container = this.getContainer();\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'TasksList',\n\t\t\t\trecord: $('[name=\"record\"]', container).val()\n\t\t\t};\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done((data) => {\n\t\t\t\t$('#taskListContainer').html(data);\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tthis.registerSortWorkflowActionsTasks();\n\t\t\t});\n\t\t},\n\t\tregisterTaskStatusChangeEvent: function () {\n\t\t\tvar container = this.getContainer();\n\t\t\tcontainer.on('change', '.taskStatus', function (e) {\n\t\t\t\tvar currentStatusElement = $(e.currentTarget);\n\t\t\t\tvar url = currentStatusElement.data('statusurl');\n\t\t\t\tif (currentStatusElement.is(':checked')) {\n\t\t\t\t\turl = url + '&status=true';\n\t\t\t\t} else {\n\t\t\t\t\turl = url + '&status=false';\n\t\t\t\t}\n\t\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tif (data.result == 'ok') {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_STATUS_CHANGED_SUCCESSFULLY'),\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\t}\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\t\t},\n\t\tregisterTaskDeleteEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.getContainer();\n\t\t\tcontainer.on('click', '.deleteTask', function (e) {\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('LBL_DELETE_CONFIRMATION'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\t\t\tvar deleteUrl = currentElement.data('deleteurl');\n\t\t\t\t\t\tAppConnector.request(deleteUrl).done(function (data) {\n\t\t\t\t\t\t\tif (data.result == 'ok') {\n\t\t\t\t\t\t\t\tthisInstance.getTaskList();\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_TASK_DELETED_SUCCESSFULLY'),\n\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterFillTaskFromEmailFieldEvent: function () {\n\t\t\t$('#saveTask').on('change', '#fromEmailOption', function (e) {\n\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\tvar inputElement = currentElement.closest('.row').find('.fields');\n\t\t\t\tinputElement.val(currentElement.val());\n\t\t\t});\n\t\t},\n\t\tregisterFillTaskFieldsEvent: function () {\n\t\t\t$('#saveTask').on('change', '.task-fields', function (e) {\n\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\tvar inputElement = currentElement.closest('.row').find('.fields');\n\t\t\t\tvar oldValue = inputElement.val();\n\t\t\t\tvar newValue = oldValue + currentElement.val();\n\t\t\t\tinputElement.val(newValue);\n\t\t\t});\n\t\t},\n\t\tregisterVTEmailTaskEvents: function () {\n\t\t\tvar textAreaElement = $('#content');\n\t\t\tnew App.Fields.Text.Editor(textAreaElement);\n\t\t\tthis.registerFillTaskFromEmailFieldEvent();\n\t\t\tthis.registerCcAndBccEvents();\n\t\t},\n\t\tregisterVTCreateTodoTaskEvents: function () {\n\t\t\tapp.registerEventForClockPicker();\n\t\t},\n\t\tregisterVTUpdateFieldsTaskEvents: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.registerAddFieldEvent();\n\t\t\tthis.registerDeleteConditionEvent();\n\t\t\tthis.registerFieldChange();\n\t\t\tthis.fieldValueMap = false;\n\t\t\tif ($('#fieldValueMapping').val() != '') {\n\t\t\t\tthis.fieldValueReMapping();\n\t\t\t}\n\t\t\tvar fields = $('#save_fieldvaluemapping').find('select[name=\"fieldname\"]');\n\t\t\t$.each(fields, function (i, field) {\n\t\t\t\tthisInstance.loadFieldSpecificUi($(field));\n\t\t\t});\n\t\t\tthis.getPopUp($('#saveTask'));\n\t\t},\n\t\tregisterVTUpdateRelatedFieldTaskEvents: function (container) {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.registerAddFieldEvent();\n\t\t\tthis.registerDeleteConditionEvent();\n\t\t\tthis.registerConditionsModal($(container));\n\t\t\tthis.registerFieldChange();\n\t\t\tthis.fieldValueMap = false;\n\t\t\tif ($('#fieldValueMapping').val() != '') {\n\t\t\t\tthis.fieldValueReMapping();\n\t\t\t}\n\t\t\tvar fields = $('#save_fieldvaluemapping').find('select[name=\"fieldname\"]');\n\t\t\t$.each(fields, function (i, field) {\n\t\t\t\tthisInstance.loadFieldSpecificUi($(field));\n\t\t\t});\n\t\t\tthis.getPopUp($('#saveTask'));\n\t\t},\n\t\t/**\n\t\t * Add field\n\t\t * @param {jQuery|null} replaceElement - if we want to replace existing field container with new one\n\t\t */\n\t\taddField(replaceElement = null) {\n\t\t\tconst newAddFieldContainer = $('.js-add-basic-field-container')\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('js-add-basic-field-container d-none')\n\t\t\t\t.addClass('js-conditions-row');\n\t\t\t$('select', newAddFieldContainer).addClass('select2');\n\t\t\tif (replaceElement === null) {\n\t\t\t\t$('#save_fieldvaluemapping').append(newAddFieldContainer);\n\t\t\t} else {\n\t\t\t\treplaceElement.replaceWith(newAddFieldContainer);\n\t\t\t}\n\t\t\t//change in to select elements\n\t\t\tApp.Fields.Picklist.changeSelectElementView(newAddFieldContainer);\n\t\t},\n\t\t/**\n\t\t * Register add field event\n\t\t */\n\t\tregisterAddFieldEvent() {\n\t\t\t$('#addFieldBtn').on('click', (e) => {\n\t\t\t\tthis.addField();\n\t\t\t});\n\t\t},\n\t\tregisterDeleteConditionEvent() {\n\t\t\t$('#saveTask').on('click', '.js-condition-delete', (e) => {\n\t\t\t\t$(e.currentTarget).closest('.js-conditions-row').remove();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register condition wizard\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterConditionsModal(container) {\n\t\t\tcontainer.on('click', '.js-condition-modal', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet fieldValue = element.closest('.js-conditions-row').find('[name=\"fieldname\"]').val();\n\t\t\t\tlet sourceField = container.find('.js-condition-value');\n\t\t\t\tif (!fieldValue || sourceField.length <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet value = sourceField.val() ? { ...JSON.parse(sourceField.val()) } : {};\n\t\t\t\tlet moduleName;\n\t\t\t\tlet fieldValueParts = fieldValue.split('::');\n\t\t\t\tif (fieldValueParts.length === 2) {\n\t\t\t\t\tmoduleName = fieldValueParts[0];\n\t\t\t\t} else {\n\t\t\t\t\tmoduleName = fieldValueParts[1];\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'ConditionBuilder',\n\t\t\t\t\tmode: 'builder',\n\t\t\t\t\tsourceModuleName: moduleName,\n\t\t\t\t\trelatedModuleSkip: true,\n\t\t\t\t\tadvanceCriteria: value[fieldValue] || []\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tapp.showModalHtml({\n\t\t\t\t\t\tclass: 'modal-lg',\n\t\t\t\t\t\theader: element.attr('title'),\n\t\t\t\t\t\theaderIcon: 'fas fa-filter',\n\t\t\t\t\t\tbody: data,\n\t\t\t\t\t\tfooterButtons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_APPLY'),\n\t\t\t\t\t\t\t\ticon: 'fas fa-check',\n\t\t\t\t\t\t\t\tclass: 'btn-success js-condition-apply'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_CANCEL'),\n\t\t\t\t\t\t\t\ticon: 'fas fa-times',\n\t\t\t\t\t\t\t\tclass: 'btn-danger',\n\t\t\t\t\t\t\t\tdata: { dismiss: 'modal' }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tcb: (modal) => {\n\t\t\t\t\t\t\tlet conditionBuilder = new Vtiger_ConditionBuilder_Js(modal.find('.js-condition-builder'), {\n\t\t\t\t\t\t\t\tsourceModuleName: moduleName,\n\t\t\t\t\t\t\t\trelatedModuleSkip: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tconditionBuilder.registerEvents();\n\t\t\t\t\t\t\tmodal.on('click', '.js-condition-apply', () => {\n\t\t\t\t\t\t\t\tlet conditions = conditionBuilder.getConditions(true);\n\t\t\t\t\t\t\t\tif (conditions && Object.keys(conditions).length) {\n\t\t\t\t\t\t\t\t\tvalue[fieldValue] = conditions;\n\t\t\t\t\t\t\t\t} else if (typeof value[fieldValue] !== 'undefined') {\n\t\t\t\t\t\t\t\t\tdelete value[fieldValue];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsourceField.val(JSON.stringify(value));\n\t\t\t\t\t\t\t\tapp.hideModalWindow(false, modal.closest('.js-modal-container').attr('id'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register field change event\n\t\t */\n\t\tregisterFieldChange() {\n\t\t\t$('#saveTask').on('change', 'select[name=\"fieldname\"]', (e) => {\n\t\t\t\tconst selectedElement = $(e.currentTarget);\n\t\t\t\tconst conditionRow = selectedElement.closest('.js-conditions-row');\n\t\t\t\tif (selectedElement.val() !== 'none' && selectedElement.val()) {\n\t\t\t\t\tvar moduleNameElement = conditionRow.find('[name=\"modulename\"]');\n\t\t\t\t\tif (moduleNameElement.length > 0) {\n\t\t\t\t\t\tlet workflowModuleName = selectedElement.closest('form').find('#workflowModuleName').val();\n\t\t\t\t\t\tlet selectedOption = selectedElement.find('option:selected');\n\t\t\t\t\t\tvar selectedOptionFieldInfo = selectedOption.data('fieldinfo');\n\t\t\t\t\t\tvar type = selectedOptionFieldInfo.type;\n\t\t\t\t\t\tif (type == 'picklist' || type == 'multipicklist') {\n\t\t\t\t\t\t\tvar selectElement = $('select.createEntityModule:not(:disabled)');\n\t\t\t\t\t\t\tvar moduleName = selectElement.val();\n\t\t\t\t\t\t\tmoduleNameElement.val(moduleName).change().prop('disabled', true);\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tselectedOption.data('reference') &&\n\t\t\t\t\t\t\tmoduleNameElement.find(`option[value=\"${workflowModuleName}\"]`).length\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tmoduleNameElement.val(workflowModuleName).change().prop('disabled', true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmoduleNameElement.prop('disabled', false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.loadFieldSpecificUi(selectedElement);\n\t\t\t\t} else {\n\t\t\t\t\tthis.addField(conditionRow);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetModuleName: function () {\n\t\t\treturn app.getModuleName();\n\t\t},\n\t\tgetFieldValueMapping: function () {\n\t\t\tvar fieldValueMap = this.fieldValueMap;\n\t\t\tif (fieldValueMap != false) {\n\t\t\t\treturn fieldValueMap;\n\t\t\t} else {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t},\n\t\tfieldValueReMapping: function () {\n\t\t\tvar object = JSON.parse($('#fieldValueMapping').val());\n\t\t\tvar fieldValueReMap = {};\n\n\t\t\t$.each(object, function (i, array) {\n\t\t\t\tfieldValueReMap[array.fieldname] = {};\n\t\t\t\tvar values = {};\n\t\t\t\t$.each(array, function (key, value) {\n\t\t\t\t\tvalues[key] = value;\n\t\t\t\t});\n\t\t\t\tfieldValueReMap[array.fieldname] = values;\n\t\t\t});\n\t\t\tthis.fieldValueMap = fieldValueReMap;\n\t\t},\n\t\t/**\n\t\t * Load field specific UI\n\t\t * @param {jQuery} fieldSelect\n\t\t * @returns this\n\t\t */\n\t\tloadFieldSpecificUi(fieldSelect) {\n\t\t\tconst selectedOption = fieldSelect.find('option:selected');\n\t\t\tconst row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tconst fieldUiHolder = row.find('.fieldUiHolder');\n\t\t\tconst fieldInfo = selectedOption.data('fieldinfo');\n\t\t\tconst fieldValueMapping = this.getFieldValueMapping();\n\t\t\tlet selectField = '';\n\t\t\tif (fieldValueMapping && typeof fieldValueMapping[fieldInfo.name] !== 'undefined') {\n\t\t\t\tselectField = fieldValueMapping[fieldInfo.name];\n\t\t\t} else if (fieldValueMapping && typeof fieldValueMapping[fieldSelect.val()] !== 'undefined') {\n\t\t\t\tselectField = fieldValueMapping[fieldSelect.val()];\n\t\t\t}\n\t\t\tif (selectField) {\n\t\t\t\tfieldInfo.value = selectField['value'];\n\t\t\t\tfieldInfo.workflow_valuetype = selectField['valuetype'];\n\t\t\t} else {\n\t\t\t\tfieldInfo.workflow_valuetype = 'rawtext';\n\t\t\t}\n\t\t\tconst moduleName = this.getModuleName();\n\t\t\tconst fieldModel = Vtiger_Field_Js.getInstance(fieldInfo, moduleName);\n\t\t\tthis.fieldModelInstance = fieldModel;\n\t\t\tconst fieldSpecificUi = this.getFieldSpecificUi(fieldSelect);\n\t\t\t//remove validation since we dont need validations for all eleements\n\t\t\t// Both filter and find is used since we dont know whether the element is enclosed in some conainer like currency\n\t\t\tlet fieldName = fieldModel.getName();\n\t\t\tif (fieldModel.getType() == 'multipicklist') {\n\t\t\t\tfieldName = fieldName + '[]';\n\t\t\t}\n\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').attr('data-value', 'value');\n\t\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').attr('data-value', 'value');\n\t\t\tfieldSpecificUi.filter('[name=\"valuetype\"]').removeAttr('data-validation-engine');\n\t\t\tfieldSpecificUi.find('[name=\"valuetype\"]').removeAttr('data-validation-engine');\n\t\t\t//If the workflowValueType is rawtext then only validation should happen\n\t\t\tconst workflowValueType = fieldSpecificUi.filter('[name=\"valuetype\"]').val();\n\t\t\tif (workflowValueType != 'rawtext' && typeof workflowValueType !== 'undefined') {\n\t\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').removeAttr('data-validation-engine');\n\t\t\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').removeAttr('data-validation-engine');\n\t\t\t}\n\t\t\tfieldUiHolder.html(fieldSpecificUi);\n\t\t\tif (fieldSpecificUi.is('input.select2') || fieldSpecificUi.is('select')) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(fieldSpecificUi);\n\t\t\t} else if (fieldSpecificUi.is('input.dateField')) {\n\t\t\t\tApp.Fields.Date.register(fieldSpecificUi);\n\t\t\t} else if (fieldSpecificUi.is('input.dateRangeField')) {\n\t\t\t\tApp.Fields.Date.registerRange(fieldSpecificUi, { ranges: false });\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Functiont to get the field specific ui for the selected field\n\t\t * @prarms : fieldSelectElement - select element which will represents field list\n\t\t * @return : jquery object which represents the ui for the field\n\t\t */\n\t\tgetFieldSpecificUi: function (fieldSelectElement) {\n\t\t\tvar fieldModel = this.fieldModelInstance;\n\t\t\treturn $(fieldModel.getUiTypeSpecificHtml());\n\t\t},\n\t\tregisterVTCreateEventTaskEvents: function () {\n\t\t\tapp.registerEventForClockPicker();\n\t\t},\n\t\tregisterVTCreateEntityTaskEvents: function () {\n\t\t\tthis.registerChangeCreateEntityEvent();\n\t\t\tthis.registerVTUpdateFieldsTaskEvents();\n\t\t},\n\t\t/**\n\t\t * Register record collector events.\n\t\t */\n\t\tregisterRecordCollectorEvents: function () {\n\t\t\tconst recordCollector = $('[name=\"recordCollector\"]');\n\t\t\tconst selectedFields = $('.js-fields-map');\n\t\t\trecordCollector.on('change', function (e) {\n\t\t\t\tlet fieldsMap = '';\n\t\t\t\trecordCollector.find('.js-fields').each(function (_, e) {\n\t\t\t\t\tlet row = $(e);\n\t\t\t\t\tif (row.data('fields') && row.is(':checked')) {\n\t\t\t\t\t\tfieldsMap = row.data('fields');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (fieldsMap !== '') {\n\t\t\t\t\tif (selectedFields.is('select')) {\n\t\t\t\t\t\tlet newOptions = new $();\n\t\t\t\t\t\t$.each(fieldsMap, (v, l) => {\n\t\t\t\t\t\t\tnewOptions = newOptions.add(new Option(l, v, false));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tselectedFields.html(newOptions);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (recordCollector.val() && selectedFields.val().length < 1) {\n\t\t\t\trecordCollector.trigger('change');\n\t\t\t}\n\t\t},\n\t\tregisterChangeCreateEntityEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\t$('[name=\"mappingPanel\"]').on('change', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tapp.setMainParams('mappingPanel', currentTarget.val());\n\t\t\t\t$('#addCreateEntityContainer').html('');\n\t\t\t\tvar hideElementByClass = $('.' + currentTarget.data('hide'));\n\t\t\t\tvar showElementByClass = $('.' + currentTarget.data('show'));\n\t\t\t\tvar taskFields = app.getMainParams('taskFields', true);\n\t\t\t\thideElementByClass\n\t\t\t\t\t.addClass('d-none')\n\t\t\t\t\t.find('input,select')\n\t\t\t\t\t.each(function (e, n) {\n\t\t\t\t\t\tvar element = $(this);\n\t\t\t\t\t\tvar name = element.attr('name');\n\t\t\t\t\t\tif ($.inArray(name, taskFields) >= 0) {\n\t\t\t\t\t\t\tif (element.is('select')) {\n\t\t\t\t\t\t\t\telement.val('').trigger('change');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telement.prop('disabled', true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tshowElementByClass\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.find('input,select')\n\t\t\t\t\t.each(function (e, n) {\n\t\t\t\t\t\tvar element = $(this);\n\t\t\t\t\t\tvar name = element.attr('name');\n\t\t\t\t\t\tif ($.inArray(name, taskFields) >= 0) {\n\t\t\t\t\t\t\telement.prop('disabled', false);\n\t\t\t\t\t\t\tif (element.is('select')) {\n\t\t\t\t\t\t\t\telement.val('').trigger('change');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t\t$('.createEntityModule').on('change', function (e) {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'CreateEntity',\n\t\t\t\t\tfor_workflow: $('[name=\"for_workflow\"]').val(),\n\t\t\t\t\tmappingPanel: app.getMainParams('mappingPanel')\n\t\t\t\t};\n\t\t\t\tvar relatedModule = $(e.currentTarget).val();\n\t\t\t\tif (relatedModule) {\n\t\t\t\t\tparams['relatedModule'] = relatedModule;\n\t\t\t\t}\n\t\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar createEntityContainer = $('#addCreateEntityContainer');\n\t\t\t\t\tcreateEntityContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(createEntityContainer);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(createEntityContainer.find('.select2'));\n\t\t\t\t\tthisInstance.registerAddFieldEvent();\n\t\t\t\t\tthisInstance.fieldValueMap = false;\n\t\t\t\t\tif ($('#fieldValueMapping').val() != '') {\n\t\t\t\t\t\tthis.fieldValueReMapping();\n\t\t\t\t\t}\n\t\t\t\t\tvar fields = $('#save_fieldvaluemapping').find('select[name=\"fieldname\"]');\n\t\t\t\t\t$.each(fields, function (i, field) {\n\t\t\t\t\t\tthisInstance.loadFieldSpecificUi($(field));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will change the UI styles based on recurring type\n\t\t * @params - recurringType - which recurringtype is selected\n\t\t */\n\t\tchangeRecurringTypesUIStyles: function (recurringType) {\n\t\t\tif (recurringType == 'Daily' || recurringType == 'Yearly') {\n\t\t\t\t$('#repeatWeekUI').removeClass('show').addClass('d-none');\n\t\t\t\t$('#repeatMonthUI').removeClass('show').addClass('d-none');\n\t\t\t} else if (recurringType == 'Weekly') {\n\t\t\t\t$('#repeatWeekUI').removeClass('d-none').addClass('show');\n\t\t\t\t$('#repeatMonthUI').removeClass('show').addClass('d-none');\n\t\t\t} else if (recurringType == 'Monthly') {\n\t\t\t\t$('#repeatWeekUI').removeClass('show').addClass('d-none');\n\t\t\t\t$('#repeatMonthUI').removeClass('d-none').addClass('show');\n\t\t\t}\n\t\t},\n\t\tcheckHiddenStatusofCcandBcc: function () {\n\t\t\tvar ccLink = $('#ccLink');\n\t\t\tvar bccLink = $('#bccLink');\n\t\t\tif (ccLink.hasClass('d-none') && bccLink.hasClass('d-none')) {\n\t\t\t\tccLink.closest('div.row').addClass('d-none');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the events for bcc and cc links\n\t\t */\n\t\tregisterCcAndBccEvents: function () {\n\t\t\tvar thisInstance = this;\n\t\t\t$('#ccLink').on('click', function (e) {\n\t\t\t\tvar ccContainer = $('#ccContainer');\n\t\t\t\tccContainer.removeClass('d-none');\n\t\t\t\tvar taskFieldElement = ccContainer.find('select.task-fields');\n\t\t\t\ttaskFieldElement.addClass('select2');\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(taskFieldElement);\n\t\t\t\t$(e.currentTarget).addClass('d-none');\n\t\t\t\tthisInstance.checkHiddenStatusofCcandBcc();\n\t\t\t});\n\t\t\t$('#bccLink').on('click', function (e) {\n\t\t\t\tvar bccContainer = $('#bccContainer');\n\t\t\t\tbccContainer.removeClass('d-none');\n\t\t\t\tvar taskFieldElement = bccContainer.find('select.task-fields');\n\t\t\t\ttaskFieldElement.addClass('select2');\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(taskFieldElement);\n\t\t\t\t$(e.currentTarget).addClass('d-none');\n\t\t\t\tthisInstance.checkHiddenStatusofCcandBcc();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register sortable\n\t\t */\n\t\tregisterSortWorkflowActionsTasks: function () {\n\t\t\tlet tasks = this.container.find('.js-workflow-tasks-list');\n\t\t\ttasks.sortable({\n\t\t\t\tcontainment: tasks,\n\t\t\t\titems: tasks.find('.js-workflow-task'),\n\t\t\t\thandle: '.js-drag',\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tclasses: {\n\t\t\t\t\t'ui-sortable-helper': 'bg-light'\n\t\t\t\t},\n\t\t\t\thelper: function (_e, ui) {\n\t\t\t\t\tui.children().each(function (_index, element) {\n\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\telement.width(element.width());\n\t\t\t\t\t});\n\t\t\t\t\treturn ui;\n\t\t\t\t},\n\t\t\t\tupdate: () => {\n\t\t\t\t\tthis.saveSequence();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Save sequence\n\t\t */\n\t\tsaveSequence: function () {\n\t\t\tlet tasks = [];\n\t\t\tthis.container.find('.js-workflow-task').each(function (index) {\n\t\t\t\ttasks[index] = $(this).data('id');\n\t\t\t});\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: this.container.find('[name=\"module\"]').length\n\t\t\t\t\t? this.container.find('[name=\"module\"]').val()\n\t\t\t\t\t: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: 'sequenceTasks',\n\t\t\t\ttasks: tasks\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data.result.message) {\n\t\t\t\t\t\tapp.showNotify({ text: data.result.message });\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function () {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis.container = this.getContainer();\n\t\t\tApp.Fields.Picklist.changeSelectElementView(this.container);\n\t\t\tthis.registerEditTaskEvent();\n\t\t\tthis.registerTaskStatusChangeEvent();\n\t\t\tthis.registerTaskDeleteEvent();\n\t\t\tthis.registerSortWorkflowActionsTasks();\n\t\t}\n\t}\n);\n\n//http://stackoverflow.com/questions/946534/insert-text-into-textarea-with-jquery\n$.fn.extend({\n\tinsertAtCaret: function (myValue) {\n\t\treturn this.each(function (i) {\n\t\t\tif (document.selection) {\n\t\t\t\t//For browsers like Internet Explorer\n\t\t\t\tthis.focus();\n\t\t\t\tvar sel = document.selection.createRange();\n\t\t\t\tsel.text = myValue;\n\t\t\t\tthis.focus();\n\t\t\t} else if (this.selectionStart || this.selectionStart == '0') {\n\t\t\t\t//For browsers like Firefox and Webkit based\n\t\t\t\tvar startPos = this.selectionStart;\n\t\t\t\tvar endPos = this.selectionEnd;\n\t\t\t\tvar scrollTop = this.scrollTop;\n\t\t\t\tthis.value = this.value.substring(0, startPos) + myValue + this.value.substring(endPos, this.value.length);\n\t\t\t\tthis.focus();\n\t\t\t\tthis.selectionStart = startPos + myValue.length;\n\t\t\t\tthis.selectionEnd = startPos + myValue.length;\n\t\t\t\tthis.scrollTop = scrollTop;\n\t\t\t} else {\n\t\t\t\tthis.value += myValue;\n\t\t\t\tthis.focus();\n\t\t\t}\n\t\t});\n\t}\n});\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","source","i","arguments","length","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","TypeError","Number","Settings_Workflows_Edit_Js","step3Container","advanceFilterInstance","conditionBuilderInstance","ckEditorInstance","fieldValueMap","init","initialize","getContainer","setContainer","element","container","$","is","registerEditTaskEvent","thisInstance","on","e","currentElement","currentTarget","params","data","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","app","showModalWindow","mode","clipboard","App","Fields","Text","registerCopyClipboard","one","destroy","registerVTCreateTodoTaskEvents","taskType","val","functionName","registerSaveTaskSubmitEvent","validationEngine","validationEngineOptions","registerFillTaskFieldsEvent","registerCheckSelectDateEvent","Tools","VariablesPanel","registerRefreshCompanyVariables","Vtiger_ConditionBuilder_Js","find","registerEvents","removeClass","addClass","_this","form","customValidationFunctionName","result","showNotify","title","vtranslate","text","type","preventDefault","preSaveActionFunctionName","formData","serializeFormData","createEntityModule","entity_type","relationId","attr","AppConnector","request","done","getTaskList","hideModalWindow","VTUpdateFieldsTaskCustomValidation","checkDuplicateFieldsSelected","VTCreateEntityTaskCustomValidation","selectedFieldNames","failureMessage","each","ele","fieldName","fields","not","preSaveVTUpdateFieldsTask","tasktype","values","getValues","JSON","stringify","preSaveVTCreateEntityTask","preSaveVTEmailTask","content","preSaveVTUpdateRelatedFieldTask","preSaveSumFieldFromDependent","getConditions","isEmptyFieldSelected","fieldSelect","selectedOption","getVTCreateEntityTaskFieldList","Array","getVTUpdateFieldsTaskFieldList","getVTUpdateRelatedFieldTaskFieldList","_this2","fieldListFunctionName","fieldList","conditionDomElement","rowElement","fieldSelectElement","valueSelectElement","field","fieldDataInfo","fieldType","rowValues","pickListValues","valuesArr","split","newValuesArr","j","join","valuetype","_this3","module","getModuleName","parent","getParentModuleName","view","record","html","registerSortWorkflowActionsTasks","registerTaskStatusChangeEvent","currentStatusElement","url","stopImmediatePropagation","registerTaskDeleteEvent","showConfirmModal","confirmedCallback","deleteUrl","registerFillTaskFromEmailFieldEvent","inputElement","closest","oldValue","newValue","registerVTEmailTaskEvents","textAreaElement","Editor","registerCcAndBccEvents","registerEventForClockPicker","registerVTUpdateFieldsTaskEvents","registerAddFieldEvent","registerDeleteConditionEvent","registerFieldChange","fieldValueReMapping","loadFieldSpecificUi","getPopUp","registerVTUpdateRelatedFieldTaskEvents","registerConditionsModal","addField","replaceElement","newAddFieldContainer","clone","append","replaceWith","Picklist","changeSelectElementView","_this4","remove","fieldValue","sourceField","moduleName","parse","fieldValueParts","sourceModuleName","relatedModuleSkip","advanceCriteria","showModalHtml","class","header","headerIcon","body","footerButtons","icon","dismiss","cb","modal","conditionBuilder","conditions","_this5","selectedElement","conditionRow","moduleNameElement","workflowModuleName","selectedOptionFieldInfo","selectElement","change","prop","concat","getFieldValueMapping","fieldValueReMap","array","fieldname","row","fieldUiHolder","fieldInfo","fieldValueMapping","selectField","name","workflow_valuetype","fieldModel","Vtiger_Field_Js","getInstance","fieldModelInstance","fieldSpecificUi","getFieldSpecificUi","getName","getType","removeAttr","workflowValueType","showSelect2ElementView","Date","register","registerRange","ranges","getUiTypeSpecificHtml","registerVTCreateEventTaskEvents","registerVTCreateEntityTaskEvents","registerChangeCreateEntityEvent","registerRecordCollectorEvents","recordCollector","selectedFields","fieldsMap","_","newOptions","v","l","add","Option","trigger","setMainParams","hideElementByClass","showElementByClass","taskFields","getMainParams","inArray","for_workflow","mappingPanel","relatedModule","createEntityContainer","changeRecurringTypesUIStyles","recurringType","checkHiddenStatusofCcandBcc","ccLink","bccLink","hasClass","ccContainer","taskFieldElement","bccContainer","_this6","tasks","sortable","containment","items","handle","revert","tolerance","cursor","classes","\"ui-sortable-helper\"","helper","_e","ui","children","_index","width","update","saveSequence","index","action","message","fail","fn","extend","insertAtCaret","myValue","document","selection","focus","sel","createRange","selectionStart","startPos","endPos","selectionEnd","scrollTop","substring"],"mappings":"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"}