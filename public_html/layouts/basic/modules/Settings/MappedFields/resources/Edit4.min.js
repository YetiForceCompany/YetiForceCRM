
Settings_MappedFields_Edit_Js("Settings_MappedFields_Edit4_Js",{},{step4Container:false,advanceFilterInstance:false,init:function(){this.initialize()},getContainer:function(){return this.step4Container},setContainer:function(a){this.step4Container=a;return this},initialize:function(a){if(typeof a==="undefined"){a=jQuery("#mf_step4")}if(a.is("#mf_step4")){this.setContainer(a)}else{this.setContainer(jQuery("#mf_step4"))}},submit:function(){var b=jQuery.Deferred();var c=this.getContainer();var e=c.serializeFormData();var d=jQuery.progressIndicator({position:"html",blockInfo:{enabled:true}});var a={};a.permissions=jQuery("#permissions").val();a.record=e.record;a.step=4;a=jQuery.extend({},a);app.saveAjax("step1",a).then(function(f){if(f.success==true){Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate("JS_MF_SAVED_SUCCESSFULLY")});setTimeout(function(){window.location.href="index.php?module=MappedFields&parent=Settings&page=1&view=List";d.progressIndicator({mode:"hide"})},1000)}});return b.promise()},registerCancelStepClickEvent:function(a){jQuery("button.cancelLink",a).on("click",function(){window.history.back()})},registerEvents:function(){var a=this.getContainer();var b=app.validationEngineOptions;b.onValidationComplete=function(d,c){return c};b.promptPosition="bottomRight";a.validationEngine(b);this.registerCancelStepClickEvent(a);app.showSelectizeElementView(a.find(".selectize"))}});