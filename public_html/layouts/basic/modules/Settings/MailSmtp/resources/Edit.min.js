Settings_Vtiger_Edit_Js("Settings_MailSmtp_Edit_Js",{},{registerSubmitForm:function(){var a=this.getForm();a.on("submit",function(d){a.find(".alert").hide();if(a.validationEngine("validate")===true){var b=a.serializeFormData();var c=jQuery.progressIndicator({blockInfo:{enabled:true}});app.saveAjax("updateSmtp",b).then(function(e){c.progressIndicator({mode:"hide"});if(true==e.result.success){window.location.href=e.result.url}else{a.find(".alert").show();a.find(".alert p").text(e.result.message)}});return false}else{app.formAlignmentAfterValidation(a)}})},registerPreviewPassword:function(){const a=this.getForm();const b=a.find(".previewPassword");b.on("mousedown",function(c){a.find('[name="'+$(c.currentTarget).data("targetName")+'"]').attr("type","text")});b.on("mouseup",function(c){a.find('[name="'+$(c.currentTarget).data("targetName")+'"]').attr("type","password")});b.on("mouseout",function(c){a.find('[name="'+$(c.currentTarget).data("targetName")+'"]').attr("type","password")})},registerEvents:function(){var a=this.getForm();if(a.length){a.validationEngine(app.validationEngineOptions);a.find("[data-inputmask]").inputmask()}this.registerSubmitForm();this.registerPreviewPassword();app.showPopoverElementView(a.find(".popoverTooltip"));a.find(".saveSendMail").click(function(){if(a.find(".saveMailContent").hasClass("hide")){a.find(".saveMailContent").removeClass("hide")}else{a.find(".saveMailContent").addClass("hide")}})}});