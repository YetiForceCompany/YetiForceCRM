{"version":3,"file":"Encryption.min.js","sources":["Encryption.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Password_Encryption_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Container (Form)\n\t\t */\n\t\tcontainer: null,\n\t\t/**\n\t\t * Set container (Form)\n\t\t * @param {Object} element\n\t\t */\n\t\tsetContainer: function (element) {\n\t\t\tthis.container = element;\n\t\t},\n\t\t/**\n\t\t * Get Container (Form)\n\t\t * @returns {Object}\n\t\t */\n\t\tgetContainer: function () {\n\t\t\treturn this.container;\n\t\t},\n\t\t/**\n\t\t * Register events for change method encryption\n\t\t */\n\t\tregisterChangeMethodName: function () {\n\t\t\tconst self = this;\n\t\t\tlet container = this.getContainer();\n\t\t\tthis.passwordAlert(container);\n\t\t\tcontainer.find('[name=\"methods\"]').on('change', function () {\n\t\t\t\tself.passwordAlert(container);\n\t\t\t});\n\t\t},\n\t\tpasswordAlert: function (container) {\n\t\t\tlet methodElement = container.find('[name=\"methods\"]');\n\t\t\tlet mapLengthVector = JSON.parse($('[name=\"lengthVectors\"]').val());\n\t\t\tlet length = mapLengthVector[methodElement.val()];\n\t\t\tlet validator = '';\n\t\t\tlet passwordElement = container.find('#password');\n\t\t\tlet vectorElement = container.find('#vector');\n\t\t\tlet passwordInfoAlert = container.find('.js-password-alert');\n\t\t\tif (length == undefined) {\n\t\t\t\tpasswordInfoAlert.addClass('d-none');\n\t\t\t\tvectorElement.attr('disabled', 'disabled');\n\t\t\t\tpasswordElement.attr('disabled', 'disabled');\n\t\t\t} else if (length === 0) {\n\t\t\t\tpasswordInfoAlert.addClass('d-none');\n\t\t\t\tvectorElement.val('');\n\t\t\t\tvectorElement.attr('disabled', 'disabled');\n\t\t\t} else {\n\t\t\t\tpasswordInfoAlert.removeClass('d-none');\n\t\t\t\tpasswordInfoAlert.find('.js-password-length').text(length);\n\t\t\t\tvectorElement.removeAttr('disabled');\n\t\t\t\tpasswordElement.removeAttr('disabled');\n\t\t\t\tvalidator = 'validate[required,maxSize[' + length + '],minSize[' + length + ']]';\n\t\t\t}\n\t\t\tvectorElement.attr('data-validation-engine', validator);\n\t\t},\n\t\t/**\n\t\t * Register events for form\n\t\t */\n\t\tregisterForm: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getContainer();\n\t\t\tcontainer.on('submit', function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request(container.serializeFormData()).done(function (response) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: response.result,\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\thide: false\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register events to preview password\n\t\t */\n\t\tregisterPreviewPassword: function () {\n\t\t\tvar container = this.getContainer();\n\t\t\tvar button = container.find('.previewPassword');\n\t\t\tbutton.on('mousedown', function () {\n\t\t\t\t$('#' + $(this).data('id')).attr('type', 'text');\n\t\t\t});\n\t\t\tbutton.on('mouseup', function () {\n\t\t\t\t$('#' + $(this).data('id')).attr('type', 'password');\n\t\t\t});\n\t\t\tbutton.on('mouseout', function () {\n\t\t\t\t$('#' + $(this).data('id')).attr('type', 'password');\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register all events in view\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.setContainer($('.formEncryption'));\n\t\t\tthis.registerForm();\n\t\t\tthis.registerChangeMethodName();\n\t\t\tthis.registerPreviewPassword();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","setContainer","element","getContainer","registerChangeMethodName","passwordAlert","find","on","self","mapLengthVector","JSON","parse","$","val","length","methodElement","validator","passwordElement","vectorElement","passwordInfoAlert","addClass","attr","removeClass","text","removeAttr","registerForm","thisInstance","event","preventDefault","validationEngine","app","validationEngineOptions","progressIndicator","position","blockInfo","enabled","AppConnector","request","serializeFormData","done","response","progressIndicatorElement","mode","showNotify","result","type","hide","registerPreviewPassword","button","data","registerEvents"],"mappings":"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"}