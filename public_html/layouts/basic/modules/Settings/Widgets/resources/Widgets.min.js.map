{"version":3,"file":"Widgets.min.js","sources":["Widgets.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Widgets_Index_Js',\n\t{},\n\t{\n\t\tgetTabId: function() {\n\t\t\treturn $(\".WidgetsManage [name='tabid']\").val();\n\t\t},\n\t\tgetType: function() {\n\t\t\treturn $(\".form-modalAddWidget [name='type']\").val();\n\t\t},\n\t\tcreateStep2: function(type) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar tabId = thisInstance.getTabId();\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({ position: 'html' });\n\t\t\tapp.showModalWindow(\n\t\t\t\tnull,\n\t\t\t\t'index.php?parent=Settings&module=Widgets&view=Widget&mode=createStep2&type=' + type + '&tabId=' + tabId,\n\t\t\t\tfunction(wizardContainer) {\n\t\t\t\t\tapp.showPopoverElementView(wizardContainer.find('.js-help-info'));\n\t\t\t\t\tif (type === 'RelatedModule') {\n\t\t\t\t\t\tthisInstance.loadFilters(wizardContainer);\n\t\t\t\t\t\tthisInstance.relatedModuleFields(wizardContainer);\n\t\t\t\t\t\twizardContainer.find(\"select[name='relatedmodule']\").on('change', function() {\n\t\t\t\t\t\t\tthisInstance.changeRelatedModule();\n\t\t\t\t\t\t\tthisInstance.relatedModuleFields(wizardContainer);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar form = jQuery('form', wizardContainer);\n\t\t\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\t\t\tform.on('submit', function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\t\t\tvar save = true;\n\t\t\t\t\t\t\tif (form && form.hasClass('validateForm') && form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t\t\t\t\tsave = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (save) {\n\t\t\t\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t\t\t.registerSaveEvent('saveWidget', {\n\t\t\t\t\t\t\t\t\t\tdata: formData,\n\t\t\t\t\t\t\t\t\t\ttabid: tabId\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.done(_ => {\n\t\t\t\t\t\t\t\t\t\tthisInstance.reloadWidgets();\n\t\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tloadWidgets: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar blocks = jQuery('.blocksSortable');\n\t\t\tblocks.sortable({\n\t\t\t\trevert: true,\n\t\t\t\tconnectWith: '.blocksSortable',\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tplaceholder: 'state-highlight',\n\t\t\t\tstop: function(event, ui) {\n\t\t\t\t\tthisInstance.updateSequence();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdateSequence: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar params = {};\n\t\t\t$('.blockSortable').each(function(index) {\n\t\t\t\tparams[$(this).data('id')] = {\n\t\t\t\t\tindex: index,\n\t\t\t\t\tcolumn: $(this)\n\t\t\t\t\t\t.closest('.blocksSortable')\n\t\t\t\t\t\t.data('column')\n\t\t\t\t};\n\t\t\t});\n\t\t\tvar progress = $.progressIndicator({\n\t\t\t\tmessage: app.vtranslate('Saving changes'),\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tthisInstance.registerSaveEvent('updateSequence', {\n\t\t\t\tdata: params,\n\t\t\t\ttabid: $(\"input[name='tabid']\").val()\n\t\t\t});\n\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t},\n\t\treloadWidgets: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar Indicator = jQuery.progressIndicator({\n\t\t\t\tmessage: app.vtranslate('Loading data'),\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = {};\n\t\t\tparams['module'] = 'Widgets';\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['parent'] = 'Settings';\n\t\t\tparams['source'] = $(\"input[name='tabid']\").val();\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tvar container = jQuery('div.contentsDiv').html(data);\n\t\t\t\tthisInstance.registerEvents(container);\n\t\t\t\tIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterSaveEvent(mode, data) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: mode,\n\t\t\t\tparams: data,\n\t\t\t\tasync: mode !== 'saveWidget',\n\t\t\t\tdataType: 'json'\n\t\t\t})\n\t\t\t\t.done(data => {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: data['result']['message'],\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tloadFilters: function(contener) {\n\t\t\tvar types = ['filter', 'checkbox', 'switchHeader'];\n\t\t\tvar relatedmodule = contener.find(\"select[name='relatedmodule'] option:selected\").val();\n\t\t\tfor (var i in types) {\n\t\t\t\tvar filters = app.getMainParams(types[i] + 'All', true);\n\t\t\t\tvar filterField = contener.find(\"select[name='\" + types[i] + \"']\");\n\t\t\t\tvar filterSelected = contener.find('input#' + types[i] + '_selected').val();\n\t\t\t\tfilterField.empty();\n\t\t\t\tfilterField.append($('<option/>', { value: '-', text: app.vtranslate('None') }));\n\t\t\t\tif (filters[relatedmodule] !== undefined) {\n\t\t\t\t\tfilterField.closest('.form-group').removeClass('d-none');\n\t\t\t\t\t$.each(filters[relatedmodule], function(index, value) {\n\t\t\t\t\t\tif (typeof value === 'object') {\n\t\t\t\t\t\t\tvalue = value.label;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar option = { value: index, text: value };\n\t\t\t\t\t\tif (filterSelected == index) {\n\t\t\t\t\t\t\toption.selected = 'selected';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfilterField.append($('<option/>', option));\n\t\t\t\t\t});\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(filterField);\n\t\t\t\t} else {\n\t\t\t\t\tfilterField.closest('.form-group').addClass('d-none');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\trelatedModuleFields: function(container) {\n\t\t\tconst relatedModule = parseInt(container.find(\"select[name='relatedmodule']\").val());\n\t\t\tconst relatedfields = container.find(\"select[name='relatedfields']\");\n\t\t\trelatedfields.find('optgroup').each(function(index, optgroup) {\n\t\t\t\toptgroup = $(optgroup);\n\t\t\t\tif (relatedModule !== optgroup.data('module')) {\n\t\t\t\t\toptgroup.addClass('d-none');\n\t\t\t\t\toptgroup.prop('disabled', 'disabled');\n\t\t\t\t} else {\n\t\t\t\t\toptgroup.removeClass('d-none');\n\t\t\t\t\toptgroup.prop('disabled', false);\n\t\t\t\t}\n\t\t\t\toptgroup.find('option').each(function(index, option) {\n\t\t\t\t\toption = $(option);\n\t\t\t\t\tif (relatedModule !== option.data('module')) {\n\t\t\t\t\t\toption.addClass('d-none');\n\t\t\t\t\t\toption.prop('disabled', 'disabled');\n\t\t\t\t\t} else {\n\t\t\t\t\t\toption.removeClass('d-none');\n\t\t\t\t\t\toption.prop('disabled', false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\trelatedfields.trigger('change:select2');\n\t\t},\n\n\t\tchangeRelatedModule: function(e) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar form = jQuery('.form-modalAddWidget');\n\t\t\tthisInstance.loadFilters(form);\n\t\t},\n\n\t\tmodalFormEdit(wizardContainer) {\n\t\t\tconst thisInstance = this;\n\t\t\t$('#massEditHeader.modal-title').text(app.vtranslate('JS_EDIT_WIDGET'));\n\t\t\tapp.showPopoverElementView(wizardContainer.find('.js-help-info'));\n\t\t\tif (thisInstance.getType() == 'RelatedModule') {\n\t\t\t\tthisInstance.loadFilters(wizardContainer);\n\t\t\t\tthisInstance.relatedModuleFields(wizardContainer);\n\t\t\t\twizardContainer.find(\"select[name='relatedmodule']\").on('change', function() {\n\t\t\t\t\tthisInstance.changeRelatedModule();\n\t\t\t\t\tthisInstance.relatedModuleFields(wizardContainer);\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst form = $('form', wizardContainer);\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.on('submit', e => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tconst progress = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('Loading data'),\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.registerSaveEvent('saveWidget', {\n\t\t\t\t\t\t\tdata: form.serializeFormData(),\n\t\t\t\t\t\t\ttabid: $(\"input[name='tabid']\").val()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.done(() => {\n\t\t\t\t\t\t\tthisInstance.reloadWidgets();\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tregisterEvents: function(container) {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.loadWidgets();\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('.WidgetsManage');\n\t\t\t}\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.select2'));\n\t\t\tcontainer.find('select.js-module__list').on('change', function(e) {\n\t\t\t\tvar target = $(e.currentTarget);\n\t\t\t\t$(\"input[name='tabid']\").val(target.val());\n\t\t\t\tthisInstance.reloadWidgets();\n\t\t\t});\n\t\t\tcontainer.find('.js-widget__add').on('click', function(e) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({ position: 'html' });\n\t\t\t\tvar module = $('.WidgetsManage select.js-module__list').val();\n\t\t\t\tapp.showModalWindow(null, 'index.php?parent=Settings&module=Widgets&view=Widget&mod=' + module, function(\n\t\t\t\t\twizardContainer\n\t\t\t\t) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar form = jQuery('form', wizardContainer);\n\t\t\t\t\tform.on('submit', function(e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tvar type = form.find('[name=\"type\"]').val();\n\t\t\t\t\t\tthisInstance.createStep2(type);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.js-widget__edit').on('click', e => {\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\turl:\n\t\t\t\t\t\t'index.php?parent=Settings&module=Widgets&view=Widget&mode=edit&id=' +\n\t\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t\t.closest('.blockSortable')\n\t\t\t\t\t\t\t.data('id'),\n\t\t\t\t\tcb: wizardContainer => {\n\t\t\t\t\t\tthis.modalFormEdit(wizardContainer);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.js-widget__remove').on('click', function(e) {\n\t\t\t\tvar target = $(e.currentTarget);\n\t\t\t\tvar blockSortable = target.closest('.blockSortable');\n\t\t\t\tthisInstance.registerSaveEvent('removeWidget', {\n\t\t\t\t\twid: blockSortable.data('id')\n\t\t\t\t});\n\t\t\t\tthisInstance.reloadWidgets();\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","getTabId","val","getType","createStep2","type","tabId","thisInstance","progressIndicatorElement","progressIndicator","position","app","showModalWindow","wizardContainer","showPopoverElementView","find","loadFilters","relatedModuleFields","on","changeRelatedModule","mode","form","validationEngine","validationEngineOptions","e","preventDefault","hasClass","data","InvalidFields","length","formAlignmentAfterValidation","save","serializeFormData","registerSaveEvent","formData","tabid","done","reloadWidgets","hideModalWindow","loadWidgets","blocks","sortable","revert","connectWith","tolerance","cursor","placeholder","stop","updateSequence","params","$","each","index","column","closest","message","vtranslate","blockInfo","enabled","progress","Indicator","AppConnector","request","html","registerEvents","container","Deferred","module","getModuleName","parent","getParentModuleName","action","async","dataType","aDeferred","resolve","Vtiger_Helper_Js","showPnotify","text","fail","textStatus","errorThrown","reject","promise","contener","relatedmodule","getMainParams","types","i","filterField","filterSelected","empty","append","value","filters","addClass","removeClass","label","option","selected","App","Fields","Picklist","showSelect2ElementView","parseInt","relatedfields","optgroup","relatedModule","prop","trigger","modalFormEdit","currentTarget","target","url","cb","blockSortable","wid"],"mappings":"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"}