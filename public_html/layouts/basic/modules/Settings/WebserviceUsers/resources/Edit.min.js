'use strict';

Vtiger_Edit_Js('Settings_WebserviceUsers_Edit_Js',{},{getForm:function a(){return !1==this.formElement&&this.setForm(jQuery('#modalEdit')),this.formElement},showHideFields:function c(a){var b=this.getForm().find('[name="crmid"]').closest('.form-group');'1'===a.val()?b.addClass('d-none').find('.clearReferenceSelection').trigger('click'):b.removeClass('d-none');},registerEvents:function e(){var a=this,b=this.getForm();this.registerBasicEvents(b);var c=b.find('form');c.on('submit',function(a){if(a.preventDefault(),c.validationEngine('validate')){var d=c.serializeFormData(),e={typeApi:b.find('#typeApi').val(),record:b.find('#record').val()};app.saveAjax('',d,e).done(function(a){a.result?(Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate('JS_SAVE_SUCCESS')}),listInstance=Settings_WebserviceUsers_List_Js.getInstance(),listInstance.reloadTab()):Vtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR')),app.hideModalWindow();});}});var d=c.find('[name="type"]');a.showHideFields(d),d.on('change',function(b){a.showHideFields(jQuery(b.currentTarget));});}}),jQuery(document).ready(function(){var a=new Settings_WebserviceUsers_Edit_Js;a.registerEvents();});
