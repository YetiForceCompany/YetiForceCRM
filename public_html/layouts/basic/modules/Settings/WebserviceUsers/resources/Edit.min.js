'use strict';

/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */"use strict";Vtiger_Edit_Js("Settings_WebserviceUsers_Edit_Js",{},{getForm:function getForm(){return !1==this.formElement&&this.setForm(jQuery("#modalEdit")),this.formElement},/**
		 * Show hide fields
		 * @param {Object} typeElement
		 * @param {Object} params
		 */showHideFields:function showHideFields(typeElement,params){var elementContainer=this.getForm().find("[name=\""+params.fieldHide+"\"]").closest(".form-group");if(typeElement.val()===params.value){var clearReference=elementContainer.find(".clearReferenceSelection");0<clearReference.length&&clearReference.trigger("click"),elementContainer.addClass("d-none");}else elementContainer.removeClass("d-none");},registerEvents:function registerEvents(){var self=this,container=this.getForm();this.registerBasicEvents(container);var form=container.find("form");form.on("submit",function(e){if(e.preventDefault(),form.validationEngine("validate")){var formData=form.serializeFormData();AppConnector.request(formData).done(function(data){if(data.result.success){Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate("JS_SAVE_SUCCESS")});var listInstance=Settings_WebserviceUsers_List_Js.getInstance();listInstance.reloadTab(),app.hideModalWindow();}else data.result.message?app.showNotify({text:data.result.message,type:"error"}):app.showNotify({text:app.vtranslate("JS_ERROR"),type:"error"});});}});var typeElement=form.find("[name=\"type\"]"),typeParams={fieldHide:"crmid",value:"1"};self.showHideFields(typeElement,typeParams),typeElement.on("change",function(e){self.showHideFields(jQuery(e.currentTarget),typeParams);});var loginMethod=form.find("[name=\"login_method\"]"),loginMethodParams={fieldHide:"authy_methods",value:"PLL_PASSWORD"};self.showHideFields(loginMethod,loginMethodParams),loginMethod.on("change",function(e){self.showHideFields(jQuery(e.currentTarget),loginMethodParams);});}}),jQuery(document).ready(function(){var instance=new Settings_WebserviceUsers_Edit_Js;instance.registerEvents();});
//# sourceMappingURL=Edit.min.js.map
