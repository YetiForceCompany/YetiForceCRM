
Vtiger_Edit_Js("Settings_WebserviceUsers_Edit_Js", {}, {getForm:function(){if (this.formElement == false){this.setForm(jQuery("#modalEdit"))}return this.formElement}, showHideFields:function(b){var a = this.getForm().find('[name="crmid"]').closest(".form-group"); if (b.val() === "1"){a.addClass("hide").find(".clearReferenceSelection").trigger("click")} else{a.removeClass("hide")}}, registerEvents:function(){var c = this; var a = this.getForm(); this.registerBasicEvents(a); var b = a.find("form"); b.on("submit", function(g){g.preventDefault(); if (b.validationEngine("validate")){var f = b.serializeFormData(); var h = {typeApi:a.find("#typeApi").val(), record:a.find("#record").val()}; app.saveAjax("", f, h).then(function(e){if (e.result){Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate("JS_SAVE_SUCCESS")}); listInstance = Settings_WebserviceUsers_List_Js.getInstance(); listInstance.reloadTab()} else{Vtiger_Helper_Js.showPnotify(app.vtranslate("JS_ERROR"))}app.hideModalWindow()})}}); var d = b.find('[name="type"]'); c.showHideFields(d); d.on("change", function(f){c.showHideFields(jQuery(f.currentTarget))})}}); jQuery(document).ready(function(b){var a = new Settings_WebserviceUsers_Edit_Js(); a.registerEvents()});
