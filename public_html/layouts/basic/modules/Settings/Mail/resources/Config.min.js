jQuery.Class("Settings_Mail_Config_Js",{},{registerChangeConfig:function(){var b=this;var a=jQuery(".configContainer");a.on("change",".configCheckbox",function(){var d=jQuery(this).attr("name");var e=jQuery(this).data("type");var g=this.checked;var c=jQuery.progressIndicator();var f={};f.module=app.getModuleName();f.parent=app.getParentModuleName();f.action="SaveAjax";f.mode="updateConfig";f.type=e;f.name=d;f.val=g;AppConnector.request(f).then(function(h){c.progressIndicator({mode:"hide"});var i={};i.text=h.result.message;Settings_Vtiger_Index_Js.showMessage(i)},function(h){c.progressIndicator({mode:"hide"})})})},registerSignature:function(){var a={height:"20em"};var b=jQuery("#signature");var c=new Vtiger_CkEditor_Js();c.loadCkEditor(b.find(".ckEditorSource"),a);b.find("button").click(function(){var d=jQuery.progressIndicator();var e=CKEDITOR.instances.signatureCkEditor;var f={};f.module=app.getModuleName();f.parent=app.getParentModuleName();f.action="SaveAjax";f.mode="updateSignature";f.val=e.getData();AppConnector.request(f).then(function(g){d.progressIndicator({mode:"hide"});var h={};h.text=g.result.message;Settings_Vtiger_Index_Js.showMessage(h)},function(g){d.progressIndicator({mode:"hide"})})})},registerEvents:function(){var a=this;a.registerChangeConfig();a.registerSignature()}});