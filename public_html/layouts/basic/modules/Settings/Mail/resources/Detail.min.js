'use strict';

jQuery.Class('Settings_Mail_Detail_Js',{},{registerRemoveEvents:function registerRemoveEvents(){var container=jQuery('.contentsDiv');container.on('click','.js-delete',function(){var progressIndicator=jQuery.progressIndicator();AppConnector.request({module:app.getModuleName(),parent:app.getParentModuleName(),action:'DeleteAjax',record:$('#recordId').val()}).done(function(data){progressIndicator.progressIndicator({mode:'hide'}),window.location.href=data.result;}).fail(function(){progressIndicator.progressIndicator({mode:'hide'});});});},registerAcceptanceEvent:function registerAcceptanceEvent(){var container=jQuery('.contentsDiv');container.on('click','.acceptanceRecord',function(){var elem=this,progressIndicator=jQuery.progressIndicator();AppConnector.request({module:app.getModuleName(),parent:app.getParentModuleName(),action:'SaveAjax',mode:'acceptanceRecord',id:$('#recordId').val()}).done(function(data){progressIndicator.progressIndicator({mode:'hide'}),Settings_Vtiger_Index_Js.showMessage({text:data.result.message}),$(elem).remove();}).fail(function(){progressIndicator.progressIndicator({mode:'hide'});});});},sendMailManually:function sendMailManually(){var container=jQuery('.contentsDiv');container.on('click','.sendManually',function(){var progressIndicator=jQuery.progressIndicator();AppConnector.request({module:app.getModuleName(),parent:app.getParentModuleName(),action:'SendManuallyAjax',id:container.find('#recordId').val()}).done(function(data){progressIndicator.progressIndicator({mode:'hide'}),Settings_Vtiger_Index_Js.showMessage({text:data.result.message}),container.find('.sendManually').remove(),container.find('.deleteButton').remove();}).fail(function(){progressIndicator.progressIndicator({mode:'hide'});});});},registerEvents:function registerEvents(){this.registerAcceptanceEvent(),this.sendMailManually(),this.registerRemoveEvents();}});
//# sourceMappingURL=Detail.min.js.map
