'use strict';

Settings_Vtiger_Detail_Js('Settings_Mail_Detail_Js',{},{registerRemoveEvents:function b(){var a=jQuery('.contentsDiv');a.on('click','.js-delete',function(){var a=jQuery.progressIndicator();AppConnector.request({module:app.getModuleName(),parent:app.getParentModuleName(),action:'DeleteAjax',record:$('#recordId').val()}).done(function(b){a.progressIndicator({mode:'hide'}),window.location.href=b.result;}).fail(function(){a.progressIndicator({mode:'hide'});});});},registerAcceptanceEvent:function b(){var a=jQuery('.contentsDiv');a.on('click','.acceptanceRecord',function(){var a=this,b=jQuery.progressIndicator();AppConnector.request({module:app.getModuleName(),parent:app.getParentModuleName(),action:'SaveAjax',mode:'acceptanceRecord',id:$('#recordId').val()}).done(function(c){b.progressIndicator({mode:'hide'}),Settings_Vtiger_Index_Js.showMessage({text:c.result.message}),$(a).remove();}).fail(function(){b.progressIndicator({mode:'hide'});});});},sendMailManually:function c(){var b=jQuery('.contentsDiv');b.on('click','.sendManually',function(){var a=jQuery.progressIndicator();AppConnector.request({module:app.getModuleName(),parent:app.getParentModuleName(),action:'SendManuallyAjax',id:b.find('#recordId').val()}).done(function(c){a.progressIndicator({mode:'hide'}),Settings_Vtiger_Index_Js.showMessage({text:c.result.message}),b.find('.sendManually').remove(),b.find('.deleteButton').remove();}).fail(function(){a.progressIndicator({mode:'hide'});});});},registerEvents:function a(){this.registerAcceptanceEvent(),this.sendMailManually(),this.registerRemoveEvents();}});
