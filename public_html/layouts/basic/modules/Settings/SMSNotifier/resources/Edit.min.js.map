{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_Edit_Js(\n\t'Settings_SMSNotifier_Edit_Js',\n\t{},\n\t{\n\t\tgetForm: function () {\n\t\t\tif (this.formElement == false) {\n\t\t\t\tthis.setForm(jQuery('#modalEdit'));\n\t\t\t}\n\t\t\treturn this.formElement;\n\t\t},\n\t\tregisterProviderTypeChangeEvent: function (form) {\n\t\t\tvar contents = this.getForm();\n\t\t\tcontents.find('[name=\"providertype\"]').on('change', function (e) {\n\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\t\tvar selectedProviderName = currentTarget.val();\n\t\t\t\tcontents.find('form [data-provider]').remove();\n\t\t\t\tvar providerFields = contents\n\t\t\t\t\t.find('.providersFields [data-provider=\"' + selectedProviderName + '\"]')\n\t\t\t\t\t.clone(true, true);\n\t\t\t\tcontents.find('.fieldsContainer').append(providerFields);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(providerFields.find('select'));\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.getForm();\n\t\t\tcontainer.find('select').removeClass('select2');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('form select'));\n\t\t\tthis.registerBasicEvents(container);\n\t\t\tvar form = container.find('form');\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tapp.saveAjax('', [], formData).done(function (data) {\n\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_SAVE_SUCCESS') });\n\t\t\t\t\t\t\tvar listInstance = Settings_Vtiger_List_Js.getInstance();\n\t\t\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tthisInstance.registerProviderTypeChangeEvent();\n\t\t}\n\t}\n);\njQuery(document).ready(function (e) {\n\tvar instance = new Settings_SMSNotifier_Edit_Js();\n\tinstance.registerEvents();\n});\n"],"names":["Vtiger_Edit_Js","getForm","formElement","setForm","jQuery","registerProviderTypeChangeEvent","contents","find","on","e","currentTarget","selectedProviderName","val","remove","providerFields","clone","append","App","Fields","Picklist","showSelect2ElementView","registerEvents","thisInstance","container","removeClass","registerBasicEvents","form","preventDefault","validationEngine","formData","serializeFormData","app","saveAjax","done","data","result","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","listInstance","Settings_Vtiger_List_Js","getInstance","getListViewRecords","showNotify","type","hideModalWindow","document","ready","instance","Settings_SMSNotifier_Edit_Js"],"mappings":";;AAAA,kKACA,aAEAA,cAAc,CACb,8BADa,CAEb,EAFa,CAGb,CACCC,OAAO,CAAE,kBAAY,CAIpB,OAHI,SAAKC,WAGT,EAFC,KAAKC,OAAL,CAAaC,MAAM,CAAC,YAAD,CAAnB,CAED,CAAO,IAAA,CAAKF,WACZ,CANF,CAOCG,+BAA+B,CAAE,0CAAgB,CAChD,IAAIC,QAAQ,CAAG,KAAKL,OAAL,EAAf,CACAK,QAAQ,CAACC,IAAT,CAAc,yBAAd,CAAA,CAAuCC,EAAvC,CAA0C,QAA1C,CAAoD,SAAUC,CAAV,CAAa,CAAA,IAC5DC,aAAa,CAAGN,MAAM,CAACK,CAAC,CAACC,aAAH,CADsC,CAE5DC,oBAAoB,CAAGD,aAAa,CAACE,GAAd,EAFqC,CAGhEN,QAAQ,CAACC,IAAT,CAAc,sBAAd,CAAsCM,CAAAA,MAAtC,EAHgE,CAIhE,IAAIC,cAAc,CAAGR,QAAQ,CAC3BC,IADmB,CACd,qCAAsCI,oBAAtC,CAA6D,KAD/C,CAAA,CAEnBI,KAFmB,CAArB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAGAT,QAAQ,CAACC,IAAT,CAAc,kBAAd,CAAA,CAAkCS,MAAlC,CAAyCF,cAAzC,CAPgE,CAQhEG,GAAG,CAACC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2CN,cAAc,CAACP,IAAf,CAAoB,QAApB,CAA3C,EACA,CATD,EAUA,CAnBF,CAoBCc,cAAc,CAAE,SAAY,cAAA,EAAA,CAAA,IACvBC,YAAY,CAAG,IADQ,CAEvBC,SAAS,CAAG,IAAA,CAAKtB,OAAL,EAFW,CAG3BsB,SAAS,CAAChB,IAAV,CAAe,QAAf,EAAyBiB,WAAzB,CAAqC,SAArC,CAH2B,CAI3BP,GAAG,CAACC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2CG,SAAS,CAAChB,IAAV,CAAe,aAAf,CAA3C,CAJ2B,CAK3B,IAAKkB,CAAAA,mBAAL,CAAyBF,SAAzB,CAL2B,CAM3B,IAAIG,IAAI,CAAGH,SAAS,CAAChB,IAAV,CAAe,MAAf,CAAX,CACAmB,IAAI,CAAClB,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAE9B,GADAA,CAAC,CAACkB,cAAF,EACA,CAAID,IAAI,CAACE,gBAAL,CAAsB,UAAtB,CAAJ,CAAuC,CACtC,IAAIC,QAAQ,CAAGH,IAAI,CAACI,iBAAL,EAAf,CACAC,GAAG,CAACC,QAAJ,CAAa,EAAb,CAAiB,EAAjB,CAAqBH,QAArB,CAAA,CAA+BI,IAA/B,CAAoC,SAAUC,IAAV,CAAgB,CACnD,GAAIA,IAAI,CAACC,MAAT,CAAiB,CAChBC,wBAAwB,CAACC,WAAzB,CAAqC,CAAEC,IAAI,CAAEP,GAAG,CAACQ,UAAJ,CAAe,iBAAf,CAAR,CAArC,CADgB,CAEhB,IAAIC,YAAY,CAAGC,uBAAuB,CAACC,WAAxB,EAAnB,CACAF,YAAY,CAACG,kBAAb,GACA,CAJD,KAKCZ,GAAG,CAACa,UAAJ,CAAe,CACdN,IAAI,CAAEP,GAAG,CAACQ,UAAJ,CAAe,UAAf,CADQ,CAEdM,IAAI,CAAE,OAFQ,CAAf,CALD,CAUAd,GAAG,CAACe,eAAJ,GACA,CAZD,EAaA,CACD,CAlBD,CAP2B,CA0B3BxB,YAAY,CAACjB,+BAAb,GACA,CA/CF,CAHa,EAqDdD,MAAM,CAAC2C,QAAD,CAAN,CAAiBC,KAAjB,CAAuB,UAAa,CACnC,IAAIC,QAAQ,CAAG,IAAIC,4BAAnB,CACAD,QAAQ,CAAC5B,cAAT,GACA,CAHD;;"}