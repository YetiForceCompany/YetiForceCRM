'use strict';

Vtiger_Edit_Js('Settings_SMSNotifier_Edit_Js',{},{getForm:function a(){return !1==this.formElement&&this.setForm(jQuery('#modalEdit')),this.formElement},registerProviderTypeChangeEvent:function b(){var a=this.getForm();a.find('[name="providertype"]').on('change',function(b){var c=jQuery(b.currentTarget),d=c.val();a.find('form [data-provider]').remove();var e=a.find('.providersFields [data-provider="'+d+'"]').clone(!0,!0);a.find('.fieldsContainer').append(e),App.Fields.Picklist.showSelect2ElementView(e.find('select').removeClass('chzn-select'));});},registerEvents:function d(){var a=this,b=this.getForm();App.Fields.Picklist.destroyChosenElement(b),b.find('select').removeClass('select2'),App.Fields.Picklist.showSelect2ElementView(b.find('form select')),this.registerBasicEvents(b);var c=b.find('form');c.on('submit',function(a){if(a.preventDefault(),c.validationEngine('validate')){var b=c.serializeFormData();app.saveAjax('',[],b).done(function(a){if(a.result){Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate('JS_SAVE_SUCCESS')});var b=Settings_Vtiger_List_Js.getInstance();b.getListViewRecords();}else Vtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR'));app.hideModalWindow();});}}),a.registerProviderTypeChangeEvent();}}),jQuery(document).ready(function(){var a=new Settings_SMSNotifier_Edit_Js;a.registerEvents();});
