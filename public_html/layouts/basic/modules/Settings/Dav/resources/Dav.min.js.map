{"version":3,"file":"Dav.min.js","sources":["Dav.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Dav_Keys_Js',\n\t{},\n\t{\n\t\t//This will store the MenuEditor Container\n\t\tmobileContainer: false,\n\t\t/**\n\t\t * Function to get the MenuEditor container\n\t\t */\n\t\tgetContainer: function () {\n\t\t\tif (this.mobileContainer == false) {\n\t\t\t\tthis.mobileContainer = jQuery('#DavKeysContainer');\n\t\t\t}\n\t\t\treturn this.mobileContainer;\n\t\t},\n\t\taddKey: function (e) {\n\t\t\tvar container = jQuery('#DavKeysContainer');\n\t\t\tvar editColorModal = container.find('.addKeyContainer');\n\t\t\tvar clonedContainer = editColorModal.clone(true, true);\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tdata.find('.addKeyContainer').removeClass('d-none').show();\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('.select'));\n\t\t\t\tdata.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\t\t\tvar form = data.find('form');\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('Adding a Key'),\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\t\t\tsettingMobileInstance.registerSaveEvent('addKey', formData, true);\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t};\n\t\t\tapp.showModalWindow(\n\t\t\t\tclonedContainer,\n\t\t\t\tfunction (data) {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{ width: '1000px' }\n\t\t\t);\n\t\t},\n\t\tdeleteKey: function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tvar closestTrElement = target.closest('.js-tr-row');\n\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\tsettingMobileInstance.registerSaveEvent('deleteKey', {\n\t\t\t\tuser: closestTrElement.data('user')\n\t\t\t});\n\t\t\tclosestTrElement.remove();\n\t\t},\n\t\tregisterSaveEvent: function (mode, data, reload) {\n\t\t\tvar params = {};\n\t\t\tparams.data = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: mode\n\t\t\t};\n\t\t\tif (typeof data !== 'undefined') {\n\t\t\t\tfor (var i in data) {\n\t\t\t\t\tparams.data[i] = data[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tparams.async = false;\n\t\t\tparams.dataType = 'json';\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tvar response = data['result'];\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: response['message']\n\t\t\t\t\t};\n\t\t\t\t\tif (response.success == true) {\n\t\t\t\t\t\tparams.type = 'success';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.type = 'error';\n\t\t\t\t\t}\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tif (reload == true && response.success == true) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (data, err) {});\n\t\t},\n\t\tregisterEvents: function (e) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getContainer();\n\t\t\tcontainer.find('.js-add-key').on('click', thisInstance.addKey);\n\t\t\tcontainer.find('.js-delete-key').on('click', thisInstance.deleteKey);\n\t\t\tApp.Fields.Text.registerCopyClipboard(container);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","mobileContainer","getContainer","addKey","container","editColorModal","find","clonedContainer","clone","callBackFunction","data","removeClass","show","App","Fields","Picklist","showSelect2ElementView","on","form","formData","serializeFormData","progress","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","settingMobileInstance","Settings_Dav_Keys_Js","registerSaveEvent","mode","showModalWindow","width","deleteKey","e","target","currentTarget","closestTrElement","closest","user","remove","reload","params","module","getModuleName","parent","getParentModuleName","action","i","async","dataType","AppConnector","request","done","response","text","type","success","showNotify","window","location","fail","registerEvents","thisInstance","Text","registerCopyClipboard"],"mappings":"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"}