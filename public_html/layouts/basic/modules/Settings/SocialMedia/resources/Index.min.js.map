{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_SocialMedia_Index_Js', {}, {\n\t/**\n\t * Container (Form)\n\t */\n\tcontainer: null,\n\t/**\n\t * Get Container (Form)\n\t * @returns {Object}\n\t */\n\tgetContainer() {\n\t\tif (this.container === null) {\n\t\t\tthis.container = $('.js-social-media-container');\n\t\t}\n\t\treturn this.container;\n\t},\n\t/**\n\t * Submit form\n\t * @param {jQuery} form\n\t */\n\tsaveForm(form) {\n\t\tform.validationEngine(app.validationEngineOptions);\n\t\tif (form.validationEngine('validate')) {\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet dataForm = form.serializeFormData();\n\t\t\tdataForm.module = app.getModuleName();\n\t\t\tdataForm.parent = app.getParentModuleName();\n\t\t\tdataForm.action = 'SaveAjax';\n\t\t\tAppConnector.request(dataForm).done((response) => {\n\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: response.result.message,\n\t\t\t\t\ttype: 'info',\n\t\t\t\t});\n\t\t\t}).fail(function (textStatus, errorThrown) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\ttext: app.vtranslate('JS_ERROR')\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * Register events for form\n\t */\n\tregisterForm(form) {\n\t\tconst thisInstance = this;\n\t\tform.on('change', (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tthisInstance.saveForm(form);\n\t\t});\n\t\t//Executed when the enter key is pressed.\n\t\tform.on('submit', (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tthisInstance.saveForm(form);\n\t\t});\n\t},\n\t/**\n\t * Register all events in view\n\t */\n\tregisterEvents() {\n\t\tthis.getContainer().find('form').each((index, form) => {\n\t\t\tthis.registerForm($(form));\n\t\t});\n\t}\n});\n"],"names":["jQuery","Class","container","getContainer","$","saveForm","form","validationEngine","app","validationEngineOptions","progressIndicator","position","blockInfo","enabled","dataForm","serializeFormData","module","getModuleName","parent","getParentModuleName","action","AppConnector","request","done","response","progressIndicatorElement","mode","Vtiger_Helper_Js","showPnotify","text","result","message","type","fail","showMessage","vtranslate","registerForm","on","event","preventDefault","thisInstance","registerEvents","find","each","index"],"mappings":";;AAGAA,OAAOC,KAAP,CAAa,+BAAb,CAA8C,EAA9C,CAAkD,CAIjDC,UAAW,IAJsC,CASjDC,YATiD,wBASlC,CAId,WAHI,QAAKD,SAGT,GAFC,KAAKA,SAAL,CAAiBE,EAAE,4BAAF,CAElB,EAAO,KAAKF,SACZ,CAdgD,CAmBjDG,QAnBiD,mBAmBxCC,IAnBwC,CAmBlC,CAEd,GADAA,KAAKC,gBAAL,CAAsBC,IAAIC,uBAA1B,CACA,CAAIH,KAAKC,gBAAL,CAAsB,UAAtB,CAAJ,CAAuC,8BACPP,OAAOU,iBAAP,CAAyB,CACvDC,SAAU,MAD6C,CAEvDC,UAAW,CACVC,UADU,CAF4C,CAAzB,CADO,CAOlCC,SAAWR,KAAKS,iBAAL,EAPuB,CAQtCD,SAASE,MAAT,CAAkBR,IAAIS,aAAJ,EARoB,CAStCH,SAASI,MAAT,CAAkBV,IAAIW,mBAAJ,EAToB,CAUtCL,SAASM,MAAT,CAAkB,UAVoB,CAWtCC,aAAaC,OAAb,CAAqBR,QAArB,EAA+BS,IAA/B,CAAoC,SAACC,QAAD,CAAc,CACjDC,yBAAyBf,iBAAzB,CAA2C,CAACgB,KAAM,MAAP,CAA3C,CADiD,CAEjDC,iBAAiBC,WAAjB,CAA6B,CAC5BC,KAAML,SAASM,MAAT,CAAgBC,OADM,CAE5BC,KAAM,MAFsB,CAA7B,EAIA,CAND,EAMGC,IANH,CAMQ,UAAmC,CAC1CR,yBAAyBf,iBAAzB,CAA2C,CAACgB,KAAM,MAAP,CAA3C,CAD0C,CAE1CC,iBAAiBO,WAAjB,CAA6B,CAC5BF,KAAM,OADsB,CAE5BH,KAAMrB,IAAI2B,UAAJ,CAAe,UAAf,CAFsB,CAA7B,EAIA,CAZD,EAaA,CACD,CA9CgD,CAkDjDC,YAlDiD,uBAkDpC9B,IAlDoC,CAkD9B,CAClB,iBAAqB,IAArB,CACAA,KAAK+B,EAAL,CAAQ,QAAR,CAAkB,SAACC,KAAD,CAAW,CAC5BA,MAAMC,cAAN,EAD4B,CAE5BC,aAAanC,QAAb,CAAsBC,IAAtB,EACA,CAHD,CAFkB,CAOlBA,KAAK+B,EAAL,CAAQ,QAAR,CAAkB,SAACC,KAAD,CAAW,CAC5BA,MAAMC,cAAN,EAD4B,CAE5BC,aAAanC,QAAb,CAAsBC,IAAtB,EACA,CAHD,EAIA,CA7DgD,CAiEjDmC,cAjEiD,0BAiEhC,gBAChB,KAAKtC,YAAL,GAAoBuC,IAApB,CAAyB,MAAzB,EAAiCC,IAAjC,CAAsC,SAACC,KAAD,CAAQtC,IAAR,CAAiB,CACtD,MAAK8B,YAAL,CAAkBhC,EAAEE,IAAF,CAAlB,EACA,CAFD,EAGA,CArEgD,CAAlD"}