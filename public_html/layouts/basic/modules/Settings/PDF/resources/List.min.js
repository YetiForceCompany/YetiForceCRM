'use strict';

/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */"use strict";Settings_Vtiger_List_Js("Settings_PDF_List_Js",{},{getListContainer:function getListContainer(){return jQuery("#listViewContainer")},registerFilterChangeEvent:function registerFilterChangeEvent(){var thisInstance=this;jQuery("#moduleFilter").on("change",function(e){jQuery("#pageNumber").val("1"),jQuery("#pageToJump").val("1"),jQuery("#orderBy").val(""),jQuery("#sortOrder").val("");var params={module:app.getModuleName(),parent:app.getParentModuleName(),sourceModule:jQuery(e.currentTarget).val()};//Make the select all count as empty
//Make total number of pages as empty
jQuery("#recordsCount").val(""),jQuery("#totalPageCount").text(""),thisInstance.getListViewRecords(params).done(function(){thisInstance.updatePagination();});});},/*
		 * Function to register the list view row click event
		 */registerRowClickEvent:function registerRowClickEvent(){var listViewContentDiv=this.getListViewContentContainer();listViewContentDiv.on("click",".listViewEntries",function(e){if(!$(e.target).closest("div").hasClass("actions")&&!($(e.target).is("button")||$(e.target).parent().is("button"))&&!$(e.target).closest("a").hasClass("noLinkBtn")&&!$(e.target).is("input[type=\"checkbox\"]")&&!$.contains($(e.currentTarget).find("td:last-child").get(0),e.target)&&!$.contains($(e.currentTarget).find("td:first-child").get(0),e.target)){var recordUrl=$(e.currentTarget).find("a.js-edit").attr("href");"undefined"!=typeof recordUrl&&(window.location.href=recordUrl);}});},getDefaultParams:function getDefaultParams(){var pageNumber=jQuery("#pageNumber").val(),module=app.getModuleName(),parent=app.getParentModuleName(),params={module:module,parent:parent,page:pageNumber,view:"List",sourceModule:jQuery("#moduleFilter").val()};return params},registerAddNewTemplate:function registerAddNewTemplate(container){jQuery("#addButton",container).on("click",function(){var selectedModule=jQuery("#moduleFilter option:selected").val(),url=jQuery(this).data("url");selectedModule.length&&(url+="&source_module="+selectedModule),window.location.href=url;});},registerImportTemplate:function registerImportTemplate(container){jQuery("#importButton",container).on("click",function(){window.location.href=jQuery(this).data("url");});},registerTemplateDelete:function registerTemplateDelete(container){var self=this;container==null&&(container=self.getListContainer()),container.find(".templateDelete").on("click",function(e){e.stopPropagation(),e.preventDefault();var deleteId=$(this).closest("tr").data("id");app.showConfirmModal({title:app.vtranslate("JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE"),confirmedCallback:function confirmedCallback(){Settings_PDF_List_Js.deleteById(deleteId,!1).done(function(){self.registerTemplateDelete(container);});}});});},/*
		 * Function which will give you all the list view params
		 */getListViewRecords:function getListViewRecords(urlParams){var thisInstance=this,aDeferred=jQuery.Deferred();return this._super(urlParams).done(function(data){thisInstance.registerTemplateDelete(),aDeferred.resolve(data);}),aDeferred.promise()},registerEvents:function registerEvents(){this._super();var container=this.getListContainer();this.registerFilterChangeEvent(),this.registerAddNewTemplate(container),this.registerTemplateDelete(container),this.registerImportTemplate(container);}});
//# sourceMappingURL=List.min.js.map
