
Settings_PDF_Edit_Js("Settings_PDF_Edit2_Js",{},{step2Container:false,advanceFilterInstance:false,init:function(){this.initialize()},getContainer:function(){return this.step2Container},setContainer:function(a){this.step2Container=a;return this},initialize:function(a){if(typeof a==="undefined"){a=jQuery("#pdf_step2")}if(a.is("#pdf_step2")){this.setContainer(a)}else{this.setContainer(jQuery("#pdf_step2"))}},submit:function(){var b=jQuery.Deferred();var c=this.getContainer();var e=c.serializeFormData();var d=jQuery.progressIndicator({position:"html",blockInfo:{enabled:true}});var a=c.serializeFormData();a.action="Save";a.step=2;AppConnector.request(a).then(function(f){f=JSON.parse(f);if(f.success==true){Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate("JS_PDF_SAVED_SUCCESSFULLY")});AppConnector.request(e).then(function(g){c.hide();d.progressIndicator({mode:"hide"});b.resolve(g)},function(g,h){app.errorLog(g,h)})}},function(f,g){app.errorLog(f,g)});return b.promise()},registerCancelStepClickEvent:function(a){jQuery("button.cancelLink",a).on("click",function(){window.history.back()})},registerMarginCheckboxClickEvent:function(a){a.find("#margin_chkbox").on("change",function(){var b=jQuery(this).is(":checked");if(b){a.find(".margin_inputs").addClass("hide")}else{a.find(".margin_inputs").removeClass("hide")}})},registerEvents:function(){var a=this.getContainer();var b=app.validationEngineOptions;b.onValidationComplete=function(d,c){return c};b.promptPosition="topLeft";a.validationEngine(b);app.showSelect2ElementView(a.find(".select2"));this.registerCancelStepClickEvent(a);this.registerMarginCheckboxClickEvent(a);app.showPopoverElementView(a.find(".popoverTooltip"))}});