{"version":3,"file":"UploadListModal.min.js","sources":["UploadListModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_UploadListModal_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Modal container\n\t\t */\n\t\tcontainer: false,\n\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function (modalContainer) {\n\t\t\tlet form = modalContainer.find('.js-import-list');\n\t\t\tthis.registerUploadButton(form);\n\t\t},\n\n\t\t/**\n\t\t * Register button send form\n\t\t * @param {jQuery} form\n\t\t */\n\t\tregisterUploadButton: function (form) {\n\t\t\tform.on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\t\tlet formData = new FormData(form[0]),\n\t\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tnotifyType = '';\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\turl: 'index.php',\n\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\tdata: formData,\n\t\t\t\t\t\tprocessData: false,\n\t\t\t\t\t\tcontentType: false\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (true === data.result.success) {\n\t\t\t\t\t\t\tnotifyType = 'success';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotifyType = 'error';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate(data.result.message),\n\t\t\t\t\t\t\ttype: notifyType\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","registerEvents","modalContainer","find","registerUploadButton","form","on","e","preventDefault","validationEngine","progressIndicatorElement","jQuery","progressIndicator","blockInfo","enabled","notifyType","AppConnector","request","url","type","data","formData","processData","contentType","done","mode","result","success","app","showNotify","text","vtranslate","message","hideModalWindow"],"mappings":";;AAGAA,EAAEC,KAAF,CACC,yBADD,CAEC,EAFD,CAGC;;KAICC,YAJD;;;KAUCC,eAAgB,wBAAUC,cAAV,CAA0B,CACzC,SAAWA,eAAeC,IAAf,CAAoB,iBAApB,CAAX,CACA,KAAKC,oBAAL,CAA0BC,IAA1B,EACA,CAbF;;;KAmBCD,qBAAsB,8BAAUC,IAAV,CAAgB,CACrCA,KAAKC,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAE9B,GADAA,EAAEC,cAAF,EACA,CAAI,UAAKC,gBAAL,CAAsB,UAAtB,CAAJ,CAAgD,CAC/C,aAAe,YAAA,CAAaJ,KAAK,CAAL,CAAb,CAAf,CACCK,yBAA2BC,OAAOC,iBAAP,CAAyB,CACnDC,UAAW,CAAEC,UAAF,CADwC,CAAzB,CAD5B,CAICC,WAAa,EAJd,CAKAC,aAAaC,OAAb,CAAqB,CACpBC,IAAK,WADe,CAEpBC,KAAM,MAFc,CAGpBC,KAAMC,QAHc,CAIpBC,cAJoB,CAKpBC,cALoB,CAArB,EAMGC,IANH,CAMQ,SAAUJ,IAAV,CAAgB,CACvBV,yBAAyBE,iBAAzB,CAA2C,CAAEa,KAAM,MAAR,CAA3C,CADuB,CAGtBV,UAHsB,CAEnB,KAASK,KAAKM,MAAL,CAAYC,OAFF,CAGT,SAHS,CAKT,OALS,CAOvBC,IAAIC,UAAJ,CAAe,CACdC,KAAMF,IAAIG,UAAJ,CAAeX,KAAKM,MAAL,CAAYM,OAA3B,CADQ,CAEdb,KAAMJ,UAFQ,CAAf,CAPuB,CAWvBa,IAAIK,eAAJ,GACA,CAlBD,EAmBA,CACD,CA5BD,EA6BA,CAjDF,CAHD"}