'use strict';

var defineProperty = function (obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
};

Vtiger_ListPreview_Js("Accounts_ListPreview_Js",{},{registerHierarchyRecordCount:function b(){var a=$(".listPreviewframe");a.on("load",function(){var b=a.contents(),c=b.find(".detailViewTitle .hierarchy");if(c){var d;AppConnector.request((d={module:app.getModuleName(),action:"RelationAjax",record:app.getRecordId()},defineProperty(d,"record",b.find("#recordId").val()),defineProperty(d,"mode","getHierarchyCount"),d)).done(function(a){a.success&&b.find(".detailViewTitle .hierarchy .badge").html(a.result);});}});},postLoadListViewRecordsEvents:function b(a){this._super(a),this.registerHierarchyRecordCount();},registerEvents:function a(){this._super(),this.registerHierarchyRecordCount();}});
