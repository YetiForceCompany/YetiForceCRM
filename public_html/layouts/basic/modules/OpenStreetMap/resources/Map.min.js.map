{"version":3,"file":"Map.min.js","sources":["Map.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'OpenStreetMap_Map_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tmapInstance: false,\n\t\tselectedParams: false,\n\t\tlayerMarkers: false,\n\t\tmarkers: false,\n\t\tcacheMarkers: [],\n\t\tpolygonLayer: false,\n\t\trouteLayer: false,\n\t\trecordsIds: '',\n\t\tcacheLayerMarkers: {},\n\t\tindirectPointLayer: {},\n\t\tsetSelectedParams: function (params) {\n\t\t\tdelete params['view'];\n\t\t\tthis.selectedParams = params;\n\t\t},\n\t\tregisterMap: function (startCoordinate, startZoom) {\n\t\t\tlet attribution =\n\t\t\t\t'&copy; <a href=\"https://yetiforce.com/en/yetiforce/license\" rel=\"noreferrer noopener\">YetiForce Map powered by Open Street Map</a>';\n\t\t\tif (CONFIG.disableBranding) {\n\t\t\t\tattribution = '';\n\t\t\t}\n\t\t\tthis.mapInstance = L.map('mapid').setView(startCoordinate, startZoom);\n\t\t\tL.tileLayer($('.js-tile-layer-server').val(), {\n\t\t\t\tmaxZoom: 19,\n\t\t\t\tattribution: attribution\n\t\t\t}).addTo(this.mapInstance);\n\t\t\treturn this.mapInstance;\n\t\t},\n\t\tsetMarkers: function (data) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar markerArray = [];\n\t\t\tvar container = this.container;\n\t\t\tvar map = this.mapInstance;\n\t\t\tif (typeof data.coordinates !== 'undefined') {\n\t\t\t\tvar markers = L.markerClusterGroup({\n\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t});\n\t\t\t\tif (typeof this.layerMarkers !== 'boolean') {\n\t\t\t\t\tmap.removeLayer(this.layerMarkers);\n\t\t\t\t}\n\t\t\t\tvar records = [];\n\t\t\t\tdata.coordinates.forEach(function (e) {\n\t\t\t\t\tmarkerArray.push([e.lat, e.lon]);\n\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\tmarkers.addLayer(marker);\n\t\t\t\t\trecords.push(e.recordId);\n\t\t\t\t});\n\t\t\t\tthis.recordsIds = records;\n\t\t\t\tthis.markers = data.coordinates;\n\t\t\t\tthis.layerMarkers = markers;\n\t\t\t\tmap.addLayer(markers);\n\t\t\t}\n\t\t\tif (typeof this.polygonLayer !== 'boolean') {\n\t\t\t\tmap.removeLayer(this.polygonLayer);\n\t\t\t}\n\t\t\tif (typeof data.coordinatesCenter !== 'undefined') {\n\t\t\t\tif (typeof data.coordinatesCenter.error === 'undefined') {\n\t\t\t\t\tlet radius = container.find('.js-radius').val();\n\t\t\t\t\tmarkerArray.push([data.coordinatesCenter.lat, data.coordinatesCenter.lon]);\n\t\t\t\t\tlet marker = L.marker([data.coordinatesCenter.lat, data.coordinatesCenter.lon], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'search',\n\t\t\t\t\t\t\tmarkerColor: 'red',\n\t\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(this.getMarkerPopup(container.find('.js-search-address').val(), data.coordinatesCenter));\n\t\t\t\t\tmap.addLayer(marker);\n\t\t\t\t\tif ($.isNumeric(radius)) {\n\t\t\t\t\t\tradius = parseInt(radius) * 1000;\n\t\t\t\t\t\tlet circle = L.circle([data.coordinatesCenter.lat, data.coordinatesCenter.lon], radius, {\n\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\tfillColor: '#f03',\n\t\t\t\t\t\t\tfillOpacity: 0.05\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.polygonLayer = L.featureGroup([circle]);\n\t\t\t\t\t\tmap.addLayer(this.polygonLayer);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\ttext: data.coordinatesCenter.error,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof data.cache !== 'undefined') {\n\t\t\t\tObject.keys(data.cache).forEach((key) => {\n\t\t\t\t\tif (typeof thisInstance.cacheLayerMarkers[key] !== 'undefined') {\n\t\t\t\t\t\tmap.removeLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t}\n\t\t\t\t\tvar markersCache = L.markerClusterGroup({\n\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t});\n\t\t\t\t\tlet coordinates = data.cache[key];\n\t\t\t\t\tcoordinates.forEach((e) => {\n\t\t\t\t\t\tif (thisInstance.recordsIds.indexOf(e.recordId) === -1) {\n\t\t\t\t\t\t\tmarkerArray.push([e.lat, e.lon]);\n\t\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tmarkersCache.addLayer(marker);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.cacheMarkers[key] = coordinates;\n\t\t\t\t\tmap.addLayer(markersCache);\n\t\t\t\t\tthisInstance.cacheLayerMarkers[key] = markersCache;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar legendContainer = this.container.find('.js-legend-container');\n\t\t\tif (typeof data.legend !== 'undefined') {\n\t\t\t\tlet html = '';\n\t\t\t\tdata.legend.forEach(function (e) {\n\t\t\t\t\thtml +=\n\t\t\t\t\t\t'<div class=\"float-left mt-2\"><span class=\"leegendIcon mt-1\" style=\"background:' +\n\t\t\t\t\t\te.color +\n\t\t\t\t\t\t'\"></span> ' +\n\t\t\t\t\t\te.value +\n\t\t\t\t\t\t'</div>';\n\t\t\t\t});\n\t\t\t\tlegendContainer.html(html);\n\t\t\t} else {\n\t\t\t\tlegendContainer.html('');\n\t\t\t}\n\t\t\tif (markerArray.length) map.fitBounds(markerArray);\n\t\t\tthis.container.find('.groupNeighbours').prop('checked', true);\n\t\t},\n\t\tshowCalculateBtn: function () {\n\t\t\tvar container = this.container;\n\t\t\tvar endAddress = container.find('.end').val();\n\t\t\tvar startAddress = container.find('.start').val();\n\t\t\tif (endAddress.length > 0 && startAddress.length > 0) {\n\t\t\t\tcontainer.find('.js-calculate-route').parent().removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tregisterCacheEvents: function (container) {\n\t\t\tvar thisInstance = this;\n\t\t\tcontainer.find('.showRecordsFromCache').on('change', (e) => {\n\t\t\t\tconst currentTarget = $(e.currentTarget),\n\t\t\t\t\tmoduleName = currentTarget.data('module');\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\t\tcache: [moduleName]\n\t\t\t\t\t}).done((response) => {\n\t\t\t\t\t\tthis.setMarkers(response.result);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.mapInstance.removeLayer(this.cacheLayerMarkers[moduleName]);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('.copyToClipboard').on('click', function () {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'save',\n\t\t\t\t\trecordIds: JSON.stringify(thisInstance.recordsIds),\n\t\t\t\t\tsrcModule: app.getModuleName()\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tvar countRecords = container.find('.countRecords' + app.getModuleName());\n\t\t\t\t\tcountRecords.html(response.result);\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.js-delete-clip-board').removeClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.js-delete-clip-board').on('click', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar moduleName = currentTarget.data('module');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'delete',\n\t\t\t\t\tsrcModule: moduleName\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tvar countRecords = container.find('.countRecords' + moduleName);\n\t\t\t\t\tcountRecords.html('');\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.showRecordsFromCache').prop('checked', false);\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.showRecordsFromCache').trigger('change');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.addAllRecords').on('click', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar moduleName = currentTarget.data('module');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'addAllRecords',\n\t\t\t\t\tsrcModule: moduleName\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_MESSAGE_DOWNLOADED_ADDRESS_DATA'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tcontainer.find('.countRecords' + moduleName).html(response.result.count);\n\t\t\t\t\tvar moduleContainer = currentTarget.closest('.cacheModuleContainer');\n\t\t\t\t\tmoduleContainer.find('.showRecordsFromCache').prop('checked', true);\n\t\t\t\t\tmoduleContainer.find('.showRecordsFromCache').trigger('change');\n\t\t\t\t\tif (response.result.count != '0') moduleContainer.find('.js-delete-clip-board').removeClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetCacheParamsToRequest: function () {\n\t\t\tlet params = [];\n\t\t\tthis.container.find('.showRecordsFromCache').each(function () {\n\t\t\t\tvar currentObject = $(this);\n\t\t\t\tif (currentObject.is(':checked')) params.push(currentObject.data('module'));\n\t\t\t});\n\t\t\treturn params;\n\t\t},\n\t\tregisterSearchCompany: function () {\n\t\t\tconst searchValue = this.container.find('.js-search-company');\n\t\t\tconst searchModule = this.container.find('.searchModule');\n\t\t\t$.widget('custom.ivAutocomplete', $.ui.autocomplete, {\n\t\t\t\t_create: function () {\n\t\t\t\t\tthis._super();\n\t\t\t\t\tthis.widget().menu('option', 'items', '> :not(.ui-autocomplete-category)');\n\t\t\t\t},\n\t\t\t\t_renderMenu: function (ul, items) {\n\t\t\t\t\tlet that = this,\n\t\t\t\t\t\tcurrentCategory = '';\n\t\t\t\t\t$.each(items, function (_index, item) {\n\t\t\t\t\t\tlet li;\n\t\t\t\t\t\tconsole.log(item.category != currentCategory, item);\n\t\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + '</li>');\n\t\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tli = that._renderItemData(ul, item);\n\t\t\t\t\t\tif (item.category) {\n\t\t\t\t\t\t\tli.attr('aria-label', item.category + ' : ' + item.label);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t_renderItemData: function (ul, item) {\n\t\t\t\t\treturn this._renderItem(ul, item).data('ui-autocomplete-item', item);\n\t\t\t\t},\n\t\t\t\t_renderItem: function (ul, item) {\n\t\t\t\t\treturn $('<li>').data('item.autocomplete', item).append($('<a></a>').html(item.label)).appendTo(ul);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsearchValue.ivAutocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (_request, response) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: searchModule.val(),\n\t\t\t\t\t\tcurrentModule: app.getModuleName(),\n\t\t\t\t\t\tsearchModule: searchModule.val(),\n\t\t\t\t\t\tview: 'BasicAjax',\n\t\t\t\t\t\tmode: 'showSearchResults',\n\t\t\t\t\t\tvalue: searchValue.val(),\n\t\t\t\t\t\thtml: false\n\t\t\t\t\t}).done(function (responseAjax) {\n\t\t\t\t\t\tresponseAjax = JSON.parse(responseAjax);\n\t\t\t\t\t\tlet responseDataList = responseAjax.result;\n\t\t\t\t\t\tif (responseDataList.length <= 0) {\n\t\t\t\t\t\t\tresponseDataList.push({\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\ttype: 'no results',\n\t\t\t\t\t\t\t\tcategory: ''\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponse(responseDataList);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: (_event, ui) => {\n\t\t\t\t\tthis.recordsIds.push(ui.item.id);\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\t\tmode: 'addRecord',\n\t\t\t\t\t\trecord: ui.item.id,\n\t\t\t\t\t\tsrcModuleName: searchModule.val()\n\t\t\t\t\t}).done((response) => {\n\t\t\t\t\t\tif (response.result.length == 1) {\n\t\t\t\t\t\t\tlet marker = L.marker([response.result[0].lat, response.result[0].lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'cadetblue',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: response.result[0].color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(response.result[0].label);\n\t\t\t\t\t\t\tthis.layerMarkers.addLayer(marker);\n\t\t\t\t\t\t\tthis.mapInstance.addLayer(this.layerMarkers);\n\t\t\t\t\t\t\tthis.mapInstance.setView(new L.LatLng(response.result[0].lat, response.result[0].lon), 13);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\t\ttext: response.result,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterSearchAddress: function () {\n\t\t\tconst searchValue = this.container.find('.js-search-address'),\n\t\t\t\tsearchBtn = this.container.find('.js-search-btn'),\n\t\t\t\toperator = this.container.find('.js-select-operator');\n\t\t\tif (operator.length && operator.val()) {\n\t\t\t\tsearchValue\n\t\t\t\t\t.autocomplete({\n\t\t\t\t\t\tdelay: 600,\n\t\t\t\t\t\tminLength: 3,\n\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\t\t\tmode: 'findAddress',\n\t\t\t\t\t\t\t\ttype: operator.val(),\n\t\t\t\t\t\t\t\tvalue: request.term\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function (requestData) {\n\t\t\t\t\t\t\t\t\tif (requestData.result === false) {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (requestData.result.length) {\n\t\t\t\t\t\t\t\t\t\tresponse(requestData.result);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function (_textStatus, _errorThrown, jqXHR) {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttext: jqXHR.responseJSON.error.message,\n\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselect: (_event, ui) => {\n\t\t\t\t\t\t\tif (ui.item.coordinates) {\n\t\t\t\t\t\t\t\tlet marker = L.marker([ui.item.coordinates.lat, ui.item.coordinates.lon], {\n\t\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\t\tmarkerColor: 'cadetblue',\n\t\t\t\t\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}).bindPopup(this.getMarkerPopup(ui.item.label, ui.item.coordinates));\n\t\t\t\t\t\t\t\tthis.layerMarkers.addLayer(marker);\n\t\t\t\t\t\t\t\tthis.mapInstance.addLayer(this.layerMarkers);\n\t\t\t\t\t\t\t\tthis.mapInstance.setView(new L.LatLng(ui.item.coordinates.lat, ui.item.coordinates.lon), 10);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsearchValue.val(ui.item.label);\n\t\t\t\t\t\t\t\tsearchBtn.trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.autocomplete('instance')._renderItem = function (ul, item) {\n\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t.append(`<div><span class=\"fi fi-${item.countryCode}\"></span> ${item.label}</div>`)\n\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.container.find('.js-search-address,.js-radius').on('keydown', (e) => {\n\t\t\t\tif (e.code === 'Enter') {\n\t\t\t\t\tsearchBtn.trigger('click');\n\t\t\t\t}\n\t\t\t});\n\t\t\tsearchBtn.on('click', () => {\n\t\t\t\tconst progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: this.container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tsearchValue: this.container.find('.js-search-address').val(),\n\t\t\t\t\tcache: this.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tconst radiusValue = this.container.find('.js-radius').val();\n\t\t\t\tif (radiusValue !== '' && parseInt(radiusValue)) {\n\t\t\t\t\tparams['radius'] = parseInt(radiusValue);\n\t\t\t\t}\n\t\t\t\tAppConnector.request($.extend(this.selectedParams, params)).done((response) => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthis.setMarkers(response.result);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterMyLocation: function () {\n\t\t\tconst locationBtn = this.container.find('.js-my-location-btn');\n\t\t\tif (!navigator.geolocation) {\n\t\t\t\tlocationBtn.addClass('d-none');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnavigator.permissions.query({ name: 'geolocation' }).then((response) => {\n\t\t\t\tif (response.state === 'denied') {\n\t\t\t\t\tlocationBtn.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t\tlocationBtn.on('click', () => {\n\t\t\t\tnavigator.geolocation.getCurrentPosition((position) => {\n\t\t\t\t\tthis.addMarker(\n\t\t\t\t\t\tposition.coords.latitude,\n\t\t\t\t\t\tposition.coords.longitude,\n\t\t\t\t\t\tthis.getMarkerPopup(\n\t\t\t\t\t\t\tlocationBtn.data('label'),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlat: position.coords.latitude,\n\t\t\t\t\t\t\t\tlon: position.coords.longitude\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t),\n\t\t\t\t\t\tL.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'street-view',\n\t\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tthis.mapInstance.setView(new L.LatLng(position.coords.latitude, position.coords.longitude), 12);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterBasicModal: function () {\n\t\t\tthis.registerSearchAddress();\n\t\t\tthis.registerMyLocation();\n\t\t},\n\t\tregisterPanel: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet container = this.container;\n\t\t\tlet map = this.mapInstance;\n\t\t\tlet layer, description;\n\t\t\tapp.registerBlockAnimationEvent(container);\n\t\t\tthis.registerCacheEvents(container);\n\t\t\tcontainer.find('.groupBy').on('click', () => {\n\t\t\t\tlet progressIndicator = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tgroupBy: container.find('.fieldsToGroup').val(),\n\t\t\t\t\tsearchValue: container.find('.js-search-address').val(),\n\t\t\t\t\tradius: container.find('.js-radius').val(),\n\t\t\t\t\tcache: this.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tparams = $.extend(this.selectedParams, params);\n\t\t\t\tAppConnector.request(params).done((response) => {\n\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthis.setMarkers(response.result);\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.groupNeighbours').on('change', (group) => {\n\t\t\t\tlet currentTarget = $(group.currentTarget);\n\t\t\t\tmap.removeLayer(this.layerMarkers);\n\t\t\t\tlet markers = this.markers;\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tlayer = L.markerClusterGroup({\n\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t});\n\t\t\t\t\tmarkers.forEach((e) => {\n\t\t\t\t\t\tlet marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\tlayer.addLayer(marker);\n\t\t\t\t\t});\n\t\t\t\t\tObject.keys(this.cacheLayerMarkers).forEach((key) => {\n\t\t\t\t\t\tmap.removeLayer(this.cacheLayerMarkers[key]);\n\t\t\t\t\t\tlet cacheLayer = L.markerClusterGroup({\n\t\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.cacheMarkers[key].forEach((e) => {\n\t\t\t\t\t\t\tlet marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tcacheLayer.addLayer(marker);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.cacheLayerMarkers[key] = cacheLayer;\n\t\t\t\t\t\tmap.addLayer(cacheLayer);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tlet markerArray = [];\n\t\t\t\t\tmarkers.forEach((e) => {\n\t\t\t\t\t\tlet marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\tmarkerArray.push(marker);\n\t\t\t\t\t});\n\t\t\t\t\tlayer = L.featureGroup(markerArray);\n\t\t\t\t\tObject.keys(this.cacheLayerMarkers).forEach((key) => {\n\t\t\t\t\t\tmap.removeLayer(this.cacheLayerMarkers[key]);\n\t\t\t\t\t\tlet markerArray = [];\n\t\t\t\t\t\tthis.cacheMarkers[key].forEach((e) => {\n\t\t\t\t\t\t\tlet marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tmarkerArray.push(marker);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.cacheLayerMarkers[key] = L.featureGroup(markerArray);\n\t\t\t\t\t\tmap.addLayer(this.cacheLayerMarkers[key]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.layerMarkers = layer;\n\t\t\t\tmap.addLayer(layer);\n\t\t\t});\n\t\t\tlet startIconLayer = false;\n\t\t\tcontainer.on('click', '.startTrack', (e) => {\n\t\t\t\tif (startIconLayer) {\n\t\t\t\t\tmap.removeLayer(startIconLayer);\n\t\t\t\t}\n\t\t\t\tlet currentTargetTrack = $(e.currentTarget);\n\t\t\t\tlet containerPopup = currentTargetTrack.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tlet startElement = container.find('.start');\n\t\t\t\tlet coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tstartElement.val(description);\n\t\t\t\tstartElement.data('lat', coordinates.data('lat'));\n\t\t\t\tstartElement.data('lon', coordinates.data('lon'));\n\t\t\t\tlet marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'truck',\n\t\t\t\t\t\tmarkerColor: 'green',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tstartIconLayer = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(startIconLayer);\n\t\t\t\tthis.showCalculateBtn();\n\t\t\t});\n\t\t\tlet endIconLayer = false;\n\t\t\tcontainer.on('click', '.endTrack', (e) => {\n\t\t\t\tif (endIconLayer) {\n\t\t\t\t\tmap.removeLayer(endIconLayer);\n\t\t\t\t}\n\t\t\t\tlet currentTargetTrack = $(e.currentTarget);\n\t\t\t\tlet containerPopup = currentTargetTrack.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tlet endElement = container.find('.end');\n\t\t\t\tlet coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tendElement.val(description);\n\t\t\t\tendElement.data('lat', coordinates.data('lat'));\n\t\t\t\tendElement.data('lon', coordinates.data('lon'));\n\t\t\t\tlet marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'flag-checkered',\n\t\t\t\t\t\tmarkerColor: 'red',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tendIconLayer = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(endIconLayer);\n\t\t\t\tthis.showCalculateBtn();\n\t\t\t});\n\t\t\tcontainer.on('click', '.indirectPoint', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tlet template = container.find('.indirectTemplate');\n\t\t\t\tlet indirect = template.clone();\n\t\t\t\ttemplate.before(indirect);\n\t\t\t\tindirect.removeClass('indirectTemplate');\n\t\t\t\tindirect.removeClass('d-none');\n\t\t\t\tlet coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tif (typeof this.indirectPointLayer[description] !== 'undefined') {\n\t\t\t\t\tmap.removeLayer(this.indirectPointLayer[description]);\n\t\t\t\t}\n\t\t\t\tlet indirectField = indirect.find('.indirect');\n\t\t\t\tindirectField.val(description);\n\t\t\t\tindirectField.data('lat', coordinates.data('lat'));\n\t\t\t\tindirectField.data('lon', coordinates.data('lon'));\n\t\t\t\tlet marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'flag',\n\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tthis.indirectPointLayer[description] = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(this.indirectPointLayer[description]);\n\t\t\t});\n\t\t\tcontainer.on('click', '.removeIndirect', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet container = currentTarget.closest('.indirectContainer');\n\t\t\t\tmap.removeLayer(this.indirectPointLayer[container.find('.indirect').val()]);\n\t\t\t\tcurrentTarget.closest('.indirectContainer').remove();\n\t\t\t});\n\t\t\tcontainer.on('click', '.moveUp', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet container = currentTarget.closest('.indirectContainer');\n\t\t\t\tlet previousElement = container.prev();\n\t\t\t\tif (!previousElement.hasClass('startContainer')) {\n\t\t\t\t\tpreviousElement.before(container);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.on('click', '.moveDown', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet container = currentTarget.closest('.indirectContainer');\n\t\t\t\tlet nextElement = container.next();\n\t\t\t\tif (!nextElement.hasClass('indirectTemplate')) {\n\t\t\t\t\tnextElement.after(container);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.on('click', '.searchInRadius', (e) => {\n\t\t\t\tif (endIconLayer) {\n\t\t\t\t\tmap.removeLayer(endIconLayer);\n\t\t\t\t}\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tlet coordinates = containerPopup.find('.coordinates');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tradius: container.find('.radius').val(),\n\t\t\t\t\tlat: coordinates.data('lat'),\n\t\t\t\t\tlon: coordinates.data('lon'),\n\t\t\t\t\tcache: this.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tparams = $.extend(this.selectedParams, params);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthis.setMarkers(response.result);\n\t\t\t\t});\n\t\t\t});\n\t\t\tconst descriptionContainer = container.find('.js-description-container');\n\t\t\tcontainer.find('.js-calculate-route').on('click', () => {\n\t\t\t\tlet indirectLon = [];\n\t\t\t\tlet indirectLat = [];\n\t\t\t\tcontainer.find('.indirectContainer:not(.d-none) input.indirect').each(function () {\n\t\t\t\t\tlet currentTarget = $(this);\n\t\t\t\t\tindirectLat.push(currentTarget.data('lat'));\n\t\t\t\t\tindirectLon.push(currentTarget.data('lon'));\n\t\t\t\t});\n\t\t\t\tlet endElement = container.find('.end');\n\t\t\t\tlet startElement = container.find('.start');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'GetRoute',\n\t\t\t\t\t\tflon: startElement.data('lon'),\n\t\t\t\t\t\tflat: startElement.data('lat'),\n\t\t\t\t\t\tilon: indirectLon,\n\t\t\t\t\t\tilat: indirectLat,\n\t\t\t\t\t\ttlon: endElement.data('lon'),\n\t\t\t\t\t\ttlat: endElement.data('lat')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\t.done((response) => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (this.routeLayer) {\n\t\t\t\t\t\t\tmap.removeLayer(this.routeLayer);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet route = L.geoJson(response.result.geoJson);\n\t\t\t\t\t\tthis.routeLayer = L.featureGroup([route]);\n\t\t\t\t\t\tmap.addLayer(this.routeLayer);\n\t\t\t\t\t\tdescriptionContainer.removeClass('d-none');\n\t\t\t\t\t\tconst instruction = container.find('.js-instruction_block');\n\t\t\t\t\t\tif (response.result.properties.description) {\n\t\t\t\t\t\t\tinstruction.removeClass('d-none');\n\t\t\t\t\t\t\tdescriptionContainer.find('.js-instruction_body').html(response.result.properties.description);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinstruction.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdescriptionContainer\n\t\t\t\t\t\t\t.find('.distance')\n\t\t\t\t\t\t\t.html(App.Fields.Double.formatToDisplay(response.result.properties.distance));\n\t\t\t\t\t\tdescriptionContainer\n\t\t\t\t\t\t\t.find('.travelTime')\n\t\t\t\t\t\t\t.html(App.Fields.Double.formatToDisplay(response.result.properties.traveltime / 60));\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, _title) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttitleTrusted: false,\n\t\t\t\t\t\t\ttextTrusted: false,\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\t\t\ttext: error,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.on('click', '.setView', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet inputInstance = currentTarget.closest('.input-group').find('.end,.start,.indirect');\n\t\t\t\tlet lat = inputInstance.data('lat');\n\t\t\t\tlet lon = inputInstance.data('lon');\n\t\t\t\tif (!(typeof lat === 'undefined' && typeof lon === 'undefined')) {\n\t\t\t\t\tmap.setView(new L.LatLng(lat, lon), 11);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerSearchCompany();\n\t\t},\n\t\tregisterModalView: function (container) {\n\t\t\tthis.container = container;\n\t\t\tconst progress = jQuery.progressIndicator({\n\t\t\t\tposition: container,\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('#mapid').css({\n\t\t\t\theight: $('body').height() - 160\n\t\t\t});\n\t\t\tthis.registerMap([0, 0], 2);\n\t\t\tthis.registerBasicModal();\n\t\t\tthis.registerPanel();\n\t\t\tAppConnector.request(\n\t\t\t\t$.extend(this.selectedParams, {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName()\n\t\t\t\t})\n\t\t\t).done((response) => {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tthis.setMarkers(response.result);\n\t\t\t});\n\t\t},\n\t\tgetMarkerPopup: function (label, coordinates, btn = true) {\n\t\t\tlet popup = `<span class=\"description\">${label}</span>\n\t\t\t<br /><input type=hidden class=\"coordinates\" data-lat=\"${coordinates.lat}\" data-lon=\"${coordinates.lon}\">`;\n\t\t\tif (btn) {\n\t\t\t\tpopup += `<button class=\"btn btn-success btn-sm p-1 startTrack mr-2\"><span class=\"fas  fa-truck\"></span></button>\n\t\t<button class=\"btn btn-warning btn-sm p-1 indirectPoint mr-2\"><span class=\"fas fa-flag-checkered\"></span></button>\n\t\t<button class=\"btn btn-danger btn-sm p-1 endTrack\"><span class=\"fas fa-flag-checkered\"></span></button>`;\n\t\t\t}\n\t\t\tpopup += `<span class=\"border d-block my-1 p-1\">${coordinates.lat}, ${coordinates.lon}</span>`;\n\t\t\treturn popup;\n\t\t},\n\t\tregisterDetailView: function (container) {\n\t\t\tthis.container = container;\n\t\t\tlet coordinates = container.find('#coordinates').val();\n\t\t\tcoordinates = JSON.parse(coordinates);\n\t\t\tlet startCoordinate = [0, 0],\n\t\t\t\tstartZoom = 2;\n\t\t\tconst $map = container.find('#mapid');\n\t\t\tif (coordinates.length) {\n\t\t\t\tstartCoordinate = coordinates[0];\n\t\t\t\tstartZoom = 6;\n\t\t\t}\n\t\t\tif ($('.mainBody').length) {\n\t\t\t\tif ($('.mainBody').height() < 1000) {\n\t\t\t\t\t$map.height(\n\t\t\t\t\t\t$('.mainBody').height() -\n\t\t\t\t\t\t\t($('.detailViewTitle').height() + $('.detailViewContainer .related').height() + 25)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$map.height(1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($('.bodyContents').height() < 1000) {\n\t\t\t\t\t$map.height(\n\t\t\t\t\t\t$('.bodyContents').height() -\n\t\t\t\t\t\t\t($('.detailViewTitle').height() + $('.detailViewContainer .related').height() + 25)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$map.height(1000);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst myMap = this.registerMap(startCoordinate, startZoom),\n\t\t\t\tmarkers = L.markerClusterGroup({\n\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t});\n\t\t\tcoordinates.forEach(function (e) {\n\t\t\t\tmarkers.addLayer(\n\t\t\t\t\tL.marker([e.lat, e.lon], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(e.label)\n\t\t\t\t);\n\t\t\t});\n\t\t\tmyMap.addLayer(markers);\n\t\t},\n\t\tregisterFromField: function (container, _fieldInstance) {\n\t\t\tthis.container = container;\n\t\t\tcontainer.find('#mapid').css({\n\t\t\t\theight: $('body').height() - 160\n\t\t\t});\n\t\t\tconst decimalPoint = container.find('.js-point-decimal');\n\t\t\tlet point = null;\n\t\t\tif (decimalPoint.length > 0) {\n\t\t\t\tpoint = JSON.parse(decimalPoint.val());\n\t\t\t}\n\t\t\tif (point) {\n\t\t\t\tthis.registerMap([point['lat'], point['lon']], 14);\n\t\t\t} else {\n\t\t\t\tthis.registerMap([0, 0], 3);\n\t\t\t}\n\t\t\tthis.registerBasicModal();\n\t\t\tthis.layerMarkers = L.markerClusterGroup({\n\t\t\t\tmaxClusterRadius: 10\n\t\t\t});\n\t\t\tif (point) {\n\t\t\t\tthis.addMarker(\n\t\t\t\t\tpoint['lat'],\n\t\t\t\t\tpoint['lon'],\n\t\t\t\t\tthis.getMarkerPopup(\n\t\t\t\t\t\t'',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlat: point['lat'],\n\t\t\t\t\t\t\tlon: point['lon']\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\taddMarker: function (lat, lon, label, icon) {\n\t\t\tif (!icon) {\n\t\t\t\ticon = L.AwesomeMarkers.icon({\n\t\t\t\t\ticon: 'home',\n\t\t\t\t\tmarkerColor: 'cadetblue',\n\t\t\t\t\tprefix: 'fa'\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst marker = L.marker([lat, lon], { icon: icon });\n\t\t\tif (label) {\n\t\t\t\tmarker.bindPopup(label);\n\t\t\t}\n\t\t\tthis.layerMarkers.addLayer(marker);\n\t\t\tthis.mapInstance.addLayer(this.layerMarkers);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","mapInstance","selectedParams","layerMarkers","markers","cacheMarkers","polygonLayer","routeLayer","recordsIds","cacheLayerMarkers","indirectPointLayer","setSelectedParams","params","view","registerMap","startCoordinate","startZoom","attribution","CONFIG","disableBranding","L","map","setView","tileLayer","$","val","maxZoom","addTo","setMarkers","data","thisInstance","markerArray","coordinates","markerClusterGroup","maxClusterRadius","removeLayer","records","forEach","e","push","lat","lon","marker","icon","AwesomeMarkers","markerColor","prefix","iconColor","color","bindPopup","label","addLayer","recordId","coordinatesCenter","error","radius","find","getMarkerPopup","isNumeric","parseInt","circle","fillColor","fillOpacity","featureGroup","Vtiger_Helper_Js","showMessage","title","app","vtranslate","text","type","cache","Object","keys","key","markersCache","indexOf","legendContainer","legend","html","value","length","fitBounds","prop","showCalculateBtn","endAddress","startAddress","parent","removeClass","registerCacheEvents","_this","on","currentTarget","moduleName","is","AppConnector","request","module","action","srcModule","getModuleName","done","response","result","mode","recordIds","JSON","stringify","countRecords","closest","addClass","trigger","count","moduleContainer","getCacheParamsToRequest","each","currentObject","registerSearchCompany","_this2","searchValue","searchModule","widget","ui","autocomplete","_create","_super","menu","_renderMenu","ul","items","that","currentCategory","_index","item","li","console","log","category","append","_renderItemData","attr","_renderItem","appendTo","ivAutocomplete","delay","minLength","source","_request","currentModule","responseAjax","parse","responseDataList","select","_event","id","record","srcModuleName","LatLng","registerSearchAddress","_this3","searchBtn","operator","term","requestData","showNotify","fail","_textStatus","_errorThrown","jqXHR","responseJSON","message","animation","concat","countryCode","code","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","radiusValue","extend","registerMyLocation","_this4","locationBtn","navigator","geolocation","permissions","query","name","then","state","getCurrentPosition","addMarker","coords","latitude","longitude","registerBasicModal","registerPanel","layer","description","_this5","registerBlockAnimationEvent","groupBy","group","cacheLayer","startIconLayer","currentTargetTrack","containerPopup","startElement","replace","endIconLayer","endElement","template","indirect","clone","before","indirectField","remove","previousElement","prev","hasClass","nextElement","next","after","descriptionContainer","indirectLon","indirectLat","url","flon","flat","ilon","ilat","tlon","tlat","route","geoJson","instruction","properties","App","Fields","Double","formatToDisplay","distance","traveltime","titleTrusted","textTrusted","inputInstance","registerModalView","_this6","progress","css","height","btn","arguments","popup","registerDetailView","$map","myMap","registerFromField","decimalPoint","point"],"mappings":"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"}