{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\nVtiger_Detail_Js(\n\t'Campaigns_Detail_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to register email enabled actions\n\t\t */\n\t\tregisterEmailEnabledActions: function() {\n\t\t\tvar moduleName = app.getModuleName();\n\t\t\tvar className = moduleName + '_List_Js';\n\t\t\tvar listInstance = new window[className]();\n\t\t\tlistInstance.registerEvents();\n\t\t\tlistInstance.markSelectedRecords();\n\t\t},\n\t\tregisterEventForRelatedTabClick: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tvar detailContainer = detailContentsHolder.closest('div.detailViewInfo');\n\t\t\tjQuery('.related', detailContainer).on('click', 'li:not(.spaceRelatedList)', function(e, urlAttributes) {\n\t\t\t\tvar tabElement = jQuery(e.currentTarget);\n\t\t\t\tif (!tabElement.hasClass('dropdown')) {\n\t\t\t\t\tvar element = jQuery('<div></div>');\n\t\t\t\t\telement.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: detailContainer\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar url = tabElement.data('url');\n\t\t\t\t\tif (typeof urlAttributes !== 'undefined') {\n\t\t\t\t\t\tvar callBack = urlAttributes.callback;\n\t\t\t\t\t\tdelete urlAttributes.callback;\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.loadContents(url, urlAttributes)\n\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\tthisInstance.deSelectAllrelatedTabs();\n\t\t\t\t\t\t\tthisInstance.markTabAsSelected(tabElement);\n\t\t\t\t\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\t\t\t\t\tthisInstance.registerHelpInfo();\n\t\t\t\t\t\t\tapp.registerModal(detailContentsHolder);\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tvar emailEnabledModule = jQuery(data)\n\t\t\t\t\t\t\t\t.find('[name=\"emailEnabledModules\"]')\n\t\t\t\t\t\t\t\t.val();\n\t\t\t\t\t\t\tif (emailEnabledModule) {\n\t\t\t\t\t\t\t\tvar listInstance = new Campaigns_List_Js();\n\t\t\t\t\t\t\t\tlistInstance.registerEvents();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (typeof callBack == 'function') {\n\t\t\t\t\t\t\t\tcallBack(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//Summary tab is clicked\n\t\t\t\t\t\t\tif (tabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\tthisInstance.loadWidgets();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.registerBasicEvents();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function(error) {\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tthis._super();\n\t\t\t//Calling registerevents of campaigns list to handle checkboxs click of related records\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tlistInstance.registerEvents();\n\t\t\tvar thisInstance = this;\n\t\t\tapp.event.on('RelatedList.AfterLoad', function(event, instance) {\n\t\t\t\tvar response = instance.content;\n\t\t\t\tresponse.find('[name=\"selectedIds\"]').data('selectedIds', '');\n\t\t\t\tresponse.find('[name=\"excludedIds\"]').data('excludedIds', '');\n\t\t\t\tvar emailEnabledModule = response.find('[name=\"emailEnabledModules\"]').val();\n\t\t\t\tif (emailEnabledModule) {\n\t\t\t\t\tthisInstance.registerEmailEnabledActions();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["Vtiger_Detail_Js","registerEmailEnabledActions","app","getModuleName","listInstance","moduleName","registerEvents","markSelectedRecords","registerEventForRelatedTabClick","detailContentsHolder","thisInstance","getContentHolder","detailContainer","closest","jQuery","on","e","urlAttributes","currentTarget","tabElement","hasClass","element","progressIndicator","position","blockInfo","enabled","elementToBlock","data","callback","loadContents","url","done","deSelectAllrelatedTabs","markTabAsSelected","Vtiger_Helper_Js","showHorizontalTopScrollBar","registerHelpInfo","registerModal","mode","find","val","emailEnabledModule","callBack","detailViewSummaryTabLabel","loadWidgets","registerBasicEvents","fail","_super","Vtiger_List_Js","getInstance","event","instance","content","response"],"mappings":";;AAWAA,iBACC,qBADD,CAEC,EAFD,CAGC,CAICC,4BAA6B,sCAAW,gBACtBC,IAAIC,aAAJ,EADsB,CAGnCC,aAAe,WADHC,WAAa,UACN,CAHgB,CAIvCD,aAAaE,cAAb,EAJuC,CAKvCF,aAAaG,mBAAb,GACA,CAVF,CAWCC,gCAAiC,0CAAW,kBACxB,IADwB,CAEvCC,qBAAuBC,aAAaC,gBAAb,EAFgB,CAGvCC,gBAAkBH,qBAAqBI,OAArB,CAA6B,oBAA7B,CAHqB,CAI3CC,OAAO,UAAP,CAAmBF,eAAnB,EAAoCG,EAApC,CAAuC,OAAvC,CAAgD,2BAAhD,CAA6E,SAASC,CAAT,CAAYC,aAAZ,CAA2B,CACvG,eAAiBH,OAAOE,EAAEE,aAAT,CAAjB,CACA,GAAI,CAACC,WAAWC,QAAX,CAAoB,UAApB,CAAL,CAAsC,CACrC,YAAcN,OAAO,aAAP,CAAd,CACAO,QAAQC,iBAAR,CAA0B,CACzBC,SAAU,MADe,CAEzBC,UAAW,CACVC,UADU,CAEVC,eAAgBd,eAFN,CAFc,CAA1B,CAFqC,CASrC,QAAUO,WAAWQ,IAAX,CAAgB,KAAhB,CAAV,CACA,GAA6B,WAAzB,sBAAJ,CAA0C,CACzC,aAAeV,cAAcW,QAA7B,CACA,qBAAqBA,SACrB,CACDlB,aACEmB,YADF,CACeC,GADf,CACoBb,aADpB,EAEEc,IAFF,CAEO,SAASJ,IAAT,CAAe,CACpBjB,aAAasB,sBAAb,EADoB,CAEpBtB,aAAauB,iBAAb,CAA+Bd,UAA/B,CAFoB,CAGpBe,iBAAiBC,0BAAjB,EAHoB,CAIpBzB,aAAa0B,gBAAb,EAJoB,CAKpBlC,IAAImC,aAAJ,CAAkB5B,oBAAlB,CALoB,CAMpBY,QAAQC,iBAAR,CAA0B,CAAEgB,KAAM,MAAR,CAA1B,CANoB,CAOpB,uBAAyBxB,OAAOa,IAAP,EACvBY,IADuB,CAClB,8BADkB,EAEvBC,GAFuB,EAAzB,CAGA,GAAIC,kBAAJ,CAAwB,CACvB,iBAAmB,qBAAnB,CACArC,aAAaE,cAAb,GACA,CACsB,UAAnB,iBAdgB,EAenBoC,SAASf,IAAT,CAfmB,CAkBhBR,WAAWQ,IAAX,CAAgB,SAAhB,GAA8BjB,aAAaiC,yBAlB3B,EAmBnBjC,aAAakC,WAAb,EAnBmB,CAqBpBlC,aAAamC,mBAAb,GACA,CAxBF,EAyBEC,IAzBF,CAyBO,UAAgB,CACrBzB,QAAQC,iBAAR,CAA0B,CAAEgB,KAAM,MAAR,CAA1B,EACA,CA3BF,EA4BA,CACD,CA7CD,EA8CA,CA7DF,CA8DChC,eAAgB,yBAAW,CAC1B,KAAKyC,MAAL,EAD0B,CAG1B,iBAAmBC,eAAeC,WAAf,EAAnB,CACA7C,aAAaE,cAAb,EAJ0B,CAK1B,iBAAmB,IAAnB,CACAJ,IAAIgD,KAAJ,CAAUnC,EAAV,CAAa,uBAAb,CAAsC,SAASmC,KAAT,CAAgBC,QAAhB,CAA0B,CAC/D,aAAeA,SAASC,OAAxB,CACAC,SAASd,IAAT,CAAc,sBAAd,EAAsCZ,IAAtC,CAA2C,aAA3C,CAA0D,EAA1D,CAF+D,CAG/D0B,SAASd,IAAT,CAAc,sBAAd,EAAsCZ,IAAtC,CAA2C,aAA3C,CAA0D,EAA1D,CAH+D,CAI/D,uBAAyB0B,SAASd,IAAT,CAAc,8BAAd,EAA8CC,GAA9C,EAAzB,CACIC,kBAL2D,EAM9D/B,aAAaT,2BAAb,GAED,CARD,EASA,CA7EF,CAHD"}