'use strict';

Vtiger_Detail_Js("Campaigns_Detail_Js",{},{registerEmailEnabledActions:function registerEmailEnabledActions(){var moduleName=app.getModuleName(),listInstance=new window[moduleName+"_List_Js"];listInstance.registerEvents(),listInstance.markSelectedRecords();},registerEventForRelatedTabClick:function registerEventForRelatedTabClick(){var thisInstance=this,detailContentsHolder=thisInstance.getContentHolder(),detailContainer=detailContentsHolder.closest("div.detailViewInfo");jQuery(".related",detailContainer).on("click","li:not(.spaceRelatedList)",function(e,urlAttributes){var tabElement=jQuery(e.currentTarget);if(!tabElement.hasClass("dropdown")){var element=jQuery("<div></div>");element.progressIndicator({position:"html",blockInfo:{enabled:!0,elementToBlock:detailContainer}});var url=tabElement.data("url");if("undefined"!=typeof urlAttributes){var callBack=urlAttributes.callback;delete urlAttributes.callback;}thisInstance.loadContents(url,urlAttributes).done(function(data){thisInstance.deSelectAllrelatedTabs(),thisInstance.markTabAsSelected(tabElement),Vtiger_Helper_Js.showHorizontalTopScrollBar(),thisInstance.registerHelpInfo(),app.registerModal(detailContentsHolder),app.registerMoreContent(detailContentsHolder.find("button.moreBtn")),element.progressIndicator({mode:"hide"});var emailEnabledModule=jQuery(data).find("[name=\"emailEnabledModules\"]").val();if(emailEnabledModule){var listInstance=new Campaigns_List_Js;listInstance.registerEvents();}"function"==typeof callBack&&callBack(data),tabElement.data("linkKey")==thisInstance.detailViewSummaryTabLabel&&thisInstance.loadWidgets(),thisInstance.registerBasicEvents();}).fail(function(){element.progressIndicator({mode:"hide"});});}});},registerEvents:function registerEvents(){this._super();var listInstance=Vtiger_List_Js.getInstance();listInstance.registerEvents();var thisInstance=this;app.event.on("RelatedList.AfterLoad",function(event,instance){var response=instance.content;response.find("[name=\"selectedIds\"]").data("selectedIds",""),response.find("[name=\"excludedIds\"]").data("excludedIds","");var emailEnabledModule=response.find("[name=\"emailEnabledModules\"]").val();emailEnabledModule&&thisInstance.registerEmailEnabledActions();});}});
//# sourceMappingURL=Detail.min.js.map
