'use strict';

jQuery.Class('Vtiger_RelatedCommentModal_Js',{windowParent:app.getWindowParent(),registerSubmitEvent:function registerSubmitEvent(container){var self=this;container.find('[name="saveButton"]').on('click',function(){var progressLoader=$.progressIndicator({position:'html',blockInfo:{enabled:!0}}),comment=container.find('.comment').val(),params={module:self.windowParent.app.getModuleName(),record:self.windowParent.app.getRecordId(),action:'RelatedCommentModal',mode:'update',comment:comment,relid:container.find('.relatedRecord').val(),relmodule:container.find('.relatedModuleName').val()};AppConnector.request(params).done(function(data){Vtiger_Helper_Js.showMessage({text:data.result}),app.hideModalWindow(),progressLoader.progressIndicator({mode:'hide'}),self.windowParent.Vtiger_Detail_Js.getInstance().reloadTabContent();}).fail(function(){progressLoader.progressIndicator({mode:'hide'});});});},registerEvents:function registerEvents(){var container=$('#modalRelatedCommentModal');new App.Fields.Text.Completions(container.find('.js-completions')),this.registerSubmitEvent(container);}}),$(function(){var instance=new Vtiger_RelatedCommentModal_Js;instance.registerEvents();});
//# sourceMappingURL=RelatedCommentModal.min.js.map
