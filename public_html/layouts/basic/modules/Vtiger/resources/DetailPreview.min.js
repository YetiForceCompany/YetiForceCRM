Vtiger_Detail_Js("Vtiger_DetailPreview_Js",{},{registerLinkEvent:function(){$("#page").on("click","a",function(e){e.preventDefault();var target=$(this);if(!target.closest("div").hasClass("fieldValue")||target.hasClass("showReferenceTooltip")){if(target.attr("href")&&target.attr("href")!="#"){top.location.href=target.attr("href")}}})},updateParentFrame:function(){parent.app.getPageController().updateWindowHeight($(".mainContainer").height(),$(window.frameElement))},updateWindowHeight:function(currentHeight,frame){var thisInstance=this;var relatedContents=frame.closest(".relatedContents");var fixedListHeight=relatedContents.find(".js-list-preview--scroll").height();frame.height(currentHeight);if(fixedListHeight>currentHeight){currentHeight=fixedListHeight}if($(window).width()<993){relatedContents.find(".gutter, .js-list-preview, .js-side-block, .js-list-detail, .recordsListPreview").height(currentHeight)}else{relatedContents.find(".gutter, .js-list-preview, .js-side-block, .js-list-detail, .recordsListPreview").height(currentHeight)}relatedContents.find(".gutter, .js-list-preview, .js-side-block, .js-list-detail, .recordsListPreview").height(currentHeight);if(window.frameElement){thisInstance.updateParentFrame()}},registerSizeEvent:function(){var thisInstance=this;new ResizeSensor($(".mainContainer"),function(){thisInstance.updateParentFrame()})},registerEvents:function(){this._super();this.registerLinkEvent();this.registerSizeEvent()}});