{"version":3,"file":"Widget.min.js","sources":["Widget.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class('Vtiger_Widget_Js', {\n\twidgetPostLoadEvent: 'Vtiget.Dashboard.PostLoad',\n\twidgetPostRefereshEvent: 'Vtiger.Dashboard.PostRefresh',\n\tgetInstance: function getInstance(container, widgetClassName, moduleName) {\n\t\tif (typeof moduleName === \"undefined\") {\n\t\t\tmoduleName = app.getModuleName();\n\t\t}\n\t\tconst moduleClass = window[moduleName + \"_\" + widgetClassName + \"_Widget_Js\"];\n\t\tconst fallbackClass = window[\"Vtiger_\" + widgetClassName + \"_Widget_Js\"];\n\t\tconst yetiClass = window[\"YetiForce_\" + widgetClassName + \"_Widget_Js\"];\n\t\tconst basicClass = YetiForce_Widget_Js;\n\t\tlet instance;\n\t\tif (typeof moduleClass !== \"undefined\") {\n\t\t\tinstance = new moduleClass(container, false, widgetClassName);\n\t\t} else if (typeof fallbackClass !== \"undefined\") {\n\t\t\tinstance = new fallbackClass(container, false, widgetClassName);\n\t\t} else if (typeof yetiClass !== \"undefined\") {\n\t\t\tinstance = new yetiClass(container, false, widgetClassName);\n\t\t} else {\n\t\t\tinstance = new basicClass(container, false, widgetClassName);\n\t\t}\n\t\treturn instance;\n\t}\n}, {\n\tcontainer: false,\n\tplotContainer: false,\n\tchartInstance: false,\n\tchartData: [],\n\tparamCache: false,\n\tinit: function init(container, reload, widgetClassName) {\n\t\tcontainer = $(container);\n\t\tthis.setContainer(container);\n\t\tthis.registerWidgetPostLoadEvent(container);\n\t\tif (!reload) {\n\t\t\tthis.registerWidgetPostRefreshEvent(container);\n\t\t}\n\t\tthis.registerCache(container);\n\t},\n\tareColorsFromDividingField() {\n\t\treturn !!Number(this.getContainer().find('[name=\"colorsFromDividingField\"]').val());\n\t},\n\tgetSourceChartType() {\n\t\treturn this.getContainer().find('[name=\"typeChart\"]').val();\n\t},\n\tisMultiFilter() {\n\t\tif (typeof this.filterIds !== \"undefined\") {\n\t\t\treturn this.filterIds.length > 1;\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Get widget data\n\t * @returns {*}\n\t */\n\tgetWidgetData() {\n\t\tif (typeof this.widgetData !== 'undefined') {\n\t\t\treturn this.widgetData;\n\t\t}\n\t\tlet widgetDataEl = this.getContainer().find('.widgetData');\n\t\tif (widgetDataEl.length) {\n\t\t\treturn this.widgetData = JSON.parse(widgetDataEl.val());\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Predefined functions that will replace options function type\n\t * @type {Object}\n\t */\n\tglobalChartFunctions: {\n\t\t/**\n\t\t * Functions for x or y axes scales xAxes:[{here}]\n\t\t */\n\t\tscales: {\n\t\t\tformatAxesLabels: function formatAxesLabels(value, index, values) {\n\t\t\t\tif (String(value).length > 0 && !isNaN(Number(value))) {\n\t\t\t\t\treturn app.parseNumberToShow(value);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t},\n\t\t},\n\t\t/**\n\t\t * Functions for datalabels\n\t\t */\n\t\tdatalabels: {\n\t\t\tdisplay(context) {\n\t\t\t\tconst meta = context.chart.getDatasetMeta(context.datasetIndex);\n\t\t\t\treturn meta.hidden !== true;\n\t\t\t},\n\t\t\tformatter: function datalabelsFormatter(value, context) {\n\t\t\t\tif (typeof this.widgetData !== 'undefined' && typeof this.widgetData.valueType !== 'undefined' && this.widgetData.valueType === 'count') {\n\t\t\t\t\treturn app.parseNumberToShow(value, 0);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\ttypeof context.chart.data.datasets[context.datasetIndex].dataFormatted !== \"undefined\" &&\n\t\t\t\t\ttypeof context.chart.data.datasets[context.datasetIndex].dataFormatted[context.dataIndex] !== \"undefined\"\n\t\t\t\t) {\n\t\t\t\t\t// data presented in different format usually exists in alternative dataFormatted array\n\t\t\t\t\treturn context.chart.data.datasets[context.datasetIndex].dataFormatted[context.dataIndex];\n\t\t\t\t}\n\t\t\t\tif (String(value).length > 0 && isNaN(Number(value))) {\n\t\t\t\t\treturn app.parseNumberToShow(value);\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Tooltips functions\n\t\t */\n\t\ttooltips: {\n\t\t\tlabel: function tooltipLabelCallback(tooltipItem, data) {\n\t\t\t\t// get already formatted data if exists\n\t\t\t\tif (typeof data.datasets[tooltipItem.datasetIndex].dataFormatted !== \"undefined\" && data.datasets[tooltipItem.datasetIndex].dataFormatted[tooltipItem.index] !== \"undefined\") {\n\t\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].dataFormatted[tooltipItem.index];\n\t\t\t\t}\n\t\t\t\t// if there is no formatted data so try to format it\n\t\t\t\tif (String(data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]).length > 0 && !isNaN(Number(data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]))) {\n\t\t\t\t\tif (typeof this.widgetData !== 'undefined' && typeof this.widgetData.valueType !== 'undefined' && this.widgetData.valueType === 'count') {\n\t\t\t\t\t\treturn app.parseNumberToShow(data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index], 0);\n\t\t\t\t\t}\n\t\t\t\t\treturn app.parseNumberToShow(data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]);\n\t\t\t\t}\n\t\t\t\t// return raw data at idex\n\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];\n\t\t\t},\n\t\t\ttitle: function tooltipTitleCallback(tooltipItems, data) {\n\t\t\t\tconst tooltipItem = tooltipItems[0];\n\t\t\t\t// get already formatted title if exists\n\t\t\t\tif (typeof data.datasets[tooltipItem.datasetIndex].titlesFormatted !== \"undefined\" && data.datasets[tooltipItem.datasetIndex].titlesFormatted[tooltipItem.index] !== \"undefined\") {\n\t\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].titlesFormatted[tooltipItem.index];\n\t\t\t\t}\n\t\t\t\t// if there is no formatted title so try to format it\n\t\t\t\tif (String(data.labels[tooltipItem.index]).length > 0 && !isNaN(Number(data.labels[tooltipItem.index]))) {\n\t\t\t\t\tif (typeof this.widgetData !== 'undefined' && typeof this.widgetData.valueType !== 'undefined' && this.widgetData.valueType === 'count') {\n\t\t\t\t\t\treturn app.parseNumberToShow(data.labels[tooltipItem.index], 0);\n\t\t\t\t\t}\n\t\t\t\t\treturn app.parseNumberToShow(data.labels[tooltipItem.index]);\n\t\t\t\t}\n\t\t\t\t// return label at index\n\t\t\t\treturn data.labels[tooltipItem.index];\n\t\t\t}\n\t\t},\n\n\t\tlegend: {\n\t\t\tonClick(e, legendItem) {\n\t\t\t\tlet type = this.chartInstance.config.type;\n\t\t\t\tif (typeof Chart.defaults[type] !== \"undefined\") {\n\t\t\t\t\treturn Chart.defaults[type].legend.onClick.apply(this.chartInstance, [e, legendItem]);\n\t\t\t\t}\n\t\t\t\treturn Chart.defaults.global.legend.onClick.apply(this.chartInstance, [e, legendItem]);\n\t\t\t},\n\t\t\tgenerateLabels(chart) {\n\t\t\t\tlet type = chart.config.type;\n\t\t\t\tlet labels;\n\t\t\t\tif (typeof Chart.defaults[type] !== \"undefined\") {\n\t\t\t\t\tlabels = Chart.defaults[type].legend.labels.generateLabels(chart);\n\t\t\t\t} else {\n\t\t\t\t\tlabels = Chart.defaults.global.legend.labels.generateLabels(chart);\n\t\t\t\t}\n\t\t\t\tif (this.areColorsFromDividingField() || this.isMultiFilter()) {\n\t\t\t\t\tchart.config.options.legend.labels.boxWidth = 12;\n\t\t\t\t\tlabels.forEach((label, index) => {\n\t\t\t\t\t\tlabel.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\t\tlabel.strokeStyle = 'rgba(0,0,0,0.15)';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn labels;\n\t\t\t},\n\t\t\tdisplay() {\n\t\t\t\tif (this.isMultiFilter() || this.areColorsFromDividingField()) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * plugins\n\t\t */\n\t\tplugins: {\n\t\t\t/**\n\t\t\t * If datalabels doesn't fit - hide them individually\n\t\t\t * @param  {Chart} chart chart instance\n\t\t\t * @return {undefined}\n\t\t\t */\n\t\t\thideVerticalBarDatalabelsIfNeeded: function (chart) {\n\t\t\t\tlet getDatasetsMeta = function (chart) {\n\t\t\t\t\tconst datasets = [];\n\t\t\t\t\tconst data = chart.data;\n\t\t\t\t\tif (typeof data !== \"undefined\" && typeof data.datasets !== \"undefined\" && Array.isArray(data.datasets)) {\n\t\t\t\t\t\tfor (let i = 0, len = data.datasets.length; i < len; i++) {\n\t\t\t\t\t\t\tconst meta = chart.getDatasetMeta(i);\n\t\t\t\t\t\t\tif (typeof meta.data !== \"undefined\" && Array.isArray(meta.data)) {\n\t\t\t\t\t\t\t\tdatasets.push(meta);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn datasets;\n\t\t\t\t};\n\t\t\t\tlet datasetsMeta = getDatasetsMeta(chart);\n\t\t\t\tlet datasets = chart.data.datasets;\n\t\t\t\tfor (let i = 0, len = datasets.length; i < len; i++) {\n\t\t\t\t\tconst dataset = datasets[i];\n\t\t\t\t\tconst meta = datasetsMeta[i];\n\t\t\t\t\tif (meta.hidden) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst metaData = meta.data;\n\t\t\t\t\tif (typeof dataset._models === \"undefined\") {\n\t\t\t\t\t\tdataset._models = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof dataset.datalabels === \"undefined\") {\n\t\t\t\t\t\tdataset.datalabels = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof dataset.datalabels.display === \"undefined\") {\n\t\t\t\t\t\tdataset.datalabels.display = true;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let iItem = 0, lenItem = metaData.length; iItem < lenItem; iItem++) {\n\t\t\t\t\t\tconst dataItem = metaData[iItem];\n\t\t\t\t\t\tif (typeof dataItem.$datalabels !== \"undefined\" && typeof dataItem.$datalabels._model !== \"undefined\") {\n\t\t\t\t\t\t\tlet model = dataItem.$datalabels._model;\n\t\t\t\t\t\t\tif (model !== null && typeof model !== \"undefined\") {\n\t\t\t\t\t\t\t\tdataset._models[iItem] = model;\n\t\t\t\t\t\t\t} else if (dataset._models[iItem] !== null && typeof dataset._models[iItem] !== \"undefined\") {\n\t\t\t\t\t\t\t\tmodel = dataset._models[iItem];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst labelWidth = model.size.width + model.padding.width + model.borderWidth * 2;\n\t\t\t\t\t\t\tconst labelHeight = model.size.height + model.padding.height + model.borderWidth * 2;\n\t\t\t\t\t\t\tconst barHeight = dataItem.height();\n\t\t\t\t\t\t\tlet threshold = 10;\n\t\t\t\t\t\t\tif (typeof chart.config.options.verticalBarLabelsThreshold !== 'undefined') {\n\t\t\t\t\t\t\t\tthreshold = chart.config.options.verticalBarLabelsThreshold;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (dataItem._view.width + threshold < labelWidth || barHeight + threshold < labelHeight) {\n\t\t\t\t\t\t\t\tdataItem.$datalabels._model = null;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdataItem.$datalabels._model = model;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * If datalabels doesn't fit - hide them individually\n\t\t\t * @param  {Chart} chart  Chart instance\n\t\t\t * @return {undefined}\n\t\t\t */\n\t\t\thideHorizontalBarDatalabelsIfNeeded: function hideHorizontalBarDatalabelsIfNeeded(chart) {\n\t\t\t\tlet getDatasetsMeta = function (chart) {\n\t\t\t\t\tconst datasets = [];\n\t\t\t\t\tconst data = chart.data;\n\t\t\t\t\tif (typeof data !== \"undefined\" && typeof data.datasets !== \"undefined\" && Array.isArray(data.datasets)) {\n\t\t\t\t\t\tfor (let i = 0, len = data.datasets.length; i < len; i++) {\n\t\t\t\t\t\t\tconst meta = chart.getDatasetMeta(i);\n\t\t\t\t\t\t\tif (typeof meta.data !== \"undefined\" && Array.isArray(meta.data)) {\n\t\t\t\t\t\t\t\tdatasets.push(meta);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn datasets;\n\t\t\t\t};\n\t\t\t\tlet datasetsMeta = getDatasetsMeta(chart);\n\t\t\t\tlet datasets = chart.data.datasets;\n\t\t\t\tfor (let i = 0, len = datasets.length; i < len; i++) {\n\t\t\t\t\tconst dataset = datasets[i];\n\t\t\t\t\tconst meta = datasetsMeta[i];\n\t\t\t\t\tif (meta.hidden) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst metaData = meta.data;\n\t\t\t\t\tif (typeof dataset._models === \"undefined\") {\n\t\t\t\t\t\tdataset._models = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof dataset.datalabels === \"undefined\") {\n\t\t\t\t\t\tdataset.datalabels = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof dataset.datalabels.display === \"undefined\") {\n\t\t\t\t\t\tdataset.datalabels.display = true;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let iItem = 0, lenItem = metaData.length; iItem < lenItem; iItem++) {\n\t\t\t\t\t\tconst dataItem = metaData[iItem];\n\t\t\t\t\t\tif (typeof dataItem.$datalabels !== \"undefined\" && typeof dataItem.$datalabels._model !== \"undefined\") {\n\t\t\t\t\t\t\tlet model = dataItem.$datalabels._model;\n\t\t\t\t\t\t\tif (model !== null && typeof model !== \"undefined\") {\n\t\t\t\t\t\t\t\tdataset._models[iItem] = model;\n\t\t\t\t\t\t\t} else if (dataset._models[iItem] !== null && typeof dataset._models[iItem] !== \"undefined\") {\n\t\t\t\t\t\t\t\tmodel = dataset._models[iItem];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst labelWidth = model.size.width + model.padding.width + model.borderWidth * 2;\n\t\t\t\t\t\t\tconst labelHeight = model.size.height + model.padding.height + model.borderWidth * 2;\n\t\t\t\t\t\t\tconst barWidth = dataItem.width;\n\t\t\t\t\t\t\tlet threshold = 10;\n\t\t\t\t\t\t\tif (typeof chart.config.options.horizontalBarLabelsThreshold !== 'undefined') {\n\t\t\t\t\t\t\t\tthreshold = chart.config.options.horizontalBarLabelsThreshold;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (dataItem._view.height + threshold < labelHeight || barWidth + threshold < labelWidth) {\n\t\t\t\t\t\t\t\tdataItem.$datalabels._model = null;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdataItem.$datalabels._model = model;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * Fix to long axis labels\n\t\t\t * @param  {Chart}  chart    Chart instance\n\t\t\t * @return {Boolean}       [description]\n\t\t\t */\n\t\t\tfixXAxisLabels: function fixXAxisLabels(chart) {\n\t\t\t\tlet shortenXTicks = function shortenXTicks(data, options) {\n\t\t\t\t\tif (typeof options.scales === \"undefined\") {\n\t\t\t\t\t\toptions.scales = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof options.scales.xAxes === \"undefined\") {\n\t\t\t\t\t\toptions.scales.xAxes = [{}];\n\t\t\t\t\t}\n\t\t\t\t\toptions.scales.xAxes.forEach((axis) => {\n\t\t\t\t\t\tif (typeof axis.ticks === \"undefined\") {\n\t\t\t\t\t\t\taxis.ticks = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\taxis.ticks.callback = function xAxisTickCallback(value, index, values) {\n\t\t\t\t\t\t\tif (value.length > 13) {\n\t\t\t\t\t\t\t\treturn value.substr(0, 10) + '...';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t\treturn options;\n\t\t\t\t};\n\t\t\t\tlet rotateXLabels90 = function rotateXLabels90(data, options) {\n\t\t\t\t\tif (typeof options.scales === \"undefined\") {\n\t\t\t\t\t\toptions.scales = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof options.scales.xAxes === \"undefined\") {\n\t\t\t\t\t\toptions.scales.xAxes = [{}];\n\t\t\t\t\t}\n\t\t\t\t\toptions.scales.xAxes.forEach((axis) => {\n\t\t\t\t\t\tif (typeof axis.ticks === \"undefined\") {\n\t\t\t\t\t\t\taxis.ticks = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\taxis.ticks.minRotation = 90;\n\t\t\t\t\t});\n\t\t\t\t\treturn options;\n\t\t\t\t};\n\n\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\tif (dataset._updated) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let prop in dataset._meta) {\n\t\t\t\t\t\tif (dataset._meta.hasOwnProperty(prop)) {\n\t\t\t\t\t\t\tfor (let i = 0, len = dataset._meta[prop].data.length; i < len; i++) {\n\t\t\t\t\t\t\t\tconst metaDataItem = dataset._meta[prop].data[i];\n\t\t\t\t\t\t\t\tconst label = metaDataItem._xScale.ticks[i];\n\t\t\t\t\t\t\t\tconst ctx = metaDataItem._xScale.ctx;\n\t\t\t\t\t\t\t\tlet categoryWidth = metaDataItem._xScale.width / dataset._meta[prop].data.length;\n\t\t\t\t\t\t\t\tif (typeof metaDataItem._xScale.options.categoryPercentage !== \"undefined\") {\n\t\t\t\t\t\t\t\t\t// if it is bar chart there is category percentage option that we should use\n\t\t\t\t\t\t\t\t\tcategoryWidth *= metaDataItem._xScale.options.categoryPercentage;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst fullWidth = ctx.measureText(label).width;\n\t\t\t\t\t\t\t\tif (categoryWidth < fullWidth) {\n\t\t\t\t\t\t\t\t\tconst shortened = label.substr(0, 10) + \"...\";\n\t\t\t\t\t\t\t\t\tconst shortenedWidth = ctx.measureText(shortened).width;\n\t\t\t\t\t\t\t\t\tif (categoryWidth < shortenedWidth) {\n\t\t\t\t\t\t\t\t\t\tchart.options = rotateXLabels90(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t\tchart.options = shortenXTicks(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tchart.options = shortenXTicks(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (!dataset._updated) {\n\t\t\t\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t\t\t\t\tchart.update();\n\t\t\t\t\t\t\t\t\t\t// recalculate positions for smooth animation (for all datasets)\n\t\t\t\t\t\t\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\t\t\t\t\t\t\tdataset._meta[prop].data.forEach((metaDataItem, dataIndex) => {\n\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.x = metaDataItem._xScale.getPixelForValue(index, dataIndex);\n\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.base = metaDataItem._xScale.getBasePixel();\n\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.width = (metaDataItem._xScale.width / dataset._meta[prop].data.length) * metaDataItem._xScale.options.categoryPercentage * metaDataItem._xScale.options.barPercentage;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Fix too long axis labels  - try to shorten and rotate\n\t\t\t * @param  {Chart}  chart    Chart instance\n\t\t\t * @return {Boolean}\n\t\t\t */\n\t\t\tfixYAxisLabels: function fixYAxisLabels(chart) {\n\t\t\t\tlet shortenYTicks = function shortenYTicks(data, options) {\n\t\t\t\t\tif (typeof options.scales === \"undefined\") {\n\t\t\t\t\t\toptions.scales = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof options.scales.yAxes === \"undefined\") {\n\t\t\t\t\t\toptions.scales.yAxes = [{}];\n\t\t\t\t\t}\n\t\t\t\t\toptions.scales.yAxes.forEach((axis) => {\n\t\t\t\t\t\tif (typeof axis.ticks === \"undefined\") {\n\t\t\t\t\t\t\taxis.ticks = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\taxis.ticks.callback = function yAxisTickCallback(value, index, values) {\n\t\t\t\t\t\t\tif (value.length > 13) {\n\t\t\t\t\t\t\t\treturn value.substr(0, 10) + '...';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn options;\n\t\t\t\t};\n\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\tif (dataset._updated) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let prop in dataset._meta) {\n\t\t\t\t\t\tif (dataset._meta.hasOwnProperty(prop)) {\n\t\t\t\t\t\t\t// we have meta\n\t\t\t\t\t\t\tfor (let i = 0, len = dataset._meta[prop].data.length; i < len; i++) {\n\t\t\t\t\t\t\t\tconst metaDataItem = dataset._meta[prop].data[i];\n\t\t\t\t\t\t\t\tconst label = metaDataItem._view.label;\n\t\t\t\t\t\t\t\tif (label.length > 13) {\n\t\t\t\t\t\t\t\t\tchart.options = shortenYTicks(chart.data, chart.options);\n\t\t\t\t\t\t\t\t\tif (!dataset._updated) {\n\t\t\t\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t\t\t\t\tchart.update();\n\t\t\t\t\t\t\t\t\t\t// recalculate positions for smooth animation (for all datasets)\n\t\t\t\t\t\t\t\t\t\tchart.data.datasets.forEach((dataset, index) => {\n\t\t\t\t\t\t\t\t\t\t\tdataset._meta[prop].data.forEach((metaDataItem, dataIndex) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof metaDataItem._xScale !== \"undefined\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.x = metaDataItem._xScale.getPixelForValue(index, dataIndex);\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.base = metaDataItem._xScale.getBasePixel();\n\t\t\t\t\t\t\t\t\t\t\t\t\tmetaDataItem._view.width = (metaDataItem._xScale.width / dataset._meta[prop].data.length) * metaDataItem._xScale.options.categoryPercentage * metaDataItem._xScale.options.barPercentage;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdataset._updated = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t}\n\t},\n\t/**\n\t * Get function from global functions from replacement string\n\t * @param  {String} replacementStr replacement string from getFunctionReplacementString method\n\t * @return {Function}\n\t */\n\tgetFunctionFromReplacementString: function getFunctionFromReplacementString(replacementStr) {\n\t\tlet assignResult = false;\n\t\tif (replacementStr.substr(replacementStr.length - 2) === '()') {\n\t\t\treplacementStr = replacementStr.substr(0, replacementStr.length - 2);\n\t\t\tassignResult = true;\n\t\t}\n\t\tconst splitted = replacementStr.split(':');\n\t\tif (splitted.length !== 2) {\n\t\t\tapp.errorLog(new Error(\"Function replacement string should look like 'function:path.to.fn' not like '\" + replacementStr + \"'\"));\n\t\t}\n\t\tlet finalFunction = splitted[1].split('.').reduce((previous, current) => {\n\t\t\treturn previous[current];\n\t\t}, this.globalChartFunctions);\n\t\tif (typeof finalFunction !== 'function') {\n\t\t\tapp.errorLog(new Error(\"Global function does not exists: \" + splitted[1]));\n\t\t}\n\t\tif (!assignResult) {\n\t\t\treturn finalFunction.bind(this);\n\t\t}\n\t\treturn finalFunction.call(this);\n\t},\n\t/**\n\t * Should options property be replaced by function?\n\t * @param  {String}  str\n\t * @return {Boolean}\n\t */\n\tisReplacementString: function isReplacementString(str) {\n\t\tif (typeof str !== 'string') {\n\t\t\treturn false;\n\t\t}\n\t\treturn str.substr(0, 9) === 'function:';\n\t},\n\t/**\n\t * Recursively parse options and replace function replacement strings to functions\n\t * @param  {Object} options\n\t * @param  {bool} afterInit are we parsing chart after it was mounted ?\n\t * @return {Object} options with replaced string functions\n\t */\n\tparseOptionsObject: function parseOptionsObject(options, original, afterInit = false) {\n\t\tlet result = {};\n\t\tfor (let propertyName in options) {\n\t\t\tlet value = options[propertyName];\n\t\t\tif (afterInit) {\n\t\t\t\tif (propertyName.substr(0, 1) === '_') {\n\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\t\tresult[propertyName] = this.parseOptionsArray(value, original, afterInit);\n\t\t\t\t} else if (typeof value === 'object' && value !== null) {\n\t\t\t\t\tresult[propertyName] = this.parseOptionsObject(value, original, afterInit);\n\t\t\t\t} else {\n\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (propertyName.substr(0, 1) === '_') {\n\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t} else if (this.isReplacementString(value)) {\n\t\t\t\t\tresult[propertyName] = this.getFunctionFromReplacementString(value, afterInit, original);\n\t\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\t\tresult[propertyName] = this.parseOptionsArray(value, original, afterInit);\n\t\t\t\t} else if (typeof value === 'object' && value !== null) {\n\t\t\t\t\tresult[propertyName] = this.parseOptionsObject(value, original, afterInit);\n\t\t\t\t} else {\n\t\t\t\t\tresult[propertyName] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t},\n\t/**\n\t * Recursively parse options in array form and replace function replacement string with functions\n\t * @param  {Array} arr\n\t * @param  {bool} afterInit are we after chart js was mounted?\n\t * @return {Array}\n\t */\n\tparseOptionsArray: function parseOptionsArray(arr, original, afterInit = false) {\n\t\treturn arr.map((item, index) => {\n\t\t\tif (this.isReplacementString(item)) {\n\t\t\t\treturn this.getFunctionFromReplacementString(value);\n\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\treturn this.parseOptionsArray(item, original, afterInit);\n\t\t\t} else if (typeof item === 'object' && item !== null) {\n\t\t\t\treturn this.parseOptionsObject(item, original, afterInit);\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t},\n\t/**\n\t * Recursively parse options object and replace function replacement strings with global functions\n\t * @param  {Object} options\n\t * @param  {bool} afterInit - is chartjs loaded ?\n\t * @return {Object}\n\t */\n\tparseOptions: function parseOptions(options, original, afterInit = false) {\n\t\tif (Array.isArray(options)) {\n\t\t\treturn this.parseOptionsArray(options, original, afterInit);\n\t\t} else if (typeof options === 'object' && options !== null) {\n\t\t\treturn this.parseOptionsObject(options, original, afterInit);\n\t\t}\n\t\tapp.errorLog(new Error('Unknown options format [' + typeof options + '] - should be object.'));\n\t},\n\t/**\n\t * Remove 'Divided' from chart sub type\n\t * for example 'barDivided' => 'bar'\n\t *\n\t * @param {String} chartSubType\n\t * @return {String}\n\t */\n\tremoveStackedFromName(chartSubType) {\n\t\tconst dividedPos = chartSubType.indexOf('Stacked');\n\t\tif (dividedPos > 0) {\n\t\t\treturn chartSubType.substr(0, dividedPos);\n\t\t}\n\t\treturn chartSubType;\n\t},\n\t/**\n\t * Get global charts default configuration - may be loaded from database in the future\n\t * We can modify something basing on chartData received from server (some custom options etc.)\n\t *\n\t * @param  {Object} chartData received from request ['labels':[],'datasets':['data':[]]] etc\n\t * @param  {String} chartSubType 'bar','pie' etc..\n\t * @return {Object}\n\t */\n\tgetGlobalDefaultChartsOptions: function getGlobalDefaultChartsOptions(chartSubType, chartData) {\n\t\tconst options = {\n\t\t\tbar: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplugins: [{\n\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels',\n\t\t\t\t}, {\n\t\t\t\t\tbeforeDraw: 'function:plugins.hideVerticalBarDatalabelsIfNeeded',\n\t\t\t\t}],\n\t\t\t},\n\t\t\tbarStacked: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplugins: [{\n\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels',\n\t\t\t\t}, {\n\t\t\t\t\tbeforeDraw: 'function:plugins.hideVerticalBarDatalabelsIfNeeded',\n\t\t\t\t}],\n\t\t\t},\n\t\t\thorizontalBar: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplugins: [{\n\t\t\t\t\tbeforeDraw: 'function:plugins.fixYAxisLabels'\n\t\t\t\t}, {\n\t\t\t\t\tbeforeDraw: 'function:plugins.hideHorizontalBarDatalabelsIfNeeded',\n\t\t\t\t}],\n\t\t\t},\n\t\t\thorizontalBarStacked: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.2)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.2)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'center',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplugins: [{\n\t\t\t\t\tbeforeDraw: 'function:plugins.fixYAxisLabels'\n\t\t\t\t}, {\n\t\t\t\t\tbeforeDraw: 'function:plugins.hideHorizontalBarDatalabelsIfNeeded',\n\t\t\t\t}],\n\t\t\t},\n\t\t\tline: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\tlabelOffset: 0,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tfill: false,\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplugins: [{\n\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t}],\n\t\t\t},\n\t\t\tlineStacked: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\tlabelOffset: 0,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tfill: false,\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplugins: [{\n\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t}],\n\t\t\t},\n\t\t\tlinePlain: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\tlabelOffset: 0,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tlineTension: 0,\n\t\t\t\t\tfill: false,\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplugins: [{\n\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t}],\n\t\t\t},\n\t\t\tlinePlainStacked: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: 'function:legend.display()'\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tmaxRotation: 90,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels',\n\t\t\t\t\t\t\t\tlabelOffset: 0,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tautoSkip: false,\n\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tfill: false,\n\t\t\t\t\tlineTension: 0,\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tanchor: 'bottom',\n\t\t\t\t\t\talign: 'bottom',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplugins: [{\n\t\t\t\t\tbeforeDraw: 'function:plugins.fixXAxisLabels'\n\t\t\t\t}],\n\t\t\t},\n\t\t\tpie: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\tgenerateLabels: 'function:legend.generateLabels',\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcutoutPercentage: 0,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\tbottom: 12\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\tanchor: 'end',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplugins: [],\n\t\t\t},\n\t\t\tdoughnut: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\tonClick: 'function:legend.onClick',\n\t\t\t\t\t\tlabels: {\n\t\t\t\t\t\t\tgenerateLabels: 'function:legend.generateLabels',\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcutoutPercentage: 50,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\tbottom: 12\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\tsize: 11\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\tbackgroundColor: 'rgba(0,0,0,0.5)',\n\t\t\t\t\t\tborderColor: 'rgba(255,255,255,0.5)',\n\t\t\t\t\t\tborderWidth: 2,\n\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\tanchor: 'end',\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tformatter: 'function:datalabels.formatter',\n\t\t\t\t\t\tdisplay: 'function:datalabels.display',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tplugins: [],\n\t\t\t},\n\t\t\tfunnel: {\n\t\t\t\tbasic: {\n\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tsort: 'desc',\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'point',\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: 'function:tooltips.label',\n\t\t\t\t\t\t\ttitle: 'function:tooltips.title'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tcallback: 'function:scales.formatAxesLabels'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [{\n\t\t\t\t\tbeforeDraw: 'function:plugins.fixYAxisLabels',\n\t\t\t\t}],\n\t\t\t},\n\t\t};\n\t\tif (typeof options[chartSubType] !== \"undefined\") {\n\t\t\treturn options[chartSubType];\n\t\t}\n\t\t// if divided and standard chart types are equal\n\t\tconst notStackedChartSubType = this.removeStackedFromName(chartSubType);\n\t\tif (typeof options[notStackedChartSubType] !== \"undefined\") {\n\t\t\treturn options[notStackedChartSubType];\n\t\t}\n\t\tapp.errorLog(new Error(chartSubType + ' chart does not exists!'));\n\t},\n\t/**\n\t * Get default chart basic options for specified chart subtype\n\t *\n\t * @param  {String} chartSubType 'bar','pie'...\n\t * @param  {Object} chartData received from request ['labels':[],'datasets':['data':[]]] etc\n\t * @return {Object}\n\t */\n\tgetDefaultBasicOptions: function getDefaultBasicOptions(chartSubType, chartData) {\n\t\treturn this.getGlobalDefaultChartsOptions(chartSubType, chartData).basic;\n\t},\n\t/**\n\t * Get default dataset options for specified chart subtype\n\t *\n\t * @param  {String} chartSubType 'bar','pie'...\n\t * @param  {Object} chartData received from request ['labels':[],'datasets':['data':[]]] etc\n\t * @return {Object}\n\t */\n\tgetDefaultDatasetOptions: function getDefaultDatasetOptions(chartSubType, chartData) {\n\t\treturn this.getGlobalDefaultChartsOptions(chartSubType, chartData).dataset;\n\t},\n\t/**\n\t * Get default plugins for specified chart subtype\n\t *\n\t * @param  {String} chartSubType 'bar','pie'...\n\t * @param  {Object} chartData received from request ['labels':[],'datasets':['data':[]]] etc\n\t * @return {Object}\n\t */\n\tgetDefaultPlugins: function getDefaultPlugins(chartSubType, chartData) {\n\t\treturn this.getGlobalDefaultChartsOptions(chartSubType, chartData).plugins;\n\t},\n\tgetContainer: function getContainer() {\n\t\treturn this.container;\n\t},\n\tsetContainer: function setContainer(element) {\n\t\tthis.container = element;\n\t\treturn this;\n\t},\n\tisEmptyData: function isEmptyData() {\n\t\treturn this.getContainer().find('.widgetData').length === 0 || this.getContainer().find('.noDataMsg').length > 0;\n\t},\n\tgetUserDateFormat: function getUserDateFormat() {\n\t\treturn CONFIG.dateFormat;\n\t},\n\tgetChartContainer: function getChartContainer(useCache) {\n\t\tif (typeof useCache === \"undefined\") {\n\t\t\tuseCache = false;\n\t\t}\n\t\tif (this.plotContainer === false || !useCache) {\n\t\t\tthis.plotContainer = this.getContainer().find('.widgetChartContainer').find('canvas').get(0);\n\t\t}\n\t\treturn this.plotContainer;\n\t},\n\tregisterRecordsCount: function registerRecordsCount() {\n\t\tvar thisInstance = this;\n\t\tvar recordsCountBtn = thisInstance.getContainer().find('.recordCount');\n\t\trecordsCountBtn.on('click', function () {\n\t\t\tvar url = recordsCountBtn.data('url');\n\t\t\tAppConnector.request(url).done(function (response) {\n\t\t\t\trecordsCountBtn.find('.count').html(response.result.totalCount);\n\t\t\t\trecordsCountBtn.find('[data-fa-i2svg]').addClass('d-none')\n\t\t\t\t\t.attr('aria-hidden', true);\n\t\t\t\trecordsCountBtn.find('a').removeClass('d-none')\n\t\t\t\t\t.attr('aria-hidden', false);\n\t\t\t});\n\t\t});\n\t},\n\tloadScrollbar: function loadScrollbar() {\n\t\tconst container = $(this.getChartContainer(false));\n\t\tif (typeof container === \"undefined\") { // if there is no data\n\t\t\treturn false;\n\t\t}\n\t\tconst widget = container.closest('.dashboardWidget');\n\t\tconst content = widget.find('.dashboardWidgetContent');\n\t\tconst footer = widget.find('.dashboardWidgetFooter');\n\t\tlet adjustedHeight = widget.innerHeight() - widget.find('.dashboardWidgetHeader').outerHeight();\n\t\tif (footer.length) {\n\t\t\tadjustedHeight -= footer.outerHeight();\n\t\t}\n\t\tif (!content.length) {\n\t\t\treturn;\n\t\t}\n\t\tcontent.css('height', adjustedHeight + 'px');\n\t\tcontent.css('max-height', adjustedHeight + 'px');\n\t\tif (typeof this.scrollbar !== 'undefined') {\n\t\t\tthis.scrollbar.update();\n\t\t} else {\n\t\t\tthis.scrollbar = app.showNewScrollbar(content, {\n\t\t\t\twheelPropagation: true\n\t\t\t});\n\t\t}\n\t},\n\trestrictContentDrag: function restrictContentDrag() {\n\t\tthis.getContainer().on('mousedown.draggable', function (e) {\n\t\t\tvar element = jQuery(e.target);\n\t\t\tvar isHeaderElement = element.closest('.dashboardWidgetHeader').length > 0 ? true : false;\n\t\t\tif (isHeaderElement) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//Stop the event propagation so that drag will not start for contents\n\t\t\te.stopPropagation();\n\t\t});\n\t},\n\t/**\n\t * Get data from JSON encoded input value\n\t *\n\t * @return {object} data from request\n\t */\n\tgenerateData: function generateData() {\n\t\tvar thisInstance = this;\n\t\tvar jData = thisInstance.getContainer().find('.widgetData').val();\n\t\tif (typeof jData === \"undefined\") {\n\t\t\treturn thisInstance.chartData = jData;\n\t\t}\n\t\tthisInstance.chartData = JSON.parse(jData);\n\t\treturn thisInstance.chartData;\n\t},\n\tpositionNoDataMsg: function positionNoDataMsg() {\n\t\tvar container = this.getContainer();\n\t\tvar widgetContentsContainer = container.find('.dashboardWidgetContent');\n\t\tvar noDataMsgHolder = widgetContentsContainer.find('.noDataMsg');\n\t\tnoDataMsgHolder.position({\n\t\t\t'my': 'center center',\n\t\t\t'at': 'center center',\n\t\t\t'of': widgetContentsContainer\n\t\t});\n\t},\n\t/**\n\t * Print html content as image\n\t * @param {jQuery} element\n\t */\n\tprintHtml(element) {\n\t\tlet widget = element.closest('.dashboardWidget'),\n\t\t\ttitle = widget.find('.dashboardTitle').prop('title'),\n\t\t\tprintContainer = widget.find('.js-print__container').get(0),\n\t\t\timgEl = $('<img style=\"width:100%\">');\n\t\timgEl.get(0).onload = () => {\n\t\t\tlet width = $(printContainer).outerWidth();\n\t\t\tlet height = $(printContainer).outerHeight();\n\t\t\tif (width < 600) {\n\t\t\t\twidth = 600;\n\t\t\t}\n\t\t\tif (height < 400) {\n\t\t\t\theight = 400;\n\t\t\t}\n\t\t\tthis.printImage(imgEl.get(0), title, width, height);\n\t\t};\n\t\tapp.htmlToImage(printContainer, (imageBase64) => {\n\t\t\timgEl.get(0).src = imageBase64;\n\t\t});\n\t},\n\t/**\n\t * Download html content as image\n\t * @param {jQuery} element\n\t */\n\tdownloadHtmlAsImage(element) {\n\t\tlet widget = element.closest('.dashboardWidget'),\n\t\t\ttitle = widget.find('.dashboardTitle').prop('title');\n\t\tapp.htmlToImage(widget.find('.js-print__container').get(0), (imageBase64) => {\n\t\t\tlet anchor = document.createElement('a');\n\t\t\tanchor.setAttribute('href', imageBase64);\n\t\t\tanchor.setAttribute('download', title + '.png');\n\t\t\tanchor.click();\n\t\t});\n\t},\n\t/**\n\t * register print image fields (html2canvas)\n\t */\n\tregisterPrintAndDownload() {\n\t\t$('.js-print--download', this.getContainer()).on('click', (e) => {\n\t\t\tthis.downloadHtmlAsImage($(e.target));\n\t\t});\n\t\t$('.js-print', this.getContainer()).on('click', (e) => {\n\t\t\tthis.printHtml($(e.target));\n\t\t});\n\t},\n\t//Place holdet can be extended by child classes and can use this to handle the post load\n\tpostLoadWidget: function postLoadWidget() {\n\t\tif (!this.isEmptyData()) {\n\t\t\tthis.loadChart(this.options);\n\t\t} else {\n\t\t\tthis.positionNoDataMsg();\n\t\t}\n\t\tthis.registerSectionClick();\n\t\tthis.registerFilter();\n\t\tthis.registerFilterChangeEvent();\n\t\tthis.restrictContentDrag();\n\t\tthis.registerContentAutoResize();\n\t\tapp.showPopoverElementView(this.getContainer().find('.js-popover-tooltip'));\n\t\tthis.registerWidgetSwitch();\n\t\tthis.registerChangeSorting();\n\t\tthis.registerLoadMore();\n\t\tthis.registerHeaderButtons();\n\t\tthis.registerPrintAndDownload();\n\t\tthis.loadScrollbar();\n\t},\n\tpostRefreshWidget: function postRefreshWidget() {\n\t\tthis.loadScrollbar();\n\t\tif (!this.isEmptyData()) {\n\t\t\tthis.loadChart(this.options);\n\t\t} else {\n\t\t\tthis.positionNoDataMsg();\n\t\t}\n\t\tthis.registerSectionClick();\n\t\tthis.registerLoadMore();\n\t},\n\tsetSortingButton: function setSortingButton(currentElement) {\n\t\tif (currentElement.length) {\n\t\t\tvar container = this.getContainer();\n\t\t\tvar drefresh = container.find('a[name=\"drefresh\"]');\n\t\t\tvar url = drefresh.data('url');\n\t\t\turl = url.replace('&sortorder=desc', '');\n\t\t\turl = url.replace('&sortorder=asc', '');\n\t\t\turl += '&sortorder=';\n\t\t\tvar sort = currentElement.data('sort');\n\t\t\tvar sortorder = 'desc';\n\t\t\tvar icon = 'fa-sort-amount-down';\n\t\t\tif (sort == 'desc') {\n\t\t\t\tsortorder = 'asc';\n\t\t\t\ticon = 'fa-sort-amount-up';\n\t\t\t}\n\t\t\tcurrentElement.data('sort', sortorder);\n\t\t\tcurrentElement.attr('title', currentElement.data(sortorder));\n\t\t\tcurrentElement.attr('alt', currentElement.data(sortorder));\n\t\t\turl += sortorder;\n\t\t\tvar faIcon = currentElement.find('[data-fa-i2svg]');\n\t\t\tfaIcon.removeClass().addClass('[data-fa-i2svg]').addClass(icon);\n\t\t\tdrefresh.data('url', url);\n\t\t}\n\t},\n\tgetChartImage() {\n\t\tconst base64Image = this.chartInstance.toBase64Image();\n\t\tconst image = new Image();\n\t\timage.src = base64Image;\n\t\treturn image;\n\t},\n\tprintImage(imgEl, title, width, height) {\n\t\tconst print = window.open('', 'PRINT', 'height=' + height + ',width=' + width);\n\t\tprint.document.write('<html><head><title>' + title + '</title>');\n\t\tprint.document.write('</head><body >');\n\t\tprint.document.write($('<div>').append(imgEl).html());\n\t\tprint.document.write('</body></html>');\n\t\tprint.document.close(); // necessary for IE >= 10\n\t\tprint.focus(); // necessary for IE >= 10\n\t\tsetTimeout(function () {\n\t\t\tprint.print();\n\t\t\tprint.close();\n\t\t}, 1000);\n\t},\n\tregisterHeaderButtons: function registerHeaderButtons() {\n\t\tconst container = this.getContainer();\n\t\tconst header = container.find('.dashboardWidgetHeader');\n\t\tconst downloadWidget = header.find('.downloadWidget');\n\t\tconst printWidget = header.find('.printWidget');\n\t\tprintWidget.on('click', (e) => {\n\t\t\tconst imgEl = this.getChartImage();\n\t\t\tthis.printImage(imgEl, header.find('.dashboardTitle').text(), 600, 400);\n\t\t});\n\t\tdownloadWidget.on('click', (e) => {\n\t\t\tconst imgEl = $(this.getChartImage());\n\t\t\tconst a = $(\"<a>\")\n\t\t\t\t.attr(\"href\", imgEl.attr('src'))\n\t\t\t\t.attr(\"download\", header.find('.js-widget__header__title').text() + \".png\")\n\t\t\t\t.appendTo(container);\n\t\t\ta[0].click();\n\t\t\ta.remove();\n\t\t});\n\t\tcontainer.find('.js-widget-quick-create').on('click', function (e) {\n\t\t\tVtiger_Header_Js.getInstance().quickCreateModule($(this).data('module-name'));\n\t\t});\n\t},\n\tregisterChangeSorting: function registerChangeSorting() {\n\t\tvar thisInstance = this;\n\t\tvar container = this.getContainer();\n\t\tthisInstance.setSortingButton(container.find('.changeRecordSort'));\n\t\tcontainer.find('.changeRecordSort').on('click', function (e) {\n\t\t\tvar drefresh = container.find('a[name=\"drefresh\"]');\n\t\t\tthisInstance.setSortingButton(jQuery(e.currentTarget));\n\t\t\tdrefresh.click();\n\t\t});\n\t},\n\tregisterWidgetSwitch: function registerWidgetSwitch() {\n\t\tvar thisInstance = this;\n\t\tvar switchButtons = this.getContainer().find('.dashboardWidgetHeader .js-switch--calculations');\n\t\tthisInstance.setUrlSwitch(switchButtons);\n\t\tswitchButtons.on('change', (e) => {\n\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\tvar dashboardWidgetHeader = currentElement.closest('.dashboardWidgetHeader');\n\t\t\tvar drefresh = dashboardWidgetHeader.find('a[name=\"drefresh\"]');\n\t\t\tthisInstance.setUrlSwitch(currentElement).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tdrefresh.click();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tsetUrlSwitch: function setUrlSwitch(switchButtons) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tswitchButtons.each(function (index, e) {\n\t\t\tvar currentElement = jQuery(e);\n\t\t\tvar dashboardWidgetHeader = currentElement.closest('.dashboardWidgetHeader');\n\t\t\tvar drefresh = dashboardWidgetHeader.find('a[name=\"drefresh\"]');\n\t\t\tvar url = drefresh.data('url');\n\t\t\tvar urlparams = currentElement.data('urlparams');\n\t\t\tif (urlparams !== '') {\n\t\t\t\tvar switchUrl = currentElement.data('url-value');\n\t\t\t\turl = url.replace('&' + urlparams + '=' + switchUrl, '');\n\t\t\t\turl += '&' + urlparams + '=' + switchUrl;\n\t\t\t\tdrefresh.data('url', url);\n\t\t\t\taDeferred.resolve(true);\n\t\t\t} else {\n\t\t\t\taDeferred.reject();\n\t\t\t}\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tgetFilterData: function getFilterData() {\n\t\treturn {};\n\t},\n\t/**\n\t * Refresh widget\n\t * @returns {undefined}\n\t */\n\trefreshWidget: function refreshWidget() {\n\t\tlet thisInstance = this;\n\t\tlet parent = this.getContainer();\n\t\tlet element = parent.find('a[name=\"drefresh\"]');\n\t\tlet url = element.data('url');\n\t\tlet contentContainer = parent.find('.dashboardWidgetContent');\n\t\tlet params = url;\n\t\tlet widgetFilters = parent.find('.widgetFilter');\n\t\tif (widgetFilters.length > 0) {\n\t\t\tparams = {};\n\t\t\tparams.url = url;\n\t\t\tparams.data = {};\n\t\t\twidgetFilters.each((index, domElement) => {\n\t\t\t\tlet widgetFilter = $(domElement);\n\t\t\t\tlet filterName = widgetFilter.attr('name');\n\t\t\t\tif ('checkbox' === widgetFilter.attr('type')) {\n\t\t\t\t\tparams.data[filterName] = widgetFilter.is(':checked');\n\t\t\t\t} else {\n\t\t\t\t\tparams.data[filterName] = widgetFilter.val();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tlet additionalWidgetFilters = parent.find('.js-chartFilter__additional-filter-field');\n\t\tif (additionalWidgetFilters.length > 0) {\n\t\t\tparams = {};\n\t\t\tparams.url = url;\n\t\t\tparams.data = {};\n\t\t\tadditionalWidgetFilters.each((index, domElement) => {\n\t\t\t\tlet widgetFilter = jQuery(domElement);\n\t\t\t\tlet filterName = widgetFilter.attr('name');\n\t\t\t\tlet arr = false;\n\t\t\t\tif (filterName.substr(-2) === '[]') {\n\t\t\t\t\tarr = true;\n\t\t\t\t\tfilterName = filterName.substr(0, filterName.length - 2);\n\t\t\t\t\tif (!Array.isArray(params.data[filterName])) {\n\t\t\t\t\t\tparams.data[filterName] = [];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ('checkbox' === widgetFilter.attr('type')) {\n\t\t\t\t\tif (arr) {\n\t\t\t\t\t\tparams.data[filterName].push(widgetFilter.is(':checked'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.data[filterName] = widgetFilter.is(':checked');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (arr) {\n\t\t\t\t\t\tparams.data[filterName].push(widgetFilter.val());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.data[filterName] = widgetFilter.val();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tlet refreshContainer = parent.find('.dashboardWidgetContent');\n\t\tlet refreshContainerFooter = parent.find('.dashboardWidgetFooter');\n\t\trefreshContainer.html('');\n\t\trefreshContainerFooter.html('');\n\t\trefreshContainer.progressIndicator();\n\t\tif (this.paramCache && (additionalWidgetFilters.length || widgetFilters.length)) {\n\t\t\tthisInstance.setFilterToCache(params.url, params.data);\n\t\t}\n\t\tAppConnector.request(params).done((data) => {\n\t\t\tdata = $(data);\n\t\t\tlet footer = data.filter('.widgetFooterContent');\n\t\t\trefreshContainer.progressIndicator({\n\t\t\t\t'mode': 'hide'\n\t\t\t});\n\t\t\tif (footer.length) {\n\t\t\t\tfooter = footer.clone(true, true);\n\t\t\t\trefreshContainerFooter.html(footer);\n\t\t\t\tdata.each(function (n, e) {\n\t\t\t\t\tif (jQuery(this).hasClass('widgetFooterContent')) {\n\t\t\t\t\t\tdata.splice(n, 1);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tcontentContainer.html(data).trigger(YetiForce_Widget_Js.widgetPostRefereshEvent);\n\t\t}).fail(() => {\n\t\t\trefreshContainer.progressIndicator({\n\t\t\t\t'mode': 'hide'\n\t\t\t});\n\t\t});\n\t},\n\tregisterFilter: function registerFilter() {\n\t\tconst container = this.getContainer();\n\t\tconst search = container.find('.listSearchContributor');\n\t\tconst refreshBtn = container.find('a[name=\"drefresh\"]');\n\t\tconst originalUrl = refreshBtn.data('url');\n\t\tconst selects = container.find('.select2noactive');\n\t\tsearch.css('width', '100%');\n\t\tsearch.parent().addClass('w-100');\n\t\tsearch.each((index, element) => {\n\t\t\tconst fieldInfo = $(element).data('fieldinfo');\n\t\t\t$(element).attr('placeholder', fieldInfo.label).data('placeholder', fieldInfo.label);\n\t\t});\n\t\tApp.Fields.Picklist.changeSelectElementView(selects, 'select2', {containerCssClass: 'form-control'});\n\t\tApp.Fields.Date.register(container);\n\t\tApp.Fields.Date.registerRange(container);\n\t\tsearch.on('change apply.daterangepicker', (e) => {\n\t\t\tconst searchParams = [];\n\t\t\tcontainer.find('.listSearchContributor').each((index, domElement) => {\n\t\t\t\tconst searchInfo = [];\n\t\t\t\tconst searchContributorElement = $(domElement);\n\t\t\t\tconst fieldInfo = searchContributorElement.data('fieldinfo');\n\t\t\t\tconst fieldName = searchContributorElement.attr('name');\n\t\t\t\tlet searchValue = searchContributorElement.val();\n\t\t\t\tif (typeof searchValue === \"object\") {\n\t\t\t\t\tif (searchValue == null) {\n\t\t\t\t\t\tsearchValue = \"\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsearchValue = searchValue.join('##');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsearchValue = searchValue.trim();\n\t\t\t\tif (searchValue.length <= 0) {\n\t\t\t\t\t//continue\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet searchOperator = 'a';\n\t\t\t\tif (fieldInfo.hasOwnProperty(\"searchOperator\")) {\n\t\t\t\t\tsearchOperator = fieldInfo.searchOperator;\n\t\t\t\t} else if (jQuery.inArray(fieldInfo.type, ['modules', 'time', 'userCreator', 'owner', 'picklist', 'tree', 'boolean', 'fileLocationType', 'userRole', 'companySelect', 'multiReferenceValue']) >= 0) {\n\t\t\t\t\tsearchOperator = 'e';\n\t\t\t\t} else if (fieldInfo.type === \"date\" || fieldInfo.type === \"datetime\") {\n\t\t\t\t\tsearchOperator = 'bw';\n\t\t\t\t} else if (fieldInfo.type === 'multipicklist' || fieldInfo.type === 'categoryMultipicklist') {\n\t\t\t\t\tsearchOperator = 'c';\n\t\t\t\t}\n\t\t\t\tsearchInfo.push(fieldName);\n\t\t\t\tsearchInfo.push(searchOperator);\n\t\t\t\tsearchInfo.push(searchValue);\n\t\t\t\tif (fieldInfo.type === 'tree' || fieldInfo.type === 'categoryMultipicklist') {\n\t\t\t\t\tsearchInfo.push($('.listViewHeaders .searchInSubcategories[data-columnname=\"' + fieldName + '\"]').prop('checked'));\n\t\t\t\t}\n\t\t\t\tsearchParams.push(searchInfo);\n\t\t\t});\n\t\t\tlet url = originalUrl + '&search_params=' + JSON.stringify(searchParams);\n\t\t\trefreshBtn.data('url', url);\n\t\t\trefreshBtn.trigger('click');\n\t\t});\n\n\t},\n\tregisterFilterChangeEvent: function registerFilterChangeEvent() {\n\t\tlet container = this.getContainer();\n\t\tcontainer.on('change', '.widgetFilter', (e) => {\n\t\t\tcontainer.find('a[name=\"drefresh\"]').trigger('click');\n\t\t});\n\t\tif (container.find('.widgetFilterByField').length) {\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.select2noactive'));\n\t\t\tthis.getContainer().on('change', '.widgetFilterByField .form-control', (e) => {\n\t\t\t\tcontainer.find('a[name=\"drefresh\"]').trigger('click');\n\t\t\t});\n\t\t}\n\t},\n\tregisterWidgetPostLoadEvent: function registerWidgetPostLoadEvent(container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on(YetiForce_Widget_Js.widgetPostLoadEvent, function (e) {\n\t\t\tthisInstance.postLoadWidget();\n\t\t})\n\t},\n\tregisterWidgetPostRefreshEvent: function registerWidgetPostRefreshEvent(container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.off(YetiForce_Widget_Js.widgetPostRefereshEvent);\n\t\tcontainer.on(YetiForce_Widget_Js.widgetPostRefereshEvent, function (e) {\n\t\t\tthisInstance.postRefreshWidget();\n\t\t});\n\t},\n\tregisterSectionClick: function registerSectionClick() {\n\t\tconst thisInstance = this;\n\t\tlet pointer = false;\n\t\t$(thisInstance.chartInstance.canvas).on('click', function (e) {\n\t\t\tif (typeof thisInstance.getDataFromEvent(e, ['links']).links !== \"undefined\") {\n\t\t\t\twindow.location.href = thisInstance.getDataFromEvent(e, ['links']).links;\n\t\t\t}\n\t\t}).on('mousemove', function (e) {\n\t\t\tif (typeof thisInstance.getDataFromEvent(e, ['links']).links !== \"undefined\") {\n\t\t\t\tif (!pointer) {\n\t\t\t\t\t$(this).css('cursor', 'pointer');\n\t\t\t\t\tpointer = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (pointer) {\n\t\t\t\t\t$(this).css('cursor', 'auto');\n\t\t\t\t\tpointer = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}).on('mouseout', function () {\n\t\t\tif (pointer) {\n\t\t\t\t$(this).css('cursor', 'auto');\n\t\t\t\tpointer = false;\n\t\t\t}\n\t\t});\n\t},\n\tregisterLoadMore: function registerLoadMore() {\n\t\tvar thisInstance = this;\n\t\tvar parent = thisInstance.getContainer();\n\t\tvar contentContainer = parent.find('.dashboardWidgetContent');\n\t\tcontentContainer.off('click', '.showMoreHistory');\n\t\tcontentContainer.on('click', '.showMoreHistory', function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\telement.hide();\n\t\t\tvar parent = jQuery(e.delegateTarget).closest('.dashboardWidget');\n\t\t\tjQuery(parent).find('.slimScrollDiv').css('overflow', 'visible');\n\t\t\tvar user = parent.find('.owner').val();\n\t\t\tvar type = parent.find(\"[name='type']\").val();\n\t\t\tvar url = element.data('url') + '&content=true&owner=' + user;\n\t\t\tif (parent.find(\"[name='type']\").length > 0) {\n\t\t\t\turl += '&type=' + type;\n\t\t\t}\n\t\t\tif (parent.find('.changeRecordSort').length > 0) {\n\t\t\t\turl += '&sortorder=' + parent.find('.changeRecordSort').data('sort');\n\t\t\t}\n\t\t\tcontentContainer.progressIndicator();\n\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\tcontentContainer.progressIndicator({\n\t\t\t\t\t'mode': 'hide'\n\t\t\t\t});\n\t\t\t\tjQuery(parent).find('.dashboardWidgetContent').append(data);\n\t\t\t\telement.parent().remove();\n\t\t\t});\n\t\t});\n\t},\n\tsetFilterToCache: function setFilterToCache(url, data) {\n\t\tvar paramCache = url;\n\t\tvar container = this.getContainer();\n\t\tparamCache = paramCache.replace('&content=', '&notcontent=');\n\t\tfor (var i in data) {\n\t\t\tif (typeof data[i] == 'object') {\n\t\t\t\tdata[i] = JSON.stringify(data[i]);\n\t\t\t}\n\t\t\tparamCache += '&' + i + '=' + data[i];\n\t\t}\n\t\tvar userId = CONFIG.userId;\n\t\tvar name = container.data('name');\n\t\tapp.cacheSet(name + userId, paramCache);\n\t},\n\tregisterCache: function registerCache(container) {\n\t\tif (container.data('cache') == 1) {\n\t\t\tthis.paramCache = true;\n\t\t}\n\t},\n\t/**\n\t * Auto resize charts when widget was resized\n\t */\n\tregisterContentAutoResize() {\n\t\tthis.getContainer().closest('.grid-stack').on('gsresizestop', (event, elem) => {\n\t\t\tthis.loadScrollbar();\n\t\t});\n\t},\n\t/**\n\t * Load and display chart into the view\n\t *\n\t * @return {Chart} chartInstance\n\t */\n\tloadChart: function loadChart() {\n\t\tif (typeof this.chartData === \"undefined\" || typeof this.getChartContainer() === \"undefined\") {\n\t\t\treturn false;\n\t\t}\n\t\tthis.getWidgetData();// load widget data for label formatters\n\t\tconst type = this.getType();\n\t\tlet data = this.generateData();\n\t\tdata.datasets = this.loadDatasetOptions(data);\n\t\tconst options = this.parseOptions(this.loadBasicOptions(data));\n\t\tconst plugins = this.parseOptions(this.loadPlugins(data));\n\t\tdata = this.parseOptions(data);\n\t\tconst chart = this.chartInstance = new Chart(\n\t\t\tthis.getChartContainer().getContext(\"2d\"), {\n\t\t\t\ttype,\n\t\t\t\tdata,\n\t\t\t\toptions,\n\t\t\t\tplugins\n\t\t\t}\n\t\t);\n\t\t// parse chart one more time after it was mounted - some options need to have chart loaded\n\t\tdata.datasets = data.datasets.map((dataset, index) => {\n\t\t\tdataset.datasetIndex = index;\n\t\t\treturn this.parseOptions(dataset, dataset, true);\n\t\t});\n\t\treturn chart;\n\t},\n\t/**\n\t * Get data from event like mouse hover,click etc - get data which belongs to pointed element\n\t *\n\t * @param {Object} e\n\t * @param {array} additionalFields if element from event have additional\n\t * array in dataset like links for data then additionalFields will look like ['links']\n\t * @returns {object} {label,value,...additionalFields}\n\t */\n\tgetDataFromEvent: function getDataFromEvent(e, additionalFields) {\n\t\tlet chart = this.chartInstance;\n\t\tconst elements = chart.getElementAtEvent(e);\n\t\tif (elements.length === 0) {\n\t\t\treturn false;\n\t\t}\n\t\tconst element = elements[0];\n\t\tconst dataIndex = element._index;\n\t\tconst datasetIndex = element._datasetIndex;\n\t\tconst eventData = {\n\t\t\tlabel: chart.data.labels[dataIndex],\n\t\t\tvalue: chart.data.datasets[0].data[dataIndex],\n\t\t};\n\t\tif (typeof additionalFields !== \"undefined\" && Array.isArray(additionalFields)) {\n\t\t\tadditionalFields.forEach((fieldName) => {\n\t\t\t\tif (typeof chart.data.datasets[datasetIndex][fieldName] !== \"undefined\" && typeof chart.data.datasets[datasetIndex][fieldName][dataIndex] !== \"undefined\") {\n\t\t\t\t\teventData[fieldName] = chart.data.datasets[datasetIndex][fieldName][dataIndex];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn eventData;\n\t},\n\t/**\n\t * Get default chart options for current chart subtype\n\t * basic and tooltip options share the same space\n\t *\n\t * @param  {Object} chartData\n\t * @return {Object} merged options\n\t */\n\tloadBasicOptions: function loadBasicOptions(chartData) {\n\t\tthis.formatTooltipTitles(chartData);\n\t\tthis.formatTooltipLabels(chartData);\n\t\treturn this.mergeOptions(\n\t\t\tthis.getBasicOptions(chartData),\n\t\t\tthis.getDefaultBasicOptions(this.getSubType(), chartData));\n\t},\n\t/**\n\t * Apply default dataset options (usually datalabels configuration)\n\t *\n\t * @param {object} chartData from request\n\t * @returns {object} chartData\n\t */\n\tloadDatasetOptions: function loadDatasetOptions(chartData) {\n\t\treturn chartData.datasets.map((dataset, index) => {\n\t\t\tlet result = this.mergeOptions(\n\t\t\t\tdataset,\n\t\t\t\tthis.getDatasetOptions(chartData),\n\t\t\t\tthis.getDefaultDatasetOptions(this.getSubType(), chartData)\n\t\t\t);\n\t\t\treturn result;\n\t\t});\n\t},\n\t/**\n\t * Load plugins from configuration\n\t * @param  {Object} chartData from the request\n\t * @return {Object}\n\t */\n\tloadPlugins: function loadPlugins(chartData) {\n\t\treturn this.mergeOptionsArray(\n\t\t\tthis.getPlugins(chartData),\n\t\t\tthis.getDefaultPlugins(this.getSubType(), chartData)\n\t\t);\n\t},\n\t/**\n\t * Format tooltip titles to user number format and push this modification to titlesFormatted\n\t * it is better to parse tooltips at initialization phase than\n\t * in tooltip callback which is called after hover\n\t *\n\t * @param {object} data - data from request\n\t * @returns {undefined}\n\t */\n\tformatTooltipTitles: function formatTooltipTitles(data) {\n\t\tdata.datasets.forEach((dataset) => {\n\t\t\tif (typeof dataset.titlesFormatted === \"undefined\") {\n\t\t\t\tdataset.titlesFormatted = [];\n\t\t\t\tdataset.data.forEach((dataItem, index) => {\n\t\t\t\t\tlet defaultLabel = data.labels[index];\n\t\t\t\t\tif (String(defaultLabel).length > 0 && !isNaN(Number(defaultLabel))) {\n\t\t\t\t\t\tif (typeof this.widgetData !== 'undefined' && typeof this.widgetData.valueType !== 'undefined' && this.widgetData.valueType === 'count') {\n\t\t\t\t\t\t\tdefaultLabel = app.parseNumberToShow(defaultLabel, 0);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdefaultLabel = app.parseNumberToShow(defaultLabel);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof dataset.label !== \"undefined\") {\n\t\t\t\t\t\tlet label = dataset.label;\n\t\t\t\t\t\tif (String(label).length > 0 && !isNaN(Number(label))) {\n\t\t\t\t\t\t\tif (typeof this.widgetData !== 'undefined' && typeof this.widgetData.valueType !== 'undefined' && this.widgetData.valueType === 'count') {\n\t\t\t\t\t\t\t\tlabel = app.parseNumberToShow(label, 0);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlabel = app.parseNumberToShow(label);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefaultLabel += ' (' + label + ')';\n\t\t\t\t\t}\n\t\t\t\t\tdataset.titlesFormatted.push(defaultLabel);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Format tooltip titles to user number format and push this modification to titlesFormatted\n\t * it is better to parse tooltips at initialization phase than\n\t * in tooltip callback which is called after hover\n\t *\n\t * @param {object} data - data from request\n\t * @returns {undefined}\n\t */\n\tformatTooltipLabels: function formatTooltipTitles(data) {\n\t\tdata.datasets.forEach((dataset) => {\n\t\t\tif (typeof dataset.dataFormatted === \"undefined\") {\n\t\t\t\tdataset.dataFormatted = [];\n\t\t\t\tdataset.data.forEach((dataItem, index) => {\n\t\t\t\t\tlet dataFormatted = dataItem;\n\t\t\t\t\tif (String(dataItem).length > 0 && !isNaN(Number(dataItem))) {\n\t\t\t\t\t\tif (typeof this.widgetData !== 'undefined' && typeof this.widgetData.valueType !== 'undefined' && this.widgetData.valueType === 'count') {\n\t\t\t\t\t\t\tdataFormatted = app.parseNumberToShow(dataItem, 0);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdataFormatted = app.parseNumberToShow(dataItem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataset.dataFormatted.push(dataFormatted);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Same as mergeOptionsObject but in array ;)\n\t * @param  {Array} to\n\t * @param  {Array} fromArray\n\t * @return {Array}\n\t */\n\tmergeOptionsArray: function mergeOptionsArray(to, fromArray) {\n\t\tif (typeof to !== \"undefined\") {\n\t\t\treturn to;\n\t\t}\n\t\tto = [];\n\t\tlet result = fromArray.map((from, index) => {\n\t\t\tif (Array.isArray(from) && !to.hasOwnProperty(key)) {\n\t\t\t\treturn this.mergeOptionsArray(to[index], from);\n\t\t\t}\n\t\t\tif (typeof from === 'object' && from !== null && (typeof to[index] === \"undefined\" || (typeof to[index] === 'object' && to[index] !== null))) {\n\t\t\t\treturn this.mergeOptionsObject(to[index], from);\n\t\t\t}\n\t\t\treturn to[index];\n\t\t}).filter((item) => typeof item !== \"undefined\");\n\t\treturn result;\n\t},\n\t/**\n\t * Merge options object and do not override existing properties\n\t * @param  {Object} to   object to extend\n\t * @param  {Object} from copy properties from this object\n\t * @return {Object}      mixed properties\n\t */\n\tmergeOptionsObject: function mergeOptionsObject(to, from) {\n\t\tif (typeof to === \"undefined\") {\n\t\t\tto = {};\n\t\t}\n\t\tfor (let key in from) {\n\t\t\tif (from.hasOwnProperty(key)) {\n\t\t\t\tif (Array.isArray(from[key])) {\n\t\t\t\t\tif (!to.hasOwnProperty(key)) {\n\t\t\t\t\t\tto[key] = this.mergeOptionsArray(undefined, from[key]);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof from[key] === 'object' && from[key] !== null && (!to.hasOwnProperty(key) || (typeof to[key] === 'object' && to[key] !== null && !Array.isArray(to[key])))) {\n\t\t\t\t\t// if property is an object - merge recursively\n\t\t\t\t\tto[key] = this.mergeOptionsObject(to[key], from[key]);\n\t\t\t\t} else {\n\t\t\t\t\tif (!to.hasOwnProperty(key)) {\n\t\t\t\t\t\tto[key] = from[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn to;\n\t},\n\t/**\n\t * Merge two objects with options and do not override existing properties\n\t *\n\t * @param  {Object} to\n\t * @param  {Array|arguments} fromArray\n\t * @return {object}\n\t */\n\tmergeOptions: function mergeOptions(to = {}, ...fromArray) {\n\t\tfor (let i = 0, len = fromArray.length; i < len; i++) {\n\t\t\tif (typeof fromArray[i] !== 'object' || Array.isArray(fromArray[i])) {\n\t\t\t\tapp.errorLog(new Error('Options argument should be an object! Chart subType: ' + this.getSubType() + ' [' + fromArray[i].toString() + ']'));\n\n\t\t\t} else {\n\t\t\t\tto = this.mergeOptionsObject(to, fromArray[i]);\n\t\t\t}\n\t\t}\n\t\treturn to;\n\t},\n\t/**\n\t * Placeholder for individual chart type options\n\t * If you want to customize default options this is the right place - override this method in your class\n\t *\n\t * @param {object} chartData\n\t * @returns {object} chart options\n\t */\n\tgetBasicOptions: function getBasicOptions(chartData) {\n\t\treturn {\n\t\t\tresponsive: true,\n\t\t\tmaintainAspectRatio: false,\n\t\t};\n\t},\n\t/**\n\t * Placeholder for individual chart type dataset options\n\t *\n\t * @param  {object} chartData\n\t * @return {Object} datalabels configurations\n\t */\n\tgetDatasetOptions: function getDatasetOptions(chartData) {\n\t\treturn {};\n\t},\n\t/**\n\t * Placeholder for individual chart type plugins\n\t * You can add custom plugins for individual charts by overriding this method\n\t * see: http://www.chartjs.org/docs/latest/developers/plugins.html\n\t *\n\t * @param {object} chartData\n\t * @returns {Array|undefined} plugins\n\t */\n\tgetPlugins: function getPlugins(chartData) {\n\t\t// do not return anything - undefined\n\t},\n\t/**\n\t * Get chart type\n\t * We don't wan't to override loadChart method (good practice)\n\t * so we can extend some chart type and change its type only to show data in different manner.\n\t * Get type is used to set up Chartjs chart type.\n\t *\n\t * @param {object} chartData\n\t * @returns {string}\n\t */\n\tgetType: function getType(chartData) {\n\t\treturn 'bar';\n\t},\n\t/**\n\t * Get sub type of a chart.\n\t * For example 'bar' is main type and barDivided is a subset of bar with little different options.\n\t * By default we are using standard type.\n\t * GetSubType is used to get properties - it does not set up Chartjs chart type per se (getType is used for this purpose)\n\t *\n\t * @param {object}  chartData\n\t * @returns {string}\n\t */\n\tgetSubType: function getSubType(chartData) {\n\t\treturn this.getType();\n\t}\n});\nVtiger_Widget_Js('YetiForce_Widget_Js', {}, {});\nYetiForce_Widget_Js('YetiForce_Bar_Widget_Js', {}, {\n\tgetType: function getType() {\n\t\treturn 'bar';\n\t},\n});\nYetiForce_Bar_Widget_Js('YetiForce_BarStacked_Widget_Js', {}, {\n\tgetSubType() {\n\t\treturn 'barStacked';\n\t}\n});\nYetiForce_Bar_Widget_Js('YetiForce_Horizontal_Widget_Js', {}, {\n\tgetType: function () {\n\t\treturn 'horizontalBar';\n\t},\n});\nYetiForce_Horizontal_Widget_Js('YetiForce_HorizontalStacked_Widget_Js', {}, {\n\tgetType: function () {\n\t\treturn 'horizontalBar';\n\t},\n\tgetSubType() {\n\t\treturn 'horizontalBarStacked';\n\t}\n});\nYetiForce_Widget_Js('YetiForce_Funnel_Widget_Js', {}, {\n\tgetType: function getType() {\n\t\treturn 'funnel';\n\t},\n});\nYetiForce_Widget_Js('YetiForce_Pie_Widget_Js', {}, {\n\tgetType: function getType() {\n\t\treturn 'pie';\n\t},\n});\nYetiForce_Pie_Widget_Js('YetiForce_PieDivided_Widget_Js', {}, {\n\tgetSubType() {\n\t\treturn 'pieDivided';\n\t}\n});\nYetiForce_Pie_Widget_Js('YetiForce_Donut_Widget_Js', {}, {\n\tgetType: function getType() {\n\t\treturn 'doughnut';\n\t},\n});\nYetiForce_Donut_Widget_Js('YetiForce_Axis_Widget_Js', {}, {});\nYetiForce_Widget_Js('YetiForce_BarDivided_Widget_Js', {}, {\n\tgetType: function getType() {\n\t\treturn 'bar';\n\t},\n\tgetSubType: function getSubType() {\n\t\treturn 'barDivided';\n\t}\n});\nYetiForce_Widget_Js('YetiForce_Line_Widget_Js', {}, {\n\tgetType: function getType() {\n\t\treturn 'line';\n\t},\n});\nYetiForce_Line_Widget_Js('YetiForce_LineStacked_Widget_Js', {}, {\n\tgetType() {\n\t\treturn 'line';\n\t},\n\tgetSubType() {\n\t\treturn 'lineStacked';\n\t}\n});\nYetiForce_Line_Widget_Js('YetiForce_LinePlain_Widget_Js', {}, {\n\tgetSubType: function getSubType() {\n\t\treturn 'linePlain';\n\t}\n});\nYetiForce_LineStacked_Widget_Js('YetiForce_LinePlainStacked_Widget_Js', {}, {\n\tgetSubType() {\n\t\treturn 'linePlainStacked';\n\t}\n});\nYetiForce_Bar_Widget_Js('YetiForce_TicketsByStatus_Widget_Js', {}, {\n\tgetBasicOptions: function () {\n\t\treturn {\n\t\t\tlegend: {\n\t\t\t\tdisplay: true\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\txAxes: [{\n\t\t\t\t\tstacked: true\n\t\t\t\t}],\n\t\t\t\tyAxes: [{\n\t\t\t\t\tstacked: true\n\t\t\t\t}]\n\t\t\t}\n\t\t};\n\t}\n});\nYetiForce_Widget_Js('YetiForce_Calendar_Widget_Js', {}, {\n\tcalendarView: false,\n\tcalendarCreateView: false,\n\n\tregisterCalendar: function () {\n\t\tvar thisInstance = this;\n\t\tvar userDefaultActivityView = 'month';\n\t\tvar container = thisInstance.getContainer();\n\t\t//Default time format\n\t\tvar userDefaultTimeFormat = jQuery('#time_format').val();\n\t\tif (userDefaultTimeFormat == 24) {\n\t\t\tuserDefaultTimeFormat = 'H(:mm)';\n\t\t} else {\n\t\t\tuserDefaultTimeFormat = 'h(:mm) A';\n\t\t}\n\n\t\t//Default first day of the week\n\t\tvar convertedFirstDay = CONFIG.firstDayOfWeekNo;\n\t\t//Default first hour of the day\n\t\tvar defaultFirstHour = jQuery('#start_hour').val();\n\t\tvar explodedTime = defaultFirstHour.split(':');\n\t\tdefaultFirstHour = explodedTime['0'];\n\t\tvar defaultDate = app.getMainParams('defaultDate');\n\t\tif (this.paramCache && defaultDate != moment().format('YYYY-MM-DD')) {\n\t\t\tdefaultDate = moment(defaultDate).format('D') == 1 ? moment(defaultDate) : moment(defaultDate).add(1, 'M');\n\t\t}\n\t\tcontainer.find('.js-widget-quick-create').on('click', function (e) {\n\t\t\tVtiger_Header_Js.getInstance().quickCreateModule($(this).data('module-name'));\n\t\t});\n\t\tthisInstance.getCalendarView().fullCalendar({\n\t\t\theader: {\n\t\t\t\tleft: ' ',\n\t\t\t\tcenter: 'prev title next',\n\t\t\t\tright: ' '\n\t\t\t},\n\t\t\tdefaultDate: defaultDate,\n\t\t\ttimeFormat: userDefaultTimeFormat,\n\t\t\taxisFormat: userDefaultTimeFormat,\n\t\t\tfirstHour: defaultFirstHour,\n\t\t\tfirstDay: convertedFirstDay,\n\t\t\tdefaultView: userDefaultActivityView,\n\t\t\teditable: false,\n\t\t\tslotMinutes: 15,\n\t\t\ttheme: false,\n\t\t\tdefaultEventMinutes: 0,\n\t\t\teventLimit: true,\n\t\t\tallDaySlot: false,\n\t\t\tmonthNames: [app.vtranslate('JS_JANUARY'), app.vtranslate('JS_FEBRUARY'), app.vtranslate('JS_MARCH'),\n\t\t\t\tapp.vtranslate('JS_APRIL'), app.vtranslate('JS_MAY'), app.vtranslate('JS_JUNE'), app.vtranslate('JS_JULY'),\n\t\t\t\tapp.vtranslate('JS_AUGUST'), app.vtranslate('JS_SEPTEMBER'), app.vtranslate('JS_OCTOBER'),\n\t\t\t\tapp.vtranslate('JS_NOVEMBER'), app.vtranslate('JS_DECEMBER')\n\t\t\t],\n\t\t\tmonthNamesShort: [app.vtranslate('JS_JAN'), app.vtranslate('JS_FEB'), app.vtranslate('JS_MAR'),\n\t\t\t\tapp.vtranslate('JS_APR'), app.vtranslate('JS_MAY'), app.vtranslate('JS_JUN'), app.vtranslate('JS_JUL'),\n\t\t\t\tapp.vtranslate('JS_AUG'), app.vtranslate('JS_SEP'), app.vtranslate('JS_OCT'), app.vtranslate('JS_NOV'),\n\t\t\t\tapp.vtranslate('JS_DEC')\n\t\t\t],\n\t\t\tdayNames: [app.vtranslate('JS_SUNDAY'), app.vtranslate('JS_MONDAY'), app.vtranslate('JS_TUESDAY'),\n\t\t\t\tapp.vtranslate('JS_WEDNESDAY'), app.vtranslate('JS_THURSDAY'), app.vtranslate('JS_FRIDAY'),\n\t\t\t\tapp.vtranslate('JS_SATURDAY')\n\t\t\t],\n\t\t\tdayNamesShort: [app.vtranslate('JS_SUN'), app.vtranslate('JS_MON'), app.vtranslate('JS_TUE'),\n\t\t\t\tapp.vtranslate('JS_WED'), app.vtranslate('JS_THU'), app.vtranslate('JS_FRI'),\n\t\t\t\tapp.vtranslate('JS_SAT')\n\t\t\t],\n\t\t\tbuttonText: {\n\t\t\t\ttoday: app.vtranslate('JS_TODAY'),\n\t\t\t\tmonth: app.vtranslate('JS_MONTH'),\n\t\t\t\tweek: app.vtranslate('JS_WEEK'),\n\t\t\t\tday: app.vtranslate('JS_DAY')\n\t\t\t},\n\t\t\tallDayText: app.vtranslate('JS_ALL_DAY'),\n\t\t\teventLimitText: app.vtranslate('JS_MORE'),\n\t\t\teventRender: function (event, element, view) {\n\t\t\t\telement = '<div class=\"cell-calendar\">';\n\t\t\t\tfor (var key in event.event) {\n\t\t\t\t\telement += '<a class=\"\" href=\"javascript:;\"' +\n\t\t\t\t\t\t' data-date=\"' + event.date + '\"' + ' data-type=\"' + key + '\" title=\"' + event.event[key].label + '\">' +\n\t\t\t\t\t\t'<span class=\"' + event.event[key].className + ((event.width <= 20) ? ' small-badge' : '') + ((event.width >= 24) ? ' big-badge' : '') + ' badge badge-secondary u-font-size-95per\">' + event.event[key].count + '</span>' +\n\t\t\t\t\t\t'</a>\\n';\n\t\t\t\t}\n\t\t\t\telement += '</div>';\n\t\t\t\treturn element;\n\t\t\t}\n\t\t});\n\t\tthisInstance.getCalendarView().find(\"td.fc-day-top\")\n\t\t\t.on('mouseenter', function () {\n\t\t\t\tjQuery('<span class=\"plus pull-left fas fa-plus\"></span>')\n\t\t\t\t\t.prependTo($(this))\n\t\t\t}).on('mouseleave', function () {\n\t\t\t$(this).find(\".plus\").remove();\n\t\t});\n\t\tthisInstance.getCalendarView().find(\"td.fc-day-top\").on('click', function () {\n\t\t\tvar date = $(this).data('date');\n\t\t\tvar params = {\n\t\t\t\tnoCache: true\n\t\t\t};\n\t\t\tparams.data = {\n\t\t\t\tdate_start: date,\n\t\t\t\tdue_date: date\n\t\t\t};\n\t\t\tparams.callbackFunction = function () {\n\t\t\t\tthisInstance.getCalendarView().closest('.dashboardWidget').find('a[name=\"drefresh\"]').trigger('click');\n\t\t\t};\n\t\t\tVtiger_Header_Js.getInstance().quickCreateModule('Calendar', params);\n\t\t});\n\t\tvar switchBtn = container.find('.js-switch--calendar');\n\t\tswitchBtn.on('change', (e) => {\n\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined')\n\t\t\t\tcontainer.find('.widgetFilterSwitch').val('current');\n\t\t\telse if (typeof currentTarget.data('off-text') !== 'undefined')\n\t\t\t\tcontainer.find('.widgetFilterSwitch').val('history');\n\t\t\tthis.refreshWidget();\n\t\t})\n\t},\n\tloadCalendarData: function (allEvents) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.getCalendarView().fullCalendar('removeEvents');\n\t\tvar view = thisInstance.getCalendarView().fullCalendar('getView');\n\t\tvar formatDate = CONFIG.dateFormat.toUpperCase();\n\t\tvar start_date = view.start.format(formatDate);\n\t\tvar end_date = view.end.format(formatDate);\n\t\tvar parent = thisInstance.getContainer();\n\t\tvar user = parent.find('.owner').val();\n\t\tif (user == 'all') {\n\t\t\tuser = '';\n\t\t}\n\t\tvar params = {\n\t\t\tmodule: 'Calendar',\n\t\t\taction: 'Calendar',\n\t\t\tmode: 'getEvents',\n\t\t\tstart: start_date,\n\t\t\tend: end_date,\n\t\t\tuser: user,\n\t\t\twidget: true\n\t\t}\n\t\tif (parent.find('.customFilter').length > 0) {\n\t\t\tvar customFilter = parent.find('.customFilter').val();\n\t\t\tparams.customFilter = customFilter;\n\t\t}\n\t\tif (parent.find('.widgetFilterSwitch').length > 0) {\n\t\t\tparams.time = parent.find('.widgetFilterSwitch').val();\n\t\t}\n\t\tif (this.paramCache) {\n\t\t\tvar drefresh = this.getContainer().find('a[name=\"drefresh\"]');\n\t\t\tvar url = drefresh.data('url');\n\t\t\tvar paramCache = {\n\t\t\t\towner: user,\n\t\t\t\tcustomFilter: customFilter,\n\t\t\t\tstart: start_date\n\t\t\t};\n\t\t\tthisInstance.setFilterToCache(url, paramCache);\n\t\t}\n\t\tAppConnector.request(params).done(function (events) {\n\t\t\tvar height = (thisInstance.getCalendarView().find('.fc-bg :first').height() - thisInstance.getCalendarView().find('.fc-day-number').height()) - 10;\n\t\t\tvar width = (thisInstance.getCalendarView().find('.fc-day-number').width() / 2) - 10;\n\t\t\tfor (var i in events.result) {\n\t\t\t\tevents.result[i]['width'] = width;\n\t\t\t\tevents.result[i]['height'] = height;\n\t\t\t}\n\t\t\tthisInstance.getCalendarView().fullCalendar('addEventSource',\n\t\t\t\tevents.result\n\t\t\t);\n\t\t\tthisInstance.getCalendarView().find(\".cell-calendar a\").on('click', function () {\n\t\t\t\tvar container = thisInstance.getContainer();\n\t\t\t\tvar url = 'index.php?module=Calendar&view=List';\n\t\t\t\tif (customFilter) {\n\t\t\t\t\turl += '&viewname=' + container.find('select.widgetFilter.customFilter').val();\n\t\t\t\t} else {\n\t\t\t\t\turl += '&viewname=All';\n\t\t\t\t}\n\t\t\t\turl += '&search_params=[[';\n\t\t\t\tvar owner = container.find('.widgetFilter.owner option:selected');\n\t\t\t\tif (owner.val() != 'all') {\n\t\t\t\t\turl += '[\"assigned_user_id\",\"e\",\"' + owner.val() + '\"],';\n\t\t\t\t}\n\t\t\t\tif (parent.find('.widgetFilterSwitch').length > 0) {\n\t\t\t\t\tvar status = parent.find('.widgetFilterSwitch').data();\n\t\t\t\t\turl += '[\"activitystatus\",\"e\",\"' + status[params.time] + '\"],';\n\t\t\t\t}\n\t\t\t\tvar date = moment($(this).data('date')).format(thisInstance.getUserDateFormat().toUpperCase())\n\t\t\t\twindow.location.href = url + '[\"activitytype\",\"e\",\"' + $(this).data('type') + '\"],[\"date_start\",\"bw\",\"' + date + ',' + date + '\"]]]';\n\t\t\t});\n\t\t});\n\t},\n\tgetCalendarView: function () {\n\t\tif (this.calendarView == false) {\n\t\t\tthis.calendarView = this.getContainer().find('.js-calendar__container');\n\t\t}\n\t\treturn this.calendarView;\n\t},\n\tgetMonthName: function () {\n\t\tvar thisInstance = this;\n\t\tvar month = thisInstance.getCalendarView().find('.fc-toolbar h2').text();\n\t\tif (month) {\n\t\t\tthis.getContainer().find('.headerCalendar .month').html('<h3>' + month + '</h3>');\n\t\t}\n\t},\n\tregisterChangeView: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = this.getContainer();\n\t\tcontainer.find('.fc-toolbar').addClass('d-none');\n\t\tvar month = container.find('.fc-toolbar h2').text();\n\t\tif (month) {\n\t\t\tcontainer.find('.headerCalendar').removeClass('d-none').find('.month').append('<h3>' + month + '</h3>');\n\t\t\tvar button = container.find('.headerCalendar button');\n\t\t\tbutton.each(function () {\n\t\t\t\tvar tag = jQuery(this).data('type');\n\t\t\t\tjQuery(this).on('click', function () {\n\t\t\t\t\tthisInstance.getCalendarView().find('.fc-toolbar .' + tag).trigger('click');\n\t\t\t\t\tthisInstance.loadCalendarData();\n\t\t\t\t\tthisInstance.getMonthName();\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t},\n\tpostLoadWidget: function () {\n\t\tthis.registerCalendar();\n\t\tthis.loadCalendarData(true);\n\t\tthis.registerChangeView();\n\t\tthis.registerFilterChangeEvent();\n\t\tapp.showPopoverElementView(this.getContainer().find('.js-popover-tooltip'));\n\t},\n\trefreshWidget: function () {\n\t\tvar thisInstance = this;\n\t\tvar refreshContainer = this.getContainer().find('.dashboardWidgetContent');\n\t\trefreshContainer.progressIndicator();\n\t\tthisInstance.loadCalendarData();\n\t\trefreshContainer.progressIndicator({\n\t\t\t'mode': 'hide'\n\t\t});\n\t},\n});\nYetiForce_Widget_Js('YetiForce_CalendarActivities_Widget_Js', {}, {\n\tmodalView: false,\n\tpostLoadWidget: function () {\n\t\tthis._super();\n\t\tthis.registerActivityChange();\n\t\tthis.registerListViewButton();\n\t},\n\tpostRefreshWidget: function () {\n\t\tthis._super();\n\t\tthis.registerActivityChange();\n\t},\n\tregisterActivityChange: function () {\n\t\tvar thisInstance = this;\n\t\tvar refreshContainer = this.getContainer().find('.dashboardWidgetContent');\n\t\trefreshContainer.find('.changeActivity').on('click', function (e) {\n\t\t\tif (jQuery(e.target).is('a') || thisInstance.modalView) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar url = jQuery(this).data('url');\n\t\t\tif (typeof url !== \"undefined\") {\n\t\t\t\tvar callbackFunction = function () {\n\t\t\t\t\tthisInstance.modalView = false;\n\t\t\t\t};\n\t\t\t\tthisInstance.modalView = true;\n\t\t\t\tapp.showModalWindow(null, url, callbackFunction);\n\t\t\t}\n\t\t})\n\t},\n\n\tregisterListViewButton: function () {\n\t\tconst thisInstance = this,\n\t\t\tcontainer = thisInstance.getContainer();\n\t\tcontainer.find('.goToListView').on('click', function () {\n\t\t\tlet status;\n\t\t\tlet activitiesStatus = container.data('name');\n\t\t\tif (activitiesStatus === 'OverdueActivities') {\n\t\t\t\tstatus = 'PLL_OVERDUE';\n\t\t\t} else if (activitiesStatus === 'CalendarActivities') {\n\t\t\t\tstatus = 'PLL_IN_REALIZATION##PLL_PLANNED';\n\t\t\t} else {\n\t\t\t\tstatus = 'PLL_IN_REALIZATION##PLL_PLANNED##PLL_OVERDUE';\n\t\t\t}\n\t\t\tlet url = 'index.php?module=Calendar&view=List&viewname=All';\n\t\t\turl += '&search_params=[[';\n\t\t\tlet owner = container.find('.widgetFilter.owner option:selected');\n\t\t\tif (owner.val() !== 'all') {\n\t\t\t\turl += '[\"assigned_user_id\",\"e\",\"' + owner.val() + '\"],';\n\t\t\t}\n\t\t\turl += '[\"activitystatus\",\"e\",\"' + encodeURIComponent(status) + '\"]]]';\n\t\t\twindow.location.href = url;\n\t\t});\n\t}\n});\nYetiForce_CalendarActivities_Widget_Js('YetiForce_AssignedUpcomingCalendarTasks_Widget_Js', {}, {});\nYetiForce_CalendarActivities_Widget_Js('YetiForce_CreatedNotMineActivities_Widget_Js', {}, {});\nYetiForce_CalendarActivities_Widget_Js('YetiForce_OverDueActivities_Widget_Js', {}, {});\nYetiForce_CalendarActivities_Widget_Js('YetiForce_AssignedOverDueCalendarTasks_Widget_Js', {}, {});\nYetiForce_Widget_Js('YetiForce_Productssoldtorenew_Widget_Js', {}, {\n\tmodalView: false,\n\tpostLoadWidget: function () {\n\t\tthis._super();\n\t\tthis.registerAction();\n\t\tthis.registerListViewButton();\n\t},\n\tpostRefreshWidget: function () {\n\t\tthis._super();\n\t\tthis.registerAction();\n\t},\n\tregisterAction: function () {\n\t\tvar thisInstance = this;\n\t\tvar refreshContainer = this.getContainer().find('.dashboardWidgetContent');\n\t\trefreshContainer.find('.rowAction').on('click', function (e) {\n\t\t\tif (jQuery(e.target).is('a') || thisInstance.modalView) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar url = jQuery(this).data('url');\n\t\t\tif (typeof url !== \"undefined\") {\n\t\t\t\tvar callbackFunction = function () {\n\t\t\t\t\tthisInstance.modalView = false;\n\t\t\t\t};\n\t\t\t\tthisInstance.modalView = true;\n\t\t\t\tapp.showModalWindow(null, url, callbackFunction);\n\t\t\t}\n\t\t})\n\t},\n\tregisterListViewButton: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = thisInstance.getContainer();\n\t\tcontainer.find('.goToListView').on('click', function () {\n\t\t\tvar url = jQuery(this).data('url');\n\t\t\tvar orderBy = container.find('.orderby');\n\t\t\tvar sortOrder = container.find('.changeRecordSort');\n\t\t\tif (orderBy.length) {\n\t\t\t\turl += '&orderby=' + orderBy.val();\n\t\t\t}\n\t\t\tif (sortOrder.length) {\n\t\t\t\turl += '&sortorder=' + sortOrder.data('sort').toUpperCase();\n\t\t\t}\n\t\t\twindow.location.href = url;\n\t\t});\n\t}\n});\nYetiForce_Productssoldtorenew_Widget_Js('YetiForce_ServicesSoldToRenew_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js('YetiForce_AllTimeControl_Widget_Js', {}, {\n\tgetBasicOptions: function getBasicOptions() {\n\t\treturn {\n\t\t\tlegend: {\n\t\t\t\tdisplay: true\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\tyAxes: [{\n\t\t\t\t\tstacked: true,\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tcallback: function formatYAxisTick(value, index, values) {\n\t\t\t\t\t\t\treturn app.formatToHourText(value, 'short', false, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\txAxes: [{\n\t\t\t\t\tstacked: true,\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tminRotation: 0\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t},\n\t\t\ttooltips: {\n\t\t\t\tcallbacks: {\n\t\t\t\t\tlabel: function (tooltipItem, data) {\n\t\t\t\t\t\treturn data.datasets[tooltipItem.datasetIndex].original_label + ': ' + app.formatToHourText(tooltipItem.yLabel);\n\t\t\t\t\t},\n\t\t\t\t\ttitle: function (tooltipItems, data) {\n\t\t\t\t\t\treturn data.fullLabels[tooltipItems[0].index];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t},\n\tgetDatasetOptions: function getDatasetOptions(dataset, type, datasetIndex) {\n\t\treturn {\n\t\t\tdatalabels: {\n\t\t\t\tformatter: function datalabelsFormatter(value, context) {\n\t\t\t\t\treturn app.formatToHourText(value);\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t},\n});\nYetiForce_Bar_Widget_Js('YetiForce_LeadsBySource_Widget_Js', {}, {});\nYetiForce_Pie_Widget_Js('YetiForce_ClosedTicketsByPriority_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js('YetiForce_ClosedTicketsByUser_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js('YetiForce_OpenTickets_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js('YetiForce_AccountsByIndustry_Widget_Js', {}, {});\nYetiForce_Funnel_Widget_Js('YetiForce_EstimatedvalueByStatus_Widget_Js', {}, {\n\tgetBasicOptions: function getBasicOptions() {\n\t\treturn {\n\t\t\tsort: 'data-desc'\n\t\t};\n\t},\n\tgetPlugins: function getPlugins() {\n\t\treturn [];\n\t}\n});\nYetiForce_Bar_Widget_Js('YetiForce_NotificationsBySender_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js('YetiForce_NotificationsByRecipient_Widget_Js', {}, {});\nYetiForce_Bar_Widget_Js('YetiForce_TeamsEstimatedSales_Widget_Js', {}, {\n\tgenerateChartData: function () {\n\t\tconst thisInstance = this,\n\t\t\tcontainer = this.getContainer(),\n\t\t\tjData = container.find('.widgetData').val(),\n\t\t\tdata = JSON.parse(jData);\n\t\tlet chartData = [\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[]\n\t\t\t],\n\t\t\tyMaxValue,\n\t\t\tindex,\n\t\t\tparseData;\n\t\tif (data.hasOwnProperty('compare')) {\n\t\t\tfor (index in data) {\n\t\t\t\tparseData = thisInstance.parseChartData(data[index], chartData);\n\t\t\t\tchartData[0].push(parseData[0]);\n\t\t\t\tchartData[3].push(parseData[3]);\n\t\t\t\tchartData = [chartData[0], parseData[1], parseData[2], chartData[3],\n\t\t\t\t\t['#CC6600', '#208CB3']\n\t\t\t\t];\n\t\t\t}\n\t\t} else {\n\t\t\tparseData = thisInstance.parseChartData(data, chartData);\n\t\t\tchartData = [\n\t\t\t\t[parseData[0]], parseData[1], parseData[2],\n\t\t\t\t[parseData[3]],\n\t\t\t\t['#208CB3']\n\t\t\t];\n\t\t}\n\t\tyMaxValue = chartData[1];\n\t\tyMaxValue = yMaxValue + 2 + (yMaxValue / 100) * 25;\n\t\treturn {\n\t\t\t'chartData': chartData[0],\n\t\t\t'yMaxValue': yMaxValue,\n\t\t\t'labels': chartData[2],\n\t\t\tdata_labels: chartData[3],\n\t\t\tplacement: 'inside',\n\t\t\tlocation: 'n',\n\t\t\tcolors: chartData[4]\n\t\t};\n\t},\n\tparseChartData: function (data, chartDataGlobal) {\n\t\tvar chartData = [];\n\t\tvar xLabels = [];\n\t\tvar sum = 0;\n\t\tfor (var index in data) {\n\t\t\tvar row = data[index];\n\t\t\trow[0] = parseInt(row[0]);\n\t\t\tsum += row[0];\n\t\t\txLabels.push(app.getDecodedValue(row[1]))\n\t\t\tchartData.push(row[0]);\n\t\t\tif (parseInt(row[0]) > chartDataGlobal[1]) {\n\t\t\t\tchartDataGlobal[1] = parseInt(row[0]);\n\t\t\t}\n\t\t}\n\t\treturn [chartData, chartDataGlobal[1], xLabels, '&nbsp; \\u03A3 ' + sum + '&nbsp;'];\n\t},\n\tregisterSectionClick: function () {\n\t\tconst container = this.getContainer(),\n\t\t\tdata = container.find('.widgetData').val(),\n\t\t\tdataInfo = JSON.parse(data),\n\t\t\tcompare = dataInfo && dataInfo.hasOwnProperty('compare');\n\t\tlet url;\n\t\tthis.getContainer().off('jqplotDataClick').on('jqplotDataClick', function (ev, seriesIndex, pointIndex, args) {\n\t\t\tif (seriesIndex) {\n\t\t\t\turl = dataInfo['compare'][pointIndex][2];\n\t\t\t} else if (compare) {\n\t\t\t\turl = dataInfo[0][pointIndex][2];\n\t\t\t} else {\n\t\t\t\turl = dataInfo[pointIndex][2];\n\t\t\t}\n\t\t\twindow.location.href = url;\n\t\t});\n\t}\n});\nYetiForce_TeamsEstimatedSales_Widget_Js('YetiForce_ActualSalesOfTeam_Widget_Js', {}, {});\nYetiForce_Widget_Js('YetiForce_History_Widget_Js', {}, {\n\tpostLoadWidget: function () {\n\t\tthis._super();\n\t\tthis.registerLoadMore();\n\t},\n\tpostRefreshWidget: function () {\n\t\tthis._super();\n\t\tthis.registerLoadMore();\n\t},\n\tregisterLoadMore: function () {\n\t\tvar thisInstance = this;\n\t\tvar parent = thisInstance.getContainer();\n\t\tvar contentContainer = parent.find('.dashboardWidgetContent');\n\t\tvar loadMoreHandler = contentContainer.find('.load-more');\n\t\tloadMoreHandler.on('click', function () {\n\t\t\tvar parent = thisInstance.getContainer();\n\t\t\tvar element = parent.find('a[name=\"drefresh\"]');\n\t\t\tvar url = element.data('url');\n\t\t\tvar params = url;\n\t\t\tvar widgetFilters = parent.find('.widgetFilter');\n\t\t\tif (widgetFilters.length > 0) {\n\t\t\t\tparams = {\n\t\t\t\t\turl: url,\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\twidgetFilters.each(function (index, domElement) {\n\t\t\t\t\tvar widgetFilter = jQuery(domElement);\n\t\t\t\t\tvar filterName = widgetFilter.attr('name');\n\t\t\t\t\tvar filterValue = widgetFilter.val();\n\t\t\t\t\tparams.data[filterName] = filterValue;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar filterData = thisInstance.getFilterData();\n\t\t\tif (!jQuery.isEmptyObject(filterData)) {\n\t\t\t\tif (typeof params == 'string') {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tdata: {}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tparams.data = jQuery.extend(params.data, thisInstance.getFilterData())\n\t\t\t}\n\n\t\t\t// Next page.\n\t\t\tparams.data['page'] = loadMoreHandler.data('nextpage');\n\t\t\tvar refreshContainer = parent.find('.dashboardWidgetContent');\n\t\t\trefreshContainer.progressIndicator();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\trefreshContainer.progressIndicator({\n\t\t\t\t\t'mode': 'hide'\n\t\t\t\t});\n\t\t\t\tloadMoreHandler.replaceWith(data);\n\t\t\t\tthisInstance.registerLoadMore();\n\t\t\t}).fail(function () {\n\t\t\t\trefreshContainer.progressIndicator({\n\t\t\t\t\t'mode': 'hide'\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n});\nYetiForce_Widget_Js('YetiForce_MiniList_Widget_Js', {}, {\n\tpostLoadWidget: function () {\n\t\tapp.hideModalWindow();\n\t\tthis.restrictContentDrag();\n\t\tthis.registerFilterChangeEvent();\n\t\tthis.registerRecordsCount();\n\t\tapp.showPopoverElementView(this.getContainer().find('.js-popover-tooltip'));\n\t},\n\tpostRefreshWidget: function () {\n\t\tthis.registerRecordsCount();\n\t}\n});\nYetiForce_Widget_Js('YetiForce_Notebook_Widget_Js', {}, {\n\t// Override widget specific functions.\n\tpostLoadWidget: function () {\n\t\tthis.reinitNotebookView();\n\t},\n\treinitNotebookView: function () {\n\t\tvar self = this;\n\t\tapp.showScrollBar(jQuery('.dashboard_notebookWidget_viewarea', this.container), {\n\t\t\t'height': '200px'\n\t\t});\n\t\tjQuery('.dashboard_notebookWidget_edit', this.container).on('click', function () {\n\t\t\tself.editNotebookContent();\n\t\t});\n\t\tjQuery('.dashboard_notebookWidget_save', this.container).on('click', function () {\n\t\t\tself.saveNotebookContent();\n\t\t});\n\t},\n\teditNotebookContent: function () {\n\t\tjQuery('.dashboard_notebookWidget_text', this.container).show();\n\t\tjQuery('.dashboard_notebookWidget_view', this.container).hide();\n\t\t$('body').on('click', function (e) {\n\t\t\tif ($(e.target).closest('.dashboard_notebookWidget_view').length === 0 && $(e.target).closest('.dashboard_notebookWidget_text').length === 0) {\n\t\t\t\t$('.dashboard_notebookWidget_save').trigger('click');\n\t\t\t}\n\t\t});\n\t},\n\tsaveNotebookContent: function () {\n\t\t$('body').off('click');\n\t\tvar self = this;\n\t\tvar textarea = jQuery('.dashboard_notebookWidget_textarea', this.container);\n\t\tvar url = this.container.data('url');\n\t\tvar params = url + '&content=true&mode=save&contents=' + encodeURIComponent(textarea.val());\n\t\tvar refreshContainer = this.container.find('.dashboardWidgetContent');\n\t\trefreshContainer.progressIndicator();\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\trefreshContainer.progressIndicator({\n\t\t\t\t'mode': 'hide'\n\t\t\t});\n\t\t\tjQuery('.dashboardWidgetContent', self.container).html(data);\n\t\t\tself.reinitNotebookView();\n\t\t});\n\t}\n});\nYetiForce_Widget_Js('YetiForce_KpiBar_Widget_Js', {}, {\n\tgenerateChartData: function () {\n\t\tvar container = this.getContainer();\n\t\tvar jData = container.find('.widgetData').val();\n\t\tvar data = JSON.parse(jData);\n\t\tvar chartData = [];\n\t\tvar xLabels = [];\n\t\tvar yMaxValue = 0;\n\t\treturn {\n\t\t\t'chartData': [\n\t\t\t\t[\n\t\t\t\t\t[data['result'], data['all']]\n\t\t\t\t]\n\t\t\t],\n\t\t\t'yMaxValue': data['maxValue'],\n\t\t\t'labels': ''\n\t\t};\n\t},\n\tloadChart: function () {\n\t\tvar data = this.generateChartData();\n\t\tthis.getChartContainer(false).jqplot(data['chartData'], {\n\t\t\tanimate: !$.jqplot.use_excanvas,\n\t\t\tseriesDefaults: {\n\t\t\t\trenderer: jQuery.jqplot.BarRenderer,\n\t\t\t\trendererOptions: {\n\t\t\t\t\tshowDataLabels: true,\n\t\t\t\t\tdataLabels: 'value',\n\t\t\t\t\tbarDirection: 'horizontal'\n\t\t\t\t},\n\t\t\t},\n\t\t\taxes: {\n\t\t\t\txaxis: {\n\t\t\t\t\tmin: 0,\n\t\t\t\t\tmax: data['yMaxValue'],\n\t\t\t\t},\n\t\t\t\tyaxis: {\n\t\t\t\t\trenderer: jQuery.jqplot.CategoryAxisRenderer,\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\nYetiForce_Widget_Js('YetiForce_ChartFilter_Widget_Js', {}, {\n\tchartfilterInstance: false,\n\tinit: function (container, reload, widgetClassName) {\n\t\tthis.setContainer(jQuery(container));\n\t\tlet chartClassName = container.find('[name=\"typeChart\"]').val();\n\t\tconst stacked = !!Number(container.find('[name=\"stacked\"]').val());\n\t\tif (stacked) {\n\t\t\tchartClassName += 'Stacked';\n\t\t}\n\t\tthis.chartfilterInstance = YetiForce_Widget_Js.getInstance(container, chartClassName);\n\t\tif (this.chartfilterInstance) {\n\t\t\tconst filterIdsStr = container.find('[name=\"filterIds\"]').val();\n\t\t\tif (filterIdsStr) {\n\t\t\t\tthis.chartfilterInstance.filterIds = JSON.parse(filterIdsStr);\n\t\t\t}\n\t\t}\n\t\tthis.registerRecordsCount();\n\t},\n});\nYetiForce_Widget_Js('YetiForce_Multifilter_Widget_Js', {}, {\n\tmultifilterControlsView: false,\n\tmultifilterContentView: false,\n\tmultifilterSettingsView: false,\n\tregisterMultifilter() {\n\t\tlet selectValue = app.cacheGet('multifilterSelectValue', null),\n\t\t\tmultifilterSettings = this.getMultifilterSettings();\n\t\tif (null != selectValue && this.paramCache) {\n\t\t\tmultifilterSettings.find('.js-select').val(selectValue).trigger('change.select2');\n\t\t}\n\t\tthis.loadMultifilterData(true);\n\t\tmultifilterSettings.find('.js-select').on('select2:select', () => {\n\t\t\tthis.loadMultifilterData(true);\n\t\t\tif (this.paramCache) {\n\t\t\t\tapp.cacheSet('multifilterSelectValue', multifilterSettings.find('.js-select').val());\n\t\t\t}\n\t\t});\n\t\tmultifilterSettings.find('.js-select').on('select2:unselect', () => {\n\t\t\tthis.loadMultifilterData(false);\n\t\t\tif (this.paramCache) {\n\t\t\t\tapp.cacheSet('multifilterSelectValue', multifilterSettings.find('.js-select').val());\n\t\t\t}\n\t\t});\n\t\tthis.registerShowHideModuleSettings();\n\t},\n\tloadMultifilterData(select = true) {\n\t\tconst self = this;\n\t\tlet widgetId = self.getMultifilterControls().attr('data-widgetid'),\n\t\t\tmultifilterIds = self.getMultifilterSettings().find('.js-select option:selected'),\n\t\t\tparams = [];\n\t\tif (!select) {\n\t\t\tself.getMultifilterContent().html('');\n\t\t}\n\t\tmultifilterIds.each(function () {\n\t\t\tlet existFilter = self.getMultifilterContent().find('[data-id=\"' + $(this).val() + '\"]');\n\t\t\tlet thisInstance = $(this);\n\t\t\tif (0 < existFilter.length) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tparams = {\n\t\t\t\tmodule: thisInstance.data('module'),\n\t\t\t\tmodulename: thisInstance.data('module'),\n\t\t\t\tview: 'ShowWidget',\n\t\t\t\tname: 'Multifilter',\n\t\t\t\tcontent: true,\n\t\t\t\twidget: true,\n\t\t\t\twidgetid: widgetId,\n\t\t\t\tfilterid: thisInstance.val()\n\t\t\t};\n\t\t\tself.loadListData(params);\n\t\t});\n\t},\n\tloadListData(params) {\n\t\tconst self = this;\n\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\tmultiFilterContent = self.getMultifilterContent();\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tif (self.getMultifilterSettings().find('option[value=\"' + params.filterid + '\"]').is(':selected') && !multiFilterContent.find('.detailViewTable[data-id=\"' + params.filterid + '\"]').length) {\n\t\t\t\tself.registerRecordsCount(multiFilterContent.append(data).children(\"div:last-child\"));\n\t\t\t\tself.registerShowHideBlocks();\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t}).fail(function (error) {\n\t\t\taDeferred.reject();\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tregisterShowHideModuleSettings() {\n\t\tthis.getMultifilterControls().find('.js-widget-settings').on('click', () => {\n\t\t\tthis.getMultifilterSettings().toggleClass('d-none');\n\t\t});\n\t},\n\tregisterShowHideBlocks() {\n\t\tlet detailContentsHolder = this.getMultifilterContent();\n\t\tdetailContentsHolder.find('.blockHeader').off(\"click\");\n\t\tdetailContentsHolder.find('.blockHeader').click(function () {\n\t\t\tlet currentTarget = $(this).find('.js-block-toggle').not('.d-none'),\n\t\t\t\tclosestBlock = currentTarget.closest('.js-toggle-panel'),\n\t\t\t\tbodyContents = closestBlock.find('.blockContent'),\n\t\t\t\tdata = currentTarget.data();\n\t\t\tlet hideHandler = function () {\n\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t};\n\t\t\tlet showHandler = function () {\n\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t};\n\t\t\tif ('show' == data.mode) {\n\t\t\t\thideHandler();\n\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\tclosestBlock.find('[data-mode=\"hide\"]').removeClass('d-none');\n\t\t\t} else {\n\t\t\t\tshowHandler();\n\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\tclosestBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t}\n\t\t});\n\t},\n\tregisterRecordsCount(container) {\n\t\tlet url = container.data('url');\n\t\tAppConnector.request(url).done(function (data) {\n\t\t\tcontainer.find('.js-count').html(data.result.totalCount);\n\t\t});\n\t},\n\tgetMultifilterControls() {\n\t\tif (this.multifilterControlsView == false) {\n\t\t\tthis.multifilterControlsView = this.getContainer().find('.js-multifilterControls');\n\t\t}\n\t\treturn this.multifilterControlsView;\n\t},\n\tgetMultifilterContent() {\n\t\tif (this.multifilterContentView == false) {\n\t\t\tthis.multifilterContentView = this.getContainer().find('.js-multifilterContent');\n\t\t}\n\t\treturn this.multifilterContentView;\n\t},\n\tgetMultifilterSettings() {\n\t\tif (this.multifilterSettingsView == false) {\n\t\t\tthis.multifilterSettingsView = this.getContainer().find('.js-settings-widget');\n\t\t}\n\t\treturn this.multifilterSettingsView;\n\t},\n\tpostLoadWidget() {\n\t\tthis.registerMultifilter();\n\t},\n\trefreshWidget() {\n\t\tthis.loadMultifilterData(false);\n\t},\n});"],"names":["jQuery","Class","widgetPostLoadEvent","widgetPostRefereshEvent","getInstance","container","widgetClassName","moduleName","app","getModuleName","window","fallbackClass","yetiClass","basicClass","YetiForce_Widget_Js","instance","plotContainer","chartInstance","chartData","paramCache","init","reload","$","setContainer","registerWidgetPostLoadEvent","registerWidgetPostRefreshEvent","registerCache","areColorsFromDividingField","Number","getContainer","find","val","getSourceChartType","isMultiFilter","filterIds","length","getWidgetData","widgetData","widgetDataEl","JSON","parse","globalChartFunctions","scales","formatAxesLabels","value","isNaN","parseNumberToShow","datalabels","display","context","chart","getDatasetMeta","datasetIndex","hidden","formatter","valueType","data","datasets","dataFormatted","dataIndex","tooltips","label","tooltipItem","index","title","tooltipItems","titlesFormatted","labels","legend","onClick","e","legendItem","config","type","defaults","Chart","global","apply","generateLabels","options","boxWidth","forEach","fillStyle","strokeStyle","plugins","hideVerticalBarDatalabelsIfNeeded","Array","isArray","i","len","meta","push","datasetsMeta","getDatasetsMeta","_models","dataset","iItem","lenItem","metaData","dataItem","$datalabels","_model","model","size","width","padding","borderWidth","labelHeight","height","barHeight","threshold","verticalBarLabelsThreshold","_view","labelWidth","hideHorizontalBarDatalabelsIfNeeded","barWidth","horizontalBarLabelsThreshold","fixXAxisLabels","xAxes","axis","ticks","callback","substr","rotateXLabels90","minRotation","_updated","prop","_meta","hasOwnProperty","metaDataItem","_xScale","ctx","categoryWidth","categoryPercentage","measureText","fullWidth","shortenedWidth","shortened","shortenXTicks","update","x","getPixelForValue","base","getBasePixel","barPercentage","fixYAxisLabels","yAxes","shortenYTicks","getFunctionFromReplacementString","replacementStr","assignResult","split","errorLog","splitted","reduce","previous","current","finalFunction","call","bind","isReplacementString","str","parseOptionsObject","original","result","propertyName","afterInit","parseOptionsArray","arr","map","item","parseOptions","removeStackedFromName","chartSubType","indexOf","dividedPos","getGlobalDefaultChartsOptions","bar","basic","maintainAspectRatio","mode","callbacks","autoSkip","beginAtZero","maxRotation","font","color","backgroundColor","borderColor","borderRadius","anchor","align","beforeDraw","barStacked","stacked","horizontalBar","horizontalBarStacked","line","labelOffset","fill","lineStacked","linePlain","lineTension","linePlainStacked","pie","cutoutPercentage","layout","bottom","doughnut","funnel","sort","notStackedChartSubType","getDefaultBasicOptions","getDefaultDatasetOptions","getDefaultPlugins","element","isEmptyData","getUserDateFormat","dateFormat","getChartContainer","useCache","get","registerRecordsCount","recordsCountBtn","thisInstance","on","AppConnector","request","url","done","response","html","totalCount","addClass","attr","removeClass","loadScrollbar","closest","content","widget","footer","adjustedHeight","innerHeight","outerHeight","css","scrollbar","showNewScrollbar","wheelPropagation","restrictContentDrag","target","isHeaderElement","stopPropagation","generateData","jData","positionNoDataMsg","widgetContentsContainer","noDataMsgHolder","position","printHtml","printContainer","imgEl","onload","outerWidth","printImage","htmlToImage","imageBase64","src","downloadHtmlAsImage","document","createElement","setAttribute","click","registerPrintAndDownload","postLoadWidget","loadChart","registerSectionClick","registerFilter","registerFilterChangeEvent","registerContentAutoResize","showPopoverElementView","registerWidgetSwitch","registerChangeSorting","registerLoadMore","registerHeaderButtons","postRefreshWidget","setSortingButton","currentElement","drefresh","replace","sortorder","icon","faIcon","getChartImage","toBase64Image","image","base64Image","open","print","write","append","close","focus","setTimeout","header","downloadWidget","printWidget","text","a","appendTo","remove","Vtiger_Header_Js","quickCreateModule","currentTarget","switchButtons","setUrlSwitch","dashboardWidgetHeader","Deferred","each","urlparams","switchUrl","aDeferred","resolve","reject","promise","getFilterData","refreshWidget","parent","contentContainer","params","widgetFilters","domElement","filterName","widgetFilter","is","additionalWidgetFilters","refreshContainerFooter","refreshContainer","progressIndicator","setFilterToCache","filter","clone","n","hasClass","splice","trigger","fail","search","refreshBtn","originalUrl","selects","fieldInfo","App","Fields","Picklist","changeSelectElementView","containerCssClass","Date","register","registerRange","searchContributorElement","fieldName","searchValue","join","trim","searchOperator","inArray","searchInfo","searchParams","stringify","showSelect2ElementView","off","pointer","canvas","getDataFromEvent","links","location","href","hide","delegateTarget","user","CONFIG","userId","name","cacheSet","getType","loadDatasetOptions","loadBasicOptions","loadPlugins","getContext","additionalFields","elements","getElementAtEvent","_index","_datasetIndex","eventData","formatTooltipTitles","formatTooltipLabels","mergeOptions","getBasicOptions","getSubType","getDatasetOptions","mergeOptionsArray","getPlugins","defaultLabel","to","fromArray","from","key","mergeOptionsObject","toString","responsive","Vtiger_Widget_Js","YetiForce_Bar_Widget_Js","YetiForce_Horizontal_Widget_Js","YetiForce_Pie_Widget_Js","YetiForce_Donut_Widget_Js","YetiForce_Line_Widget_Js","YetiForce_LineStacked_Widget_Js","calendarView","calendarCreateView","registerCalendar","userDefaultTimeFormat","firstDayOfWeekNo","defaultFirstHour","explodedTime","getMainParams","defaultDate","moment","format","add","getCalendarView","fullCalendar","left","center","right","timeFormat","axisFormat","firstHour","firstDay","convertedFirstDay","defaultView","editable","slotMinutes","theme","defaultEventMinutes","eventLimit","allDaySlot","monthNames","vtranslate","monthNamesShort","dayNames","dayNamesShort","buttonText","today","month","week","day","allDayText","eventLimitText","eventRender","event","date","className","count","prependTo","noCache","date_start","due_date","callbackFunction","switchBtn","loadCalendarData","formatDate","toUpperCase","start_date","view","start","end_date","end","module","action","customFilter","time","owner","events","status","getMonthName","registerChangeView","button","tag","modalView","_super","registerActivityChange","registerListViewButton","showModalWindow","activitiesStatus","encodeURIComponent","YetiForce_CalendarActivities_Widget_Js","registerAction","orderBy","sortOrder","YetiForce_Productssoldtorenew_Widget_Js","formatToHourText","original_label","yLabel","fullLabels","YetiForce_Funnel_Widget_Js","generateChartData","yMaxValue","parseData","parseChartData","data_labels","placement","colors","chartDataGlobal","xLabels","sum","row","parseInt","getDecodedValue","dataInfo","compare","ev","seriesIndex","pointIndex","YetiForce_TeamsEstimatedSales_Widget_Js","loadMoreHandler","filterValue","isEmptyObject","filterData","extend","replaceWith","hideModalWindow","reinitNotebookView","showScrollBar","self","editNotebookContent","saveNotebookContent","show","textarea","jqplot","animate","use_excanvas","seriesDefaults","renderer","BarRenderer","rendererOptions","showDataLabels","dataLabels","barDirection","axes","xaxis","min","max","yaxis","CategoryAxisRenderer","chartfilterInstance","chartClassName","filterIdsStr","multifilterControlsView","multifilterContentView","multifilterSettingsView","registerMultifilter","selectValue","cacheGet","multifilterSettings","getMultifilterSettings","loadMultifilterData","registerShowHideModuleSettings","widgetId","getMultifilterControls","multifilterIds","select","getMultifilterContent","existFilter","modulename","widgetid","filterid","loadListData","multiFilterContent","children","registerShowHideBlocks","toggleClass","detailContentsHolder","not","closestBlock","bodyContents"],"mappings":"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"}