{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Vtiger_Edit_Js',\n\t{\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceSelectionEvent: 'Vtiger.Reference.Selection',\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceDeSelectionEvent: 'Vtiger.Reference.DeSelection',\n\t\t//Event that will triggered before saving the record\n\t\trecordPreSave: 'Vtiger.Record.PreSave',\n\t\teditInstance: false,\n\t\tinventoryController: false,\n\t\t/**\n\t\t * Function to get Instance by name\n\t\t * @params moduleName:-- Name of the module to create instance\n\t\t */\n\t\tgetInstanceByModuleName: function (moduleName) {\n\t\t\tif (typeof moduleName === 'undefined') {\n\t\t\t\tmoduleName = app.getModuleName();\n\t\t\t}\n\t\t\tlet parentModule = app.getParentModuleName(),\n\t\t\t\tmoduleClassName,\n\t\t\t\tfallbackClassName,\n\t\t\t\tinstance;\n\t\t\tif (parentModule === 'Settings') {\n\t\t\t\tmoduleClassName = parentModule + '_' + moduleName + '_Edit_Js';\n\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\t}\n\t\t\t\tfallbackClassName = parentModule + '_Vtiger_Edit_Js';\n\t\t\t\tif (typeof window[fallbackClassName] === 'undefined') {\n\t\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t}\n\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t} else {\n\t\t\t\tinstance = new window[fallbackClassName]();\n\t\t\t}\n\t\t\tinstance.moduleName = moduleName;\n\t\t\treturn instance;\n\t\t},\n\t\tgetInstance: function () {\n\t\t\tif (Vtiger_Edit_Js.editInstance == false) {\n\t\t\t\tlet instance = Vtiger_Edit_Js.getInstanceByModuleName();\n\t\t\t\tVtiger_Edit_Js.editInstance = instance;\n\t\t\t\treturn instance;\n\t\t\t}\n\t\t\treturn Vtiger_Edit_Js.editInstance;\n\t\t},\n\t\t/**\n\t\t * Record save ajax\n\t\t *\n\t\t * `Vtiger_Edit_Js.saveAjax({\n\t\t *\t\tvalue: 'value',\n\t\t *\t\tfield: 'field'\n\t\t *\t}).done(() => {})\n\t\t *\t.fail((error, err) => {});`\n\t\t *\n\t\t * @param {object} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tsaveAjax: function (params, progressIndicator = true) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (typeof params === 'undefined' || $.isEmptyObject(params)) {\n\t\t\t\taDeferred.reject();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tif (!params['record'] && app.getRecordId()) {\n\t\t\t\tparams['record'] = app.getRecordId();\n\t\t\t}\n\t\t\tif (!params['module']) {\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t}\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams = {\n\t\t\t\tdata: params,\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'json'\n\t\t\t};\n\t\t\tif (progressIndicator) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.saveAjaxValidation(params).then((response) => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tdelete params.data.mode;\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail((jqXHR, textStatus, errorThrown) => {\n\t\t\t\t\t\t\taDeferred.reject(jqXHR, textStatus, errorThrown);\n\t\t\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve({ success: false });\n\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Record pre save validation\n\t\t * @param {object} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tsaveAjaxValidation: function (params) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tlet validation = true;\n\t\t\tif (\n\t\t\t\ttypeof app.pageController.getForm !== 'undefined' &&\n\t\t\t\tapp.pageController.getForm().find('#preSaveValidation').length !== 0\n\t\t\t) {\n\t\t\t\tvalidation = parseInt(app.pageController.getForm().find('#preSaveValidation').val());\n\t\t\t}\n\t\t\tif (validation) {\n\t\t\t\tlet paramsTemp = JSON.parse(JSON.stringify(params));\n\t\t\t\tparamsTemp.data.mode = 'preSaveValidation';\n\t\t\t\tAppConnector.request(paramsTemp)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tconst response = data.result;\n\t\t\t\t\t\tlet lock = false;\n\t\t\t\t\t\tfor (let i in response) {\n\t\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\t\tif (response[i].type === 'confirm' && typeof response[i].hash !== 'undefined') {\n\t\t\t\t\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message || '',\n\t\t\t\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\t\t\t\tlet handlers = {};\n\t\t\t\t\t\t\t\t\t\t\tif (typeof params.data.skipHandlers !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\t\t\thandlers = JSON.parse(params.data.skipHandlers);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thandlers[i] = response[i].hash;\n\t\t\t\t\t\t\t\t\t\t\tparams.data.skipHandlers = JSON.stringify(handlers);\n\t\t\t\t\t\t\t\t\t\t\tthis.saveAjaxValidation(params, form).then((responsePart) => {\n\t\t\t\t\t\t\t\t\t\t\t\taDeferred.resolve(responsePart);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\trejectedCallback: () => {\n\t\t\t\t\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tlock = true;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal !== 'undefined' &&\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal.url !== 'undefined'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tapp.showModalWindow(null, response[i].showModal.url, function (modalContainer) {\n\t\t\t\t\t\t\t\t\t\tapp.registerModalController(undefined, modalContainer, function (_, instance) {\n\t\t\t\t\t\t\t\t\t\t\tinstance.formContainer = form;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (data.result.length <= 0) {\n\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t} else if (!lock) {\n\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(true);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t},\n\t{\n\t\tformElement: false,\n\t\trelationOperation: '',\n\t\tmoduleName: app.getModuleName(),\n\t\tgetForm: function () {\n\t\t\tif (this.formElement == false) {\n\t\t\t\tthis.setForm($('#EditView'));\n\t\t\t}\n\t\t\treturn this.formElement;\n\t\t},\n\t\tsetForm: function (element) {\n\t\t\tthis.formElement = element;\n\t\t\tlet module;\n\t\t\tif ((module = $('input[name=\"module\"]', element))) {\n\t\t\t\tthis.moduleName = module.val();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetRecordsListParams: function (container) {\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet sourceModule = $('input[name=\"module\"]', formElement).val();\n\t\t\tlet popupReferenceModule = $('input[name=\"popupReferenceModule\"]', container).val();\n\t\t\tlet sourceFieldElement = $('input[class=\"sourceField\"]', container);\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\tlet sourceRecordId = '';\n\t\t\tif (sourceRecordElement.length > 0) {\n\t\t\t\tsourceRecordId = sourceRecordElement.val();\n\t\t\t}\n\t\t\tlet isMultiple = false;\n\t\t\tif (sourceFieldElement.data('multiple') == true) {\n\t\t\t\tisMultiple = true;\n\t\t\t}\n\t\t\tlet filterFields = {};\n\t\t\tlet mappingRelatedField = formElement.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tlet mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (\n\t\t\t\tmappingRelatedModule[sourceField] != undefined &&\n\t\t\t\tmappingRelatedModule[sourceField][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(mappingRelatedModule[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet listFilterFieldsJson = formElement.find('input[name=\"listFilterFields\"]').val();\n\t\t\tlet listFilterFields = listFilterFieldsJson ? JSON.parse(listFilterFieldsJson) : [];\n\t\t\tif (\n\t\t\t\tlistFilterFields[sourceField] != undefined &&\n\t\t\t\tlistFilterFields[sourceField][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(listFilterFields[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet params = {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\tsrc_module: sourceModule,\n\t\t\t\tsrc_field: sourceField,\n\t\t\t\tsrc_record: sourceRecordId,\n\t\t\t\tfilterFields: filterFields\n\t\t\t};\n\t\t\tlet searchParamsElement = $('input[name=\"searchParams\"]', container);\n\t\t\tif (searchParamsElement.length > 0) {\n\t\t\t\tparams['search_params'] = searchParamsElement.val();\n\t\t\t}\n\t\t\tlet modalParamsElement = $('input[name=\"modalParams\"]', container);\n\t\t\tif (modalParamsElement.length > 0) {\n\t\t\t\tparams['modal_params'] = modalParamsElement.val();\n\t\t\t}\n\t\t\tlet lockedFieldsElement = $('input[name=\"lockedFields\"]', container);\n\t\t\tif (lockedFieldsElement.length > 0) {\n\t\t\t\tparams['lockedFields'] = lockedFieldsElement.val();\n\t\t\t}\n\t\t\t$.each(['link', 'process'], function (index, value) {\n\t\t\t\tlet fieldElement = formElement.find('[name=\"' + value + '\"]');\n\t\t\t\tif (fieldElement.length && fieldElement.val() != '' && fieldElement.val() != 0) {\n\t\t\t\t\tparams[value] = fieldElement.val();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isMultiple) {\n\t\t\t\tparams.multi_select = true;\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Show records list modal\n\t\t * @param {jQuery.Event} e\n\t\t */\n\t\tshowRecordsList: function (e) {\n\t\t\tlet parentElem = $(e.target).closest('.fieldValue');\n\t\t\tif (parentElem.length <= 0) {\n\t\t\t\tparentElem = $(e.target).closest('td');\n\t\t\t}\n\t\t\tlet params = this.getRecordsListParams(parentElem);\n\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\tthis.setReferenceFieldValue(parentElem, data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetReferenceFieldValue: function (container, params) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet sourceFieldElement = container.find('input.sourceField');\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet fieldElement = container.find('input[name=\"' + sourceField + '\"]');\n\t\t\tlet sourceFieldDisplay = sourceField + '_display';\n\t\t\tlet fieldDisplayElement = container.find('input[name=\"' + sourceFieldDisplay + '\"]');\n\t\t\tlet popupReferenceModule = container.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet selectedName = params.name;\n\t\t\tlet id = params.id;\n\n\t\t\tcontainer.find('.clearReferenceSelection').trigger('click');\n\n\t\t\tfieldElement.val(id);\n\t\t\tfieldDisplayElement.val(app.decodeHTML(selectedName)).attr('readonly', true);\n\t\t\tfieldElement.trigger(Vtiger_Edit_Js.referenceSelectionEvent, {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\trecord: id,\n\t\t\t\tselectedName: selectedName\n\t\t\t});\n\t\t\tfieldDisplayElement.validationEngine('closePrompt', fieldDisplayElement);\n\t\t\tif (sourceFieldElement.data('type') == 'inventory') {\n\t\t\t\treturn params;\n\t\t\t}\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(sourceField, popupReferenceModule, formElement);\n\t\t\tif (typeof mappingRelatedField !== 'undefined') {\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\t\trecord: id\n\t\t\t\t};\n\t\t\t\tapp.getRecordDetails(params).done(function (data) {\n\t\t\t\t\tlet response = (params.data = data['result']['data']);\n\t\t\t\t\tapp.event.trigger('EditView.SelectReference', params, formElement, data);\n\t\t\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\t\t\tif (response[value[0]] != 0) {\n\t\t\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tlet fieldinfo = mapFieldElement.data('fieldinfo');\n\t\t\t\t\t\t\tif (data['result']['type'][value[0]] === 'date' || data['result']['type'][value[0]] === 'datetime') {\n\t\t\t\t\t\t\t\tmapFieldElement.val(data['result']['displayData'][value[0]]);\n\t\t\t\t\t\t\t} else if (data['result']['type'][value[0]] === 'multipicklist') {\n\t\t\t\t\t\t\t\tlet mapFieldElementMultiselect = formElement.find('[name=\"' + key + '[]\"]');\n\t\t\t\t\t\t\t\tif (mapFieldElementMultiselect.length > 0) {\n\t\t\t\t\t\t\t\t\tlet multipleAttr = mapFieldElement.attr('multiple');\n\t\t\t\t\t\t\t\t\tlet splitValues = response[value[0]].split(' |##| ');\n\t\t\t\t\t\t\t\t\tif (typeof multipleAttr !== 'undefined' && multipleAttr !== false && splitValues.length > 0) {\n\t\t\t\t\t\t\t\t\t\tmapFieldElementMultiselect.val(splitValues).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.is('select')) {\n\t\t\t\t\t\t\t\tif (mapFieldElement.find('option[value=\"' + response[value[0]] + '\"]').length) {\n\t\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]).trigger('change');\n\t\t\t\t\t\t\t\t} else if (mapFieldElement.data('fieldinfo').picklistvalues.hasOwnProperty(response[value[0]])) {\n\t\t\t\t\t\t\t\t\tlet newOption = new Option(response[value[0]], response[value[0]], true, true);\n\t\t\t\t\t\t\t\t\tmapFieldElement.append(newOption).trigger('change');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.length == 0) {\n\t\t\t\t\t\t\t\t$(\"<input type='hidden'/>\").attr('name', key).attr('value', response[value[0]]).appendTo(formElement);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\t\t\t\tmapFieldDisplayElement.val(data['result']['displayData'][value[0]]).attr('readonly', true);\n\t\t\t\t\t\t\t\tif (fieldinfo.type === 'reference') {\n\t\t\t\t\t\t\t\t\tlet referenceModulesList = mapFieldElement.closest('.fieldValue').find('.referenceModulesList');\n\t\t\t\t\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\t\t\t\t\treferenceModulesList.val(value[1]).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.setReferenceFieldValue(mapFieldDisplayElement.closest('.fieldValue'), {\n\t\t\t\t\t\t\t\t\t\tname: data['result']['displayData'][value[0]],\n\t\t\t\t\t\t\t\t\t\tid: response[value[0]]\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tsetFieldValue: function (params) {\n\t\t\tlet fieldElement = this.getForm().find(`[name=\"${params['fieldName']}\"]`);\n\t\t\tlet fieldinfo = fieldElement.data('fieldinfo');\n\t\t\tif (fieldElement.is('select')) {\n\t\t\t\tif (fieldElement.find(`option[value=\"${params['value']}\"]`).length) {\n\t\t\t\t\tfieldElement.val(params['value']).trigger('change');\n\t\t\t\t} else if (fieldinfo.picklistvalues.hasOwnProperty(params['value'])) {\n\t\t\t\t\tfieldElement.append(new Option(params['value'], params['value'], true, true)).trigger('change');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfieldElement.val(params['value']);\n\t\t\t}\n\t\t},\n\t\tgetRelationOperation: function () {\n\t\t\tif (this.relationOperation === '') {\n\t\t\t\tlet relationOperation = $('[name=\"relationOperation\"]');\n\t\t\t\tif (relationOperation.length) {\n\t\t\t\t\tthis.relationOperation = relationOperation.val();\n\t\t\t\t} else {\n\t\t\t\t\tthis.relationOperation = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.relationOperation;\n\t\t},\n\t\tproceedRegisterEvents: function () {\n\t\t\treturn $('.recordEditView').length > 0;\n\t\t},\n\t\treferenceModulePopupRegisterEvent: function (container) {\n\t\t\tcontainer.on('click', '.relatedPopup', (e) => {\n\t\t\t\tthis.showRecordsList(e);\n\t\t\t});\n\t\t\tlet moduleList = container.find('.referenceModulesList');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.referenceModulesList:visible'));\n\t\t\tmoduleList.on('change', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentElem = element.closest('.fieldValue');\n\t\t\t\tlet popupReferenceModule = element.val();\n\t\t\t\tlet referenceModuleElement = $('input[name=\"popupReferenceModule\"]', parentElem);\n\t\t\t\tlet prevSelectedReferenceModule = referenceModuleElement.val();\n\t\t\t\treferenceModuleElement.val(popupReferenceModule);\n\t\t\t\t//If Reference module is changed then we should clear the previous value\n\t\t\t\tif (prevSelectedReferenceModule != popupReferenceModule) {\n\t\t\t\t\tparentElem.find('.clearReferenceSelection').trigger('click');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetReferencedModuleName: function (parenElement) {\n\t\t\treturn $('input[name=\"popupReferenceModule\"]', parenElement).val();\n\t\t},\n\t\tsearchModuleNames: function (params) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tif (typeof params.module === 'undefined') {\n\t\t\t\tparams.module = this.moduleName;\n\t\t\t}\n\t\t\tif (typeof params.action === 'undefined') {\n\t\t\t\tparams.action = 'BasicAjax';\n\t\t\t}\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get reference search params\n\t\t */\n\t\tgetReferenceSearchParams: function (element) {\n\t\t\tlet tdElement = $(element).closest('.fieldValue');\n\t\t\tlet params = {};\n\t\t\tlet searchModule = this.getReferencedModuleName(tdElement);\n\t\t\tparams.search_module = searchModule;\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterAutoCompleteFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet formElement = container.closest('form');\n\t\t\tcontainer.find('input.autoComplete').autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t//element will be array of dom elements\n\t\t\t\t\t//here this refers to auto complete instance\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term;\n\t\t\t\t\tlet params = thisInstance.getReferenceSearchParams(inputElement);\n\t\t\t\t\tparams.search_value = searchValue;\n\t\t\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\t\t\tif (sourceRecordElement.length > 0 && sourceRecordElement.val()) {\n\t\t\t\t\t\tparams.src_record = sourceRecordElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.searchModuleNames(params).done(function (data) {\n\t\t\t\t\t\tlet reponseDataList = [];\n\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\tif (serverDataFormat.length <= 0) {\n\t\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\t\tserverDataFormat = new Array({\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\tapp.event.trigger('EditView.AfterSearch', {\n\t\t\t\t\t\t\tfield: inputElement,\n\t\t\t\t\t\t\tparams: params\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\t//To stop selection if no results is selected\n\t\t\t\t\tif (typeof selectedItemData.type !== 'undefined' && selectedItemData.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedItemData.name = selectedItemData.value;\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet tdElement = element.closest('.fieldValue');\n\t\t\t\t\tthisInstance.setReferenceFieldValue(tdElement, selectedItemData);\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\t//if you dont have readonly attribute means the user didnt select the item\n\t\t\t\t\tif (element.attr('readonly') == undefined) {\n\t\t\t\t\t\telement.closest('.fieldValue').find('.clearReferenceSelection').trigger('click');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t//To Make the menu come up in the case of quick create\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register reference field clear event\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterClearReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.clearReferenceSelection', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\telement.closest('.fieldValue').find('.sourceField').trigger(Vtiger_Edit_Js.referenceDeSelectionEvent);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\tclearFieldValue: function (element) {\n\t\t\tconst self = this;\n\t\t\tlet fieldValueContener = element.closest('.fieldValue');\n\t\t\tlet fieldNameElement = fieldValueContener.find('.sourceField');\n\t\t\tlet fieldName = fieldNameElement.attr('name');\n\t\t\tlet referenceModule = fieldValueContener.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet formElement = fieldValueContener.closest('form');\n\t\t\tif (fieldNameElement.data('fieldtype') == 'reference') {\n\t\t\t\tfieldNameElement.val(0);\n\t\t\t} else {\n\t\t\t\tfieldNameElement.val('');\n\t\t\t}\n\t\t\tfieldValueContener\n\t\t\t\t.find('#' + fieldName + '_display')\n\t\t\t\t.removeAttr('readonly')\n\t\t\t\t.val('');\n\t\t\tapp.event.trigger('EditView.ClearField', {\n\t\t\t\tfieldName: fieldName,\n\t\t\t\treferenceModule: referenceModule\n\t\t\t});\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(fieldName, referenceModule, formElement);\n\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\tif (mapFieldElement.is('select')) {\n\t\t\t\t\tmapFieldElement.val(mapFieldElement.find('option:first').val()).trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\tmapFieldElement.val('');\n\t\t\t\t}\n\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\tmapFieldDisplayElement.val('').attr('readonly', false);\n\t\t\t\t\tlet referenceModulesList = formElement.find(\n\t\t\t\t\t\t'#' + self.moduleName + '_editView_fieldName_' + key + '_dropDown'\n\t\t\t\t\t);\n\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\treferenceModulesList.val(referenceModulesList.find('option:first').val()).trigger('change');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register event to prevent form submission on pressing on enter\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterPreventingEnterSubmitEvent: function (container) {\n\t\t\tcontainer.on('keypress', function (e) {\n\t\t\t\t//Stop the submit when enter is pressed in the form\n\t\t\t\tlet currentElement = $(e.target);\n\t\t\t\tif (e.which == 13 && !currentElement.is('textarea')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterTimeFields: function (container) {\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tApp.Fields.Date.register(container);\n\t\t\tApp.Fields.DateTime.register(container);\n\t\t},\n\t\treferenceCreateHandler: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.setReferenceFieldValue(container, {\n\t\t\t\t\tname: data.result._recordLabel,\n\t\t\t\t\tid: data.result._recordId\n\t\t\t\t});\n\t\t\t};\n\t\t\tlet params = { callbackFunction: postQuickCreateSave };\n\t\t\tif (app.getViewName() === 'Edit' && !app.getRecordId()) {\n\t\t\t\tlet formElement = this.getForm();\n\t\t\t\tlet formData = formElement.serializeFormData();\n\t\t\t\tfor (let i in formData) {\n\t\t\t\t\tif (!formData[i] || $.inArray(i, ['_csrf', 'action']) != -1) {\n\t\t\t\t\t\tdelete formData[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparams.data = {};\n\t\t\t\tparams.data.sourceRecordData = formData;\n\t\t\t}\n\t\t\tlet referenceModuleName = this.getReferencedModuleName(container);\n\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, params);\n\t\t},\n\t\t/**\n\t\t * Function which will register event for create of reference record\n\t\t * This will allow users to create reference record from edit view of other record\n\t\t */\n\t\tregisterReferenceCreate: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.createReferenceRecord', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet controlElementDiv = element.closest('.fieldValue');\n\t\t\t\tthisInstance.referenceCreateHandler(controlElementDiv);\n\t\t\t});\n\t\t},\n\t\taddressFieldsMapping: [\n\t\t\t'buildingnumber',\n\t\t\t'localnumber',\n\t\t\t'addresslevel1',\n\t\t\t'addresslevel2',\n\t\t\t'addresslevel3',\n\t\t\t'addresslevel4',\n\t\t\t'addresslevel5',\n\t\t\t'addresslevel6',\n\t\t\t'addresslevel7',\n\t\t\t'addresslevel8',\n\t\t\t'pobox'\n\t\t],\n\t\taddressFieldsMappingBlockID: {\n\t\t\tLBL_ADDRESS_INFORMATION: 'a',\n\t\t\tLBL_ADDRESS_BILLING: 'a',\n\t\t\tLBL_ADDRESS_MAILING_INFORMATION: 'b',\n\t\t\tLBL_ADDRESS_SHIPPING: 'b',\n\t\t\tLBL_ADDRESS_DELIVERY_INFORMATION: 'c'\n\t\t},\n\t\taddressFieldsData: false,\n\t\t/**\n\t\t * Function to register event for copying addresses\n\t\t */\n\t\tregisterEventForCopyAddress: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.formElement\n\t\t\t\t.find(\n\t\t\t\t\t'.js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldValue, .js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldLabel'\n\t\t\t\t)\n\t\t\t\t.each(function () {\n\t\t\t\t\tlet block = $(this);\n\t\t\t\t\tlet referenceModulesList = block.find('.referenceModulesList');\n\t\t\t\t\tif (referenceModulesList.length > 0) {\n\t\t\t\t\t\treferenceModulesList.on('change', function () {\n\t\t\t\t\t\t\tthisInstance.formElement\n\t\t\t\t\t\t\t\t.find('[class*=\"copyAddressFrom\"]:not(.copyAddressFromMain, .copyAddressFromMailing)')\n\t\t\t\t\t\t\t\t.addClass('d-none');\n\t\t\t\t\t\t\tthisInstance.registerEventForCopyBlockAddress($(this).val(), block.find('.sourceField').attr('name'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treferenceModulesList.trigger('change');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet referenceFields = block.find('[name=\"popupReferenceModule\"]');\n\t\t\t\t\t\tif (referenceFields.length > 0) {\n\t\t\t\t\t\t\tthisInstance.registerEventForCopyBlockAddress(\n\t\t\t\t\t\t\t\treferenceFields.val(),\n\t\t\t\t\t\t\t\tblock.find('.sourceField').attr('name')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.formElement.find('.js-toggle-panel').each(function () {\n\t\t\t\tlet hideCopyAddressLabel = true;\n\t\t\t\t$(this)\n\t\t\t\t\t.find('.adressAction button')\n\t\t\t\t\t.each(function () {\n\t\t\t\t\t\tif ($(this).hasClass('d-none') == false) {\n\t\t\t\t\t\t\thideCopyAddressLabel = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tif (hideCopyAddressLabel) {\n\t\t\t\t\t$(this).find('.copyAddressLabel').addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMain').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMailing').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromDelivery').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t},\n\t\tregisterEventForCopyBlockAddress: function (moduleName, fieldName) {\n\t\t\tconst self = this;\n\t\t\tif (moduleName == 'Accounts') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromAccount',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_ACCOUNT_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Contacts') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromContact',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_CONTACT_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Leads') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromLead',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_LEAD_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Vendors') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromVendor',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_VENDOR_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Show button to copy the address details from selected module\n\t\t */\n\t\tenableCopyAddressFromModule: function (moduleName, formElement, className, fieldName, label) {\n\t\t\tlet thisInstance = this;\n\t\t\tformElement\n\t\t\t\t.find('.' + className)\n\t\t\t\t.removeClass('d-none')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet recordRelativeAccountId = $('[name=\"' + fieldName + '\"]').val();\n\t\t\t\t\tif (recordRelativeAccountId == '' || recordRelativeAccountId == '0') {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate(label),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet recordRelativeAccountName = $('#' + fieldName + '_display').val();\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\trecord: recordRelativeAccountId,\n\t\t\t\t\t\t\tselectedName: recordRelativeAccountName,\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthisInstance.copyAddressDetails(\n\t\t\t\t\t\t\telement.data('label'),\n\t\t\t\t\t\t\telement.closest('.js-toggle-panel').data('label'),\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\telement.closest('.js-toggle-panel')\n\t\t\t\t\t\t);\n\t\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will copy the address details\n\t\t */\n\t\tcopyAddressDetails: function (from, to, data, container) {\n\t\t\tapp.getRecordDetails(data).done((response) => {\n\t\t\t\tthis.addressFieldsData = response['result'];\n\t\t\t\tthis.copyAddress(from, to, true, data['module']);\n\t\t\t\tapp.event.trigger('Edit.CopyAddress', this, from, to, response, data, container);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to copy address between fields\n\t\t * @param strings which accepts value as either odd or even\n\t\t */\n\t\tcopyAddress: function (fromLabel, toLabel, relatedRecord, sourceModule) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet formElement = this.getForm(),\n\t\t\t\tstatus = false,\n\t\t\t\taddressMapping = this.addressFieldsMapping,\n\t\t\t\tBlockIds = this.addressFieldsMappingBlockID,\n\t\t\t\tfrom = BlockIds[fromLabel];\n\t\t\tif (relatedRecord === false || sourceModule === false) from = BlockIds[fromLabel];\n\t\t\tlet to = BlockIds[toLabel],\n\t\t\t\tkey,\n\t\t\t\tfromElement,\n\t\t\t\tfromElementLabel,\n\t\t\t\tnameElementFrom,\n\t\t\t\tnameElementTo;\n\t\t\tfor (key in addressMapping) {\n\t\t\t\tnameElementFrom = addressMapping[key] + from;\n\t\t\t\tnameElementTo = addressMapping[key] + to;\n\t\t\t\tif (relatedRecord) {\n\t\t\t\t\tfromElement = thisInstance.addressFieldsData['data'][nameElementFrom];\n\t\t\t\t\tfromElementLabel = thisInstance.addressFieldsData['displayData'][nameElementFrom];\n\t\t\t\t} else {\n\t\t\t\t\tfromElement = formElement.find('[name=\"' + nameElementFrom + '\"]').val();\n\t\t\t\t\tfromElementLabel = formElement.find('[name=\"' + nameElementFrom + '_display\"]').val();\n\t\t\t\t}\n\t\t\t\tlet toElement = formElement.find('[name=\"' + nameElementTo + '\"]'),\n\t\t\t\t\ttoElementLable = formElement.find('[name=\"' + nameElementTo + '_display\"]');\n\t\t\t\tif (fromElement !== '' && fromElement !== '0' && fromElement !== undefined) {\n\t\t\t\t\tif (toElementLable.length > 0) toElementLable.attr('readonly', true);\n\t\t\t\t\tstatus = true;\n\t\t\t\t\ttoElement.val(fromElement);\n\t\t\t\t\ttoElementLable.val(fromElementLabel);\n\t\t\t\t\tif (toElement.is('[data-select2-id]')) {\n\t\t\t\t\t\tif (toElement.val() !== fromElement) {\n\t\t\t\t\t\t\ttoElement.val('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoElement.trigger('change');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttoElement.val('');\n\t\t\t\t\ttoElement.attr('readonly', false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (status === false) {\n\t\t\t\tlet errorMsg;\n\t\t\t\tif (sourceModule === 'Accounts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_ACCOUNT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else if (sourceModule === 'Contacts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_CONTACT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else {\n\t\t\t\t\terrorMsg = 'JS_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t}\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate(errorMsg),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relategField = container.find(\"input[name*='addresslevel']\");\n\t\t\trelategField.on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tlet blockContainer = $(e.currentTarget).closest('.js-toggle-panel');\n\t\t\t\tthisInstance.copyAddressDetailsRef(data, blockContainer);\n\t\t\t});\n\t\t},\n\t\tcopyAddressDetailsRef: function (data, container) {\n\t\t\tlet thisInstance = this;\n\t\t\tapp\n\t\t\t\t.getRecordDetails(data)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet response = data['result'];\n\t\t\t\t\tthisInstance.mapAddressDetails(response, container);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\tmapAddressDetails: function (result, container) {\n\t\t\tfor (let key in result) {\n\t\t\t\tif (key.indexOf('addresslevel') != -1) {\n\t\t\t\t\tif (container.find('[name=\"' + key + '\"]').length != 0) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tregisterMaskFields: function (container) {\n\t\t\tcontainer.find('[data-inputmask]').inputmask();\n\t\t},\n\t\tregisterSubmitEvent: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\teditViewForm.on('submit', function (e) {\n\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\tif (typeof editViewForm.data('submit') !== 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\teditViewForm.find('.js-toggle-panel').find('.js-block-content').removeClass('d-none');\n\t\t\t\t\tif (editViewForm.validationEngine('validate')) {\n\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\teditViewForm.data('submit', 'true');\n\t\t\t\t\t\t//on submit form trigger the recordPreSave event\n\t\t\t\t\t\tlet recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\teditViewForm.trigger(recordPreSaveEvent, { value: 'edit' });\n\t\t\t\t\t\tif (recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\t//If duplicate record validation fails, form should submit again\n\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\tapp.formAlignmentAfterValidation(editViewForm);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to check the view permission of a record after save\n\t\t */\n\t\tregisterRecordPreSaveEventEvent: function (form) {\n\t\t\tform.on(Vtiger_Edit_Js.recordPreSave, (e, data) => {\n\t\t\t\tthis.preSaveValidation(form).done((response) => {\n\t\t\t\t\tif (response !== true) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tpreSaveValidation: function (form) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (form.find('#preSaveValidation').val()) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet formData = new FormData(form[0]);\n\t\t\t\tformData.append('mode', 'preSaveValidation');\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: false,\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tcontentType: false\n\t\t\t\t})\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tfor (let i in response) {\n\t\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\t\tif (response[i].type === 'confirm' && typeof response[i].hash !== 'undefined') {\n\t\t\t\t\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message || '',\n\t\t\t\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\t\t\t\tlet handlers = {},\n\t\t\t\t\t\t\t\t\t\t\t\thandlerElement = form.find('input[name=\"skipHandlers\"]');\n\t\t\t\t\t\t\t\t\t\t\tif (handlerElement.length) {\n\t\t\t\t\t\t\t\t\t\t\t\thandlers = JSON.parse(handlerElement.val());\n\t\t\t\t\t\t\t\t\t\t\t\thandlerElement.remove();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thandlers[i] = response[i].hash;\n\t\t\t\t\t\t\t\t\t\t\tform.append(\n\t\t\t\t\t\t\t\t\t\t\t\t$('<input>', { name: 'skipHandlers', value: JSON.stringify(handlers), type: 'hidden' })\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tform.submit();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal !== 'undefined' &&\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal.url !== 'undefined'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tapp.showModalWindow(null, response[i].showModal.url, function (modalContainer) {\n\t\t\t\t\t\t\t\t\t\tapp.registerModalController(undefined, modalContainer, function (_, instance) {\n\t\t\t\t\t\t\t\t\t\t\tinstance.formContainer = form;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (response[i].hoverField != undefined) {\n\t\t\t\t\t\t\t\t\tform.find('[name=\"' + response[i].hoverField + '\"]').focus();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\taDeferred.resolve(data.result.length <= 0);\n\t\t\t\t\t})\n\t\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(true);\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register event for setting up picklistdependency\n\t\t * for a module if exist on change of picklist value\n\t\t */\n\t\tregisterEventForPicklistDependencySetup: function (container) {\n\t\t\tlet picklistDependcyElemnt = $('[name=\"picklistDependency\"]', container);\n\t\t\tif (picklistDependcyElemnt.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet picklistDependencyMapping = JSON.parse(picklistDependcyElemnt.val());\n\n\t\t\tlet sourcePicklists = Object.keys(picklistDependencyMapping);\n\t\t\tif (sourcePicklists.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet sourcePickListNames = [],\n\t\t\t\ti;\n\t\t\tfor (i = 0; i < sourcePicklists.length; i++) {\n\t\t\t\tsourcePickListNames.push('[name=\"' + sourcePicklists[i] + '\"]');\n\t\t\t}\n\t\t\tsourcePickListNames = sourcePickListNames.join(',');\n\t\t\tlet sourcePickListElements = container.find(sourcePickListNames);\n\n\t\t\tsourcePickListElements.on('change', function (e) {\n\t\t\t\tlet currentElement = $(e.currentTarget),\n\t\t\t\t\tconfiguredDependencyObject = picklistDependencyMapping[currentElement.attr('name')],\n\t\t\t\t\ttargetObjectForSelectedSourceValue = configuredDependencyObject[currentElement.val()],\n\t\t\t\t\tpicklistmap = configuredDependencyObject['__DEFAULT__'];\n\n\t\t\t\tif (typeof targetObjectForSelectedSourceValue === 'undefined') {\n\t\t\t\t\ttargetObjectForSelectedSourceValue = picklistmap;\n\t\t\t\t}\n\t\t\t\t$.each(picklistmap, function (targetPickListName, targetPickListValues) {\n\t\t\t\t\tlet targetPickListMap = targetObjectForSelectedSourceValue[targetPickListName];\n\t\t\t\t\tif (typeof targetPickListMap === 'undefined') {\n\t\t\t\t\t\ttargetPickListMap = targetPickListValues;\n\t\t\t\t\t}\n\t\t\t\t\tlet targetPickList = $('[name=\"' + targetPickListName + '\"]', container);\n\t\t\t\t\tif (targetPickList.length <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet listOfAvailableOptions = targetPickList.data('availableOptions');\n\t\t\t\t\tif (typeof listOfAvailableOptions === 'undefined') {\n\t\t\t\t\t\tlistOfAvailableOptions = $('option', targetPickList);\n\t\t\t\t\t\ttargetPickList.data('available-options', listOfAvailableOptions);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet targetOptions = new $(),\n\t\t\t\t\t\toptionSelector = [];\n\t\t\t\t\toptionSelector.push('');\n\t\t\t\t\tfor (i = 0; i < targetPickListMap.length; i++) {\n\t\t\t\t\t\toptionSelector.push(targetPickListMap[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each(listOfAvailableOptions, function (i, e) {\n\t\t\t\t\t\tif ($.inArray($(e).val(), optionSelector) !== -1) {\n\t\t\t\t\t\t\ttargetOptions = targetOptions.add($(e));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\ttargetPickList.html(targetOptions).val(targetOptions.filter('[selected]').val()).trigger('change');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t//To Trigger the change on load\n\t\t\tsourcePickListElements.trigger('change');\n\t\t},\n\t\tregisterLeavePageWithoutSubmit: function (form) {\n\t\t\tif (\n\t\t\t\ttypeof CKEDITOR !== 'undefined' &&\n\t\t\t\ttypeof CKEDITOR.instances !== 'undefined' &&\n\t\t\t\tObject.keys(CKEDITOR.instances).length\n\t\t\t) {\n\t\t\t\tCKEDITOR.on('instanceReady', function (e) {\n\t\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tstretchCKEditor: function () {\n\t\t\tlet row = $('.js-editor').parents('.fieldRow');\n\t\t\tlet td = $('.js-editor').parent();\n\t\t\t$(row).find('.fieldLabel').remove();\n\t\t\t$(td).removeClass('col-md-10');\n\t\t\t$(td).addClass('col-md-12');\n\t\t},\n\t\t/**\n\t\t * Function to register event for ckeditor for description field\n\t\t */\n\t\tregisterEventForEditor: function () {\n\t\t\tlet form = this.getForm();\n\t\t\t$.each(form.find('.js-editor:not(.js-inventory-item-comment)'), (key, data) => {\n\t\t\t\tthis.loadEditorElement($(data));\n\t\t\t});\n\t\t},\n\t\tloadEditorElement: function (noteContentElement) {\n\t\t\tApp.Fields.Text.Editor.register(noteContentElement);\n\t\t},\n\t\tregisterHelpInfo: function (form) {\n\t\t\tif (!form) {\n\t\t\t\tform = this.getForm();\n\t\t\t}\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function () {\n\t\t\tlet blocks = this.getForm().find('.js-toggle-panel');\n\t\t\tlet module = this.moduleName;\n\t\t\tblocks.each(function (index, block) {\n\t\t\t\tlet currentBlock = $(block);\n\t\t\t\tif (\n\t\t\t\t\tcurrentBlock.find('.js-field-block-column').length !== 0 &&\n\t\t\t\t\tcurrentBlock.find('.js-field-block-column:not(.d-none)').length === 0\n\t\t\t\t) {\n\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t}\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Visibility check block\n\t\t */\n\t\tcheckVisibilityBlocks: function () {\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-toggle-panel')\n\t\t\t\t.each(function (index, block) {\n\t\t\t\t\tlet currentBlock = $(block);\n\t\t\t\t\tif (currentBlock.find('.js-field-block-column').length !== 0) {\n\t\t\t\t\t\tif (currentBlock.find('.js-field-block-column:not(.d-none)').length === 0) {\n\t\t\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentBlock.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tregisterAutoloadAddress: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-search-address')\n\t\t\t\t.each(function (index, item) {\n\t\t\t\t\tlet search = $(item);\n\t\t\t\t\tlet container = search.closest('.js-block-content');\n\t\t\t\t\tlet input = search.find('.js-autoload-address');\n\t\t\t\t\tinput.autocomplete({\n\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: self.moduleName,\n\t\t\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\t\t\tmode: 'findAddress',\n\t\t\t\t\t\t\t\ttype: search.find('.js-select-operator').val(),\n\t\t\t\t\t\t\t\tvalue: request.term\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function (requestData) {\n\t\t\t\t\t\t\t\t\tif (requestData.result === false) {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (requestData.result.length) {\n\t\t\t\t\t\t\t\t\t\tresponse(requestData.result);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function (textStatus, errorThrown, jqXHR) {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: jqXHR.responseJSON.error.message,\n\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tminLength: input.data('min'),\n\t\t\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\t\t\t$.each(ui.item.address, function (index, value) {\n\t\t\t\t\t\t\t\tlet field = container.find('.fieldValue [name^=' + index + ']');\n\t\t\t\t\t\t\t\tif (field.length && value) {\n\t\t\t\t\t\t\t\t\tif (typeof value !== 'object') {\n\t\t\t\t\t\t\t\t\t\tvalue = [value];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$.each(value, function (index, v) {\n\t\t\t\t\t\t\t\t\t\tlet select = false,\n\t\t\t\t\t\t\t\t\t\t\telement = false;\n\t\t\t\t\t\t\t\t\t\tif (field.prop('tagName') === 'SELECT') {\n\t\t\t\t\t\t\t\t\t\t\tif (typeof v === 'object') {\n\t\t\t\t\t\t\t\t\t\t\t\t$.each(v, function (index, x) {\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[data-' + index + \"='\" + x + \"']\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (x && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option:contains(' + v + ')');\n\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[value=\"' + v + '\"]');\n\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tselect = v;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (select) {\n\t\t\t\t\t\t\t\t\t\t\tfield.val(select).change();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield.val('').change();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tui.item.value = input.val();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tsetEnabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('button').removeAttr('disabled');\n\t\t\tif (fieldDisplay.val() == '') {\n\t\t\t\tfieldValue.find('input').removeAttr('readonly');\n\t\t\t}\n\t\t\tfieldValue.find('.referenceModulesListGroup').removeClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholderDisabled');\n\t\t\tfieldDisplay.removeAttr('placeholderDisabled');\n\t\t\tfieldDisplay.attr('placeholder', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').attr('required', 'required');\n\t\t},\n\t\tsetDisabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('input').attr('readonly', 'readonly');\n\t\t\tfieldValue.find('button').attr('disabled', 'disabled');\n\t\t\tfieldValue.find('.referenceModulesListGroup').addClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholder');\n\t\t\tfieldDisplay.removeAttr('placeholder');\n\t\t\tfieldDisplay.attr('placeholderDisabled', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').removeAttr('required');\n\t\t},\n\t\tgetMappingRelatedField: function (sourceField, sourceFieldModule, container) {\n\t\t\tconst mappingRelatedField = container.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tconst mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (\n\t\t\t\ttypeof mappingRelatedModule[sourceField] !== 'undefined' &&\n\t\t\t\ttypeof mappingRelatedModule[sourceField][sourceFieldModule] !== 'undefined'\n\t\t\t) {\n\t\t\t\treturn mappingRelatedModule[sourceField][sourceFieldModule];\n\t\t\t}\n\t\t\treturn [];\n\t\t},\n\t\tregisterValidationsFields: function (container) {\n\t\t\tlet params = app.validationEngineOptionsForRecord;\n\t\t\tcontainer.validationEngine(params);\n\t\t},\n\t\tcheckReferencesField: function (container, clear) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet activeProcess = false,\n\t\t\t\tactiveSubProcess = false;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceLink\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tif (activeProcess) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveSubProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceSubProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet processfieldElement = element.closest('.fieldValue');\n\t\t\t\tlet length = processfieldElement.find('.referenceModulesList option[disabled!=\"disabled\"]').length;\n\t\t\t\tif (activeSubProcess && length > 0) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcheckSubProcessModulesList: function (element) {\n\t\t\tlet option = element.find('option:selected');\n\t\t\tif (option.data('is-quickcreate') != 1) {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').addClass('d-none');\n\t\t\t} else {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tcheckReferenceModulesList: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet processfieldElement = container.find('input[data-fieldtype=\"referenceProcess\"]').closest('.fieldValue');\n\t\t\tlet referenceProcess = processfieldElement.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet subProcessfieldElement = container.find('input[data-fieldtype=\"referenceSubProcess\"]').closest('.fieldValue');\n\t\t\tVtiger_Helper_Js.hideOptions(subProcessfieldElement.find('.referenceModulesList'), 'parent', referenceProcess);\n\t\t\tlet subProcessValue = subProcessfieldElement.find('.referenceModulesList').val();\n\t\t\tsubProcessfieldElement.find('[name=\"popupReferenceModule\"]').val(subProcessValue);\n\t\t\tthisInstance.checkSubProcessModulesList(subProcessfieldElement.find('.referenceModulesList'));\n\t\t},\n\t\tregisterReferenceFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\tthisInstance.checkReferencesField(container, false);\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceDeSelectionEvent, function (e) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function () {\n\t\t\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceSubProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function (e) {\n\t\t\t\t\tthisInstance.checkSubProcessModulesList($(e.currentTarget));\n\t\t\t\t});\n\t\t},\n\t\tregisterFocusFirstField: function (container, afterTimeout) {\n\t\t\tlet elementToFocus, elementToFocusTabindex;\n\t\t\tif (afterTimeout === undefined && container.closest('.js-modal-container').length) {\n\t\t\t\tsetTimeout((_) => {\n\t\t\t\t\tthis.registerFocusFirstField(container, true);\n\t\t\t\t}, 500);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontainer\n\t\t\t\t.find(\n\t\t\t\t\t'.fieldValue input.form-control:not([type=hidden],.dateField,.clockPicker), .fieldValue input[type=checkbox], .select2-selection.form-control'\n\t\t\t\t)\n\t\t\t\t.each(function (i, e) {\n\t\t\t\t\tlet element = $(e);\n\t\t\t\t\tif (!element.prop('readonly') && !element.prop('disabled')) {\n\t\t\t\t\t\telement = element.get(0);\n\t\t\t\t\t\tif (element.type !== 'number' && element.type !== 'checkbox' && element.value !== undefined) {\n\t\t\t\t\t\t\tlet elemLen = element.value.length;\n\t\t\t\t\t\t\telement.selectionStart = elemLen;\n\t\t\t\t\t\t\telement.selectionEnd = elemLen;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i === 0 || !elementToFocus) {\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet tabindex = $(element).attr('tabindex');\n\t\t\t\t\t\tif (tabindex > 0 && elementToFocusTabindex === undefined) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tabindex > 0 && tabindex < elementToFocusTabindex) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tif (elementToFocus) {\n\t\t\t\telementToFocus.focus();\n\t\t\t}\n\t\t},\n\t\tregisterCopyValue: function (container) {\n\t\t\tcontainer.find('.fieldValue [data-copy-to-field]').on('change', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tcontainer.find('[name=\"' + element.data('copyToField') + '\"]').val(element.val());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register multi image upload fields\n\t\t * @param {HTMLElement|jQuery} container\n\t\t */\n\t\tregisterMultiImageFields(container) {\n\t\t\treturn App.Fields.MultiImage.register(container);\n\t\t},\n\t\t/**\n\t\t * Register inventory controller\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterInventoryController(container) {\n\t\t\tif (typeof Vtiger_Inventory_Js !== 'undefined') {\n\t\t\t\tthis.inventoryController = Vtiger_Inventory_Js.getInventoryInstance(container);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register record collector modal\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterRecordCollectorModal: function (container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.js-record-collector-modal', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet formData = container.serializeFormData();\n\t\t\t\tformData['view'] = 'RecordCollector';\n\t\t\t\tformData['collectorType'] = element.data('type');\n\t\t\t\tdelete formData['action'];\n\t\t\t\tAppConnector.request(formData).done(function (html) {\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\thtml,\n\t\t\t\t\t\t(container) => {\n\t\t\t\t\t\t\tlet modalForm = container.find('form.js-record-collector__form');\n\t\t\t\t\t\t\tlet summary = container.find('.js-record-collector__summary');\n\t\t\t\t\t\t\tmodalForm.validationEngine(app.validationEngineOptions);\n\t\t\t\t\t\t\tmodalForm.on('submit', function (e) {\n\t\t\t\t\t\t\t\tif (modalForm.validationEngine('validate')) {\n\t\t\t\t\t\t\t\t\tsummary.html('');\n\t\t\t\t\t\t\t\t\tsummary.progressIndicator({});\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tAppConnector.request(modalForm.serializeFormData()).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tsummary.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tsummary.html(data);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet recordForm = self.getForm();\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__select', function () {\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t.find(`.js-record-collector__column[data-column=\"${this.dataset.column}\"] input`)\n\t\t\t\t\t\t\t\t\t.prop('checked', true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__fill_fields', function () {\n\t\t\t\t\t\t\t\tlet formData = container.find('.js-record-collector__fill_form').serializeFormData();\n\t\t\t\t\t\t\t\t$.each(formData, function (key, value) {\n\t\t\t\t\t\t\t\t\tif (value !== '') {\n\t\t\t\t\t\t\t\t\t\tlet fieldElement = recordForm.find(`[name=\"${key}\"]`);\n\t\t\t\t\t\t\t\t\t\tif (fieldElement.length) {\n\t\t\t\t\t\t\t\t\t\t\tfieldElement.setValue(value);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\trecordForm.append(`<input type=\"hidden\" name=\"${key}\" value=\"${value}\" />`);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tapp.hideModalWindow(null, 'collectorModal');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ modalId: 'collectorModal' }\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register account name function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterAccountName: function (container) {\n\t\t\tlet first = container.find('.js-first-name');\n\t\t\tlet firstInput = first.find('input');\n\t\t\tlet last = container.find('.js-last-name');\n\t\t\tlet lastInput = last.find('input');\n\t\t\tlet full = container.find('.js-account-name');\n\t\t\tlet fullInput = full.find('input');\n\t\t\tlet legalForm = container.find('select[name=\"legal_form\"]');\n\t\t\tlet legalFormVal = legalForm.val();\n\t\t\tfirstInput.keyup(function () {\n\t\t\t\tfullInput.val(this.value + '|##|' + lastInput.val());\n\t\t\t});\n\t\t\tlastInput.keyup(function () {\n\t\t\t\tfullInput.val(firstInput.val() + '|##|' + this.value);\n\t\t\t});\n\t\t\tlegalForm.change(function () {\n\t\t\t\tif (this.value == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.addClass('d-none');\n\t\t\t\t\tfullInput.val(firstInput.val() + '|##|' + lastInput.val());\n\t\t\t\t\tfirst.removeClass('d-none');\n\t\t\t\t\tlast.removeClass('d-none');\n\t\t\t\t} else if (legalFormVal == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.removeClass('d-none');\n\t\t\t\t\tfirst.addClass('d-none');\n\t\t\t\t\tlast.addClass('d-none');\n\t\t\t\t\tfullInput.val('');\n\t\t\t\t}\n\t\t\t\tlegalFormVal = this.value;\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Trigger record edit view events\n\t\t * @param {object} data\n\t\t */\n\t\ttriggerRecordEditEvents: function (data) {\n\t\t\tconst self = this;\n\t\t\tlet form = this.getForm();\n\t\t\tif (typeof data['changeValues'] == 'object') {\n\t\t\t\t$.each(data['changeValues'], function (key, field) {\n\t\t\t\t\tself.setFieldValue(field);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hoverField'] != 'undefined') {\n\t\t\t\tform.find(`[name=\"${data['hoverField']}\"]`).focus();\n\t\t\t}\n\t\t\tif (typeof data['showNotify'] != 'undefined') {\n\t\t\t\tapp.showNotify(data['showNotify']);\n\t\t\t}\n\t\t\tif (typeof data['showModal'] != 'undefined') {\n\t\t\t\tapp.showModalWindow(null, data['showModal']['url']);\n\t\t\t}\n\t\t\tif (typeof data['showFields'] != 'undefined') {\n\t\t\t\t$.each(data['showFields'], function (key, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).removeClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hideFields'] != 'undefined') {\n\t\t\t\t$.each(data['hideFields'], function (key, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).addClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register change value handler events\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterChangeValueHandlerEvent: function (container) {\n\t\t\tlet event = container.find('.js-change-value-event');\n\t\t\tif (event.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst self = this;\n\t\t\tlet fields = JSON.parse(event.val());\n\t\t\t$.each(fields, function (key, fieldName) {\n\t\t\t\tlet fieldElement = container.find(`[name=\"${fieldName}\"],[name=\"${fieldName}[]\"]`);\n\t\t\t\tfieldElement.on(\n\t\t\t\t\t`change ${Vtiger_Edit_Js.referenceSelectionEvent} ${Vtiger_Edit_Js.referenceDeSelectionEvent}`,\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tlet formData = container.serializeFormData();\n\t\t\t\t\t\tformData['action'] = 'ChangeValueHandler';\n\t\t\t\t\t\tdelete formData['view'];\n\t\t\t\t\t\tAppConnector.request(formData).done(function (response) {\n\t\t\t\t\t\t\t$.each(response.result, function (key, data) {\n\t\t\t\t\t\t\t\tself.triggerRecordEditEvents(data);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register keyboard shortcuts events\n\t\t */\n\t\tregisterKeyboardShortcutsEvent: function () {\n\t\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyS') {\n\t\t\t\t\tlet form = event.target.closest('form');\n\t\t\t\t\tif (form) {\n\t\t\t\t\t\t$(form).trigger('submit');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tform = $(event.target).find('form');\n\t\t\t\t\t\tif (form.length && form.hasClass('recordEditView')) {\n\t\t\t\t\t\t\tform.last().trigger('submit');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register basic events which will be used in quick create as well\n\t\t *\n\t\t */\n\t\tregisterBasicEvents: function (container) {\n\t\t\tthis.referenceModulePopupRegisterEvent(container);\n\t\t\tthis.registerAutoCompleteFields(container);\n\t\t\tthis.registerClearReferenceSelectionEvent(container);\n\t\t\tthis.registerPreventingEnterSubmitEvent(container);\n\t\t\tthis.registerTimeFields(container);\n\t\t\tthis.registerEventForPicklistDependencySetup(container);\n\t\t\tthis.registerRecordPreSaveEventEvent(container);\n\t\t\tthis.registerReferenceSelectionEvent(container);\n\t\t\tthis.registerChangeValueHandlerEvent(container);\n\t\t\tthis.registerMaskFields(container);\n\t\t\tthis.registerHelpInfo(container);\n\t\t\tthis.registerReferenceFields(container);\n\t\t\tthis.registerFocusFirstField(container);\n\t\t\tthis.registerCopyValue(container);\n\t\t\tthis.registerMultiImageFields(container);\n\t\t\tthis.registerReferenceCreate(container);\n\t\t\tthis.registerRecordCollectorModal(container);\n\t\t\tthis.registerAccountName(container);\n\t\t\tthis.registerKeyboardShortcutsEvent();\n\t\t\tApp.Fields.MultiEmail.register(container);\n\t\t\tApp.Fields.MultiDependField.register(container);\n\t\t\tApp.Fields.Tree.register(container);\n\t\t\tApp.Fields.MultiCurrency.register(container);\n\t\t\tApp.Fields.MeetingUrl.register(container);\n\t\t\tApp.Fields.ChangesJson.register(container);\n\t\t\tApp.Fields.MultiReference.register(container);\n\t\t\tApp.Fields.Password.register(container);\n\t\t\tApp.Components.ActivityNotifier.register(container);\n\t\t\tApp.Fields.MultiAttachment.register(container);\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\tif (!this.proceedRegisterEvents()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerInventoryController(editViewForm);\n\t\t\tapp.registerBlockAnimationEvent(editViewForm);\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerEventForEditor();\n\t\t\tthis.stretchCKEditor();\n\t\t\tthis.registerBasicEvents(editViewForm);\n\t\t\tthis.registerEventForCopyAddress();\n\t\t\tthis.registerSubmitEvent();\n\t\t\tthis.registerLeavePageWithoutSubmit(editViewForm);\n\t\t\tthis.registerValidationsFields(editViewForm);\n\t\t\tthis.registerAutoloadAddress();\n\t\t\teditViewForm.find('.js-form-submit-btn').prop('disabled', false);\n\t\t}\n\t}\n);\n"],"names":["$","Class","referenceSelectionEvent","referenceDeSelectionEvent","recordPreSave","editInstance","inventoryController","getInstanceByModuleName","moduleName","app","getModuleName","moduleClassName","fallbackClassName","instance","parentModule","getParentModuleName","window","getInstance","Vtiger_Edit_Js","saveAjax","params","progressIndicator","aDeferred","Deferred","isEmptyObject","reject","promise","getRecordId","data","async","dataType","document","progressLoader","message","vtranslate","position","blockInfo","enabled","saveAjaxValidation","then","response","mode","AppConnector","request","done","responseData","resolve","fail","jqXHR","textStatus","errorThrown","showNotify","text","type","success","validation","pageController","getForm","find","length","parseInt","val","paramsTemp","JSON","parse","stringify","result","lock","i","hash","showConfirmModal","confirmedCallback","handlers","skipHandlers","form","responsePart","rejectedCallback","showModal","url","showModalWindow","modalContainer","registerModalController","_","formContainer","formElement","relationOperation","setForm","element","module","getRecordsListParams","container","closest","sourceModule","popupReferenceModule","sourceFieldElement","sourceField","attr","sourceRecordElement","sourceRecordId","isMultiple","filterFields","mappingRelatedField","mappingRelatedModule","each","index","mapFieldElement","listFilterFieldsJson","listFilterFields","src_module","src_field","src_record","searchParamsElement","modalParamsElement","lockedFieldsElement","value","fieldElement","multi_select","showRecordsList","e","parentElem","target","modal","setSelectEvent","setReferenceFieldValue","thisInstance","fieldDisplayElement","selectedName","name","id","trigger","decodeHTML","record","validationEngine","getMappingRelatedField","getRecordDetails","event","key","fieldinfo","mapFieldElementMultiselect","multipleAttr","splitValues","split","is","appendTo","picklistvalues","hasOwnProperty","newOption","Option","append","mapFieldDisplayElement","referenceModulesList","setFieldValue","getRelationOperation","proceedRegisterEvents","referenceModulePopupRegisterEvent","on","moduleList","App","Fields","Picklist","showSelect2ElementView","currentTarget","referenceModuleElement","prevSelectedReferenceModule","getReferencedModuleName","parenElement","searchModuleNames","action","getReferenceSearchParams","tdElement","searchModule","search_module","registerAutoCompleteFields","autocomplete","delay","minLength","source","inputElement","searchValue","term","search_value","reponseDataList","serverDataFormat","Array","label","push","field","select","ui","selectedItemData","item","change","open","menu","css","registerClearReferenceSelectionEvent","clearFieldValue","preventDefault","self","fieldValueContener","fieldNameElement","fieldName","referenceModule","removeAttr","registerPreventingEnterSubmitEvent","currentElement","which","registerTimeFields","registerEventForClockPicker","Date","register","DateTime","referenceCreateHandler","callbackFunction","postQuickCreateSave","_recordLabel","_recordId","getViewName","formData","serializeFormData","inArray","sourceRecordData","referenceModuleName","Components","QuickCreate","createRecord","registerReferenceCreate","controlElementDiv","addressFieldsMapping","addressFieldsMappingBlockID","LBL_ADDRESS_INFORMATION","LBL_ADDRESS_BILLING","LBL_ADDRESS_MAILING_INFORMATION","LBL_ADDRESS_SHIPPING","LBL_ADDRESS_DELIVERY_INFORMATION","addressFieldsData","registerEventForCopyAddress","block","addClass","registerEventForCopyBlockAddress","referenceFields","hideCopyAddressLabel","hasClass","from","to","copyAddress","enableCopyAddressFromModule","className","removeClass","recordRelativeAccountId","recordRelativeAccountName","copyAddressDetails","fromLabel","toLabel","relatedRecord","status","addressMapping","BlockIds","fromElement","fromElementLabel","nameElementFrom","nameElementTo","toElement","toElementLable","errorMsg","registerReferenceSelectionEvent","relategField","blockContainer","copyAddressDetailsRef","mapAddressDetails","indexOf","registerMaskFields","inputmask","registerSubmitEvent","editViewForm","recordPreSaveEvent","Event","isDefaultPrevented","removeData","formAlignmentAfterValidation","registerRecordPreSaveEventEvent","preSaveValidation","FormData","processData","contentType","handlerElement","remove","submit","hoverField","focus","errorLog","registerEventForPicklistDependencySetup","picklistDependcyElemnt","picklistDependencyMapping","sourcePicklists","Object","keys","sourcePickListNames","join","sourcePickListElements","configuredDependencyObject","targetObjectForSelectedSourceValue","picklistmap","targetPickListName","targetPickListValues","targetPickListMap","targetPickList","listOfAvailableOptions","targetOptions","optionSelector","add","html","filter","registerLeavePageWithoutSubmit","CKEDITOR","instances","initialFormData","serialize","onbeforeunload","stretchCKEditor","row","parents","td","parent","registerEventForEditor","loadEditorElement","noteContentElement","Text","Editor","registerHelpInfo","showPopoverElementView","registerBlockStatusCheckOnLoad","blocks","currentBlock","dynamicAttr","headerAnimationElement","not","bodyContents","blockId","cacheGet","checkVisibilityBlocks","registerAutoloadAddress","search","input","requestData","responseJSON","error","animation","address","v","prop","x","setEnabledFields","fieldValue","fieldDisplay","placeholder","setDisabledFields","sourceFieldModule","registerValidationsFields","validationEngineOptionsForRecord","checkReferencesField","clear","activeProcess","activeSubProcess","CONFIG","fieldsReferencesDependent","t","referenceLink","processfieldElement","checkSubProcessModulesList","option","checkReferenceModulesList","referenceProcess","subProcessfieldElement","Vtiger_Helper_Js","hideOptions","subProcessValue","registerReferenceFields","registerFocusFirstField","afterTimeout","elementToFocus","elementToFocusTabindex","setTimeout","get","elemLen","selectionStart","selectionEnd","tabindex","registerCopyValue","registerMultiImageFields","MultiImage","registerInventoryController","Vtiger_Inventory_Js","getInventoryInstance","registerRecordCollectorModal","modalForm","summary","validationEngineOptions","recordForm","dataset","column","setValue","hideModalWindow","modalId","registerAccountName","first","firstInput","last","lastInput","full","fullInput","legalForm","legalFormVal","keyup","triggerRecordEditEvents","registerChangeValueHandlerEvent","fields","registerKeyboardShortcutsEvent","addEventListener","shiftKey","ctrlKey","code","registerBasicEvents","MultiEmail","MultiDependField","Tree","MultiCurrency","MeetingUrl","ChangesJson","MultiReference","Password","ActivityNotifier","MultiAttachment","registerEvents","registerBlockAnimationEvent"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFACA,YAAA,qSAEAA,CAAC,CAACC,KAAF,CACC,gBADD,CAEC;AAECC,uBAAuB,CAAE,4BAF1B;AAICC,yBAAyB,CAAE,8BAJ5B;AAMCC,aAAa,CAAE,uBANhB,CAOCC,YAAY,GAPb,CAQCC,mBAAmB,GARpB;AAUD;AACA;AACA,KACEC,uBAAuB,CAAE,SAAA,uBAAA,CAAUC,UAAV,CAAsB,CACpB,WAAtB,EAAA,OAAOA,UADmC,GAE7CA,UAAU,CAAGC,GAAG,CAACC,aAAJ,EAFgC,CAAA,CAI9C,IACCC,eADD,CAECC,iBAFD,CAGCC,QAHD,CAAIC,YAAY,CAAGL,GAAG,CAACM,mBAAJ,EAAnB,CAuBA,OAnBqB,UAAjB,GAAAD,YAmBJ,EAlBCH,eAAe,CAAGG,YAAY,CAAG,GAAf,CAAqBN,UAArB,CAAkC,UAkBrD,CAjBwC,WAAnC,EAAA,OAAOQ,MAAM,CAACL,eAAD,CAiBlB,GAhBEA,eAAe,CAAGH,UAAU,CAAG,UAgBjC,CAdCI,CAAAA,iBAAiB,CAAGE,YAAY,CAAG,iBAcpC,CAb0C,WAArC,EAAA,OAAOE,MAAM,CAACJ,iBAAD,CAalB,GAZEA,iBAAiB,CAAG,gBAYtB,CATCD,GAAAA,eAAe,CAAGH,UAAU,CAAG,UAShC,CARCI,iBAAiB,CAAG,gBAQrB,CAHCC,CAAAA,QAGD,CANuC,WAAnC,EAAA,OAAOG,MAAM,CAACL,eAAD,CAMjB,CAHY,IAAIK,MAAM,CAACJ,iBAAD,CAGtB,CALY,IAAII,MAAM,CAACL,eAAD,CAKtB,CADAE,QAAQ,CAACL,UAAT,CAAsBA,UACtB,CAAOK,QACP,CAzCF,CA0CCI,WAAW,CAAE,SAAY,WAAA,EAAA,CACxB,GAAI,CAAAC,CAAAA,EAAAA,cAAc,CAACb,YAAnB,CAA0C,CACzC,IAAIQ,QAAQ,CAAGK,cAAc,CAACX,uBAAf,EAAf,CAEA,OADAW,cAAc,CAACb,YAAf,CAA8BQ,QAC9B,CAAOA,QACP,CACD,OAAOK,cAAc,CAACb,YACtB,CAjDF;AAmDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KACEc,QAAQ,CAAE,SAAUC,QAAAA,CAAAA,MAAV,CAA4C,CAAA,IAA1BC,iBAA0B,CAC/CC,EAAAA,CAAAA,CAAAA,SAAAA,CAAAA,MAAAA,EAAAA,KAAAA,CAAAA,GAAAA,SAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,SAAAA,CAAAA,CAAAA,CAAAA,CAAAA,SAAS,CAAGtB,CAAC,CAACuB,QAAF,EADmC,CAE/B,OAAA,WAAlB,EAAOH,OAAAA,MAAP,EAAiCpB,CAAC,CAACwB,aAAF,CAAgBJ,MAAhB,CAFgB,EAGpDE,SAAS,CAACG,MAAV,EAHoD,CAI7CH,SAAS,CAACI,OAAV,EAJ6C,GAMjD,CAACN,MAAM,CAAP,MAAA,EAAqBX,GAAG,CAACkB,WAAJ,EAN4B,GAOpDP,MAAM,CAAA,MAAN,CAAmBX,GAAG,CAACkB,WAAJ,EAPiC,CAAA,CAShDP,MAAM,CAAA,MAT0C,GAUpDA,MAAM,CAAN,MAAA,CAAmBX,GAAG,CAACC,aAAJ,EAViC,CAAA,CAYrDU,MAAM,CAAA,MAAN,CAAmB,UAZkC,CAarDA,MAAM,CAAG,CACRQ,IAAI,CAAER,MADE,CAERS,KAAK,CAAA,CAAA,CAFG,CAGRC,QAAQ,CAAE,MAHF,CAb4C,CAkBjDT,iBAlBiD,GAmBpDU,QAAQ,CAACC,cAAT,CAA0BhC,CAAC,CAACqB,iBAAF,CAAoB,CAC7CY,OAAO,CAAExB,GAAG,CAACyB,UAAJ,CAAe,qBAAf,CADoC,CAE7CC,QAAQ,CAAE,MAFmC,CAG7CC,SAAS,CAAE,CACVC,OAAO,GADG,CAHkC,CAApB,CAnB0B,CAAA,CA2BrD,IAAKC,CAAAA,kBAAL,CAAwBlB,MAAxB,CAAgCmB,CAAAA,IAAhC,CAAqC,SAACC,QAAD,CAAc,CAC9C,CAAA,CAAA,GAAAA,QAD8C,EAEjD,OAAOpB,MAAM,CAACQ,IAAP,CAAYa,IAF8B,CAGjDC,YAAY,CAACC,OAAb,CAAqBvB,MAArB,CACEwB,CAAAA,IADF,CACO,SAAUC,YAAV,CAAwB,CAC7BvB,SAAS,CAACwB,OAAV,CAAkBD,YAAlB,CAD6B,CAEzBxB,iBAFyB,EAG5BU,QAAQ,CAACC,cAAT,CAAwBX,iBAAxB,CAA0C,CAAEoB,IAAI,CAAE,MAAR,CAA1C,EAED,CANF,CAAA,CAOEM,IAPF,CAOO,SAACC,KAAD,CAAQC,UAAR,CAAoBC,WAApB,CAAoC,CACzC5B,SAAS,CAACG,MAAV,CAAiBuB,KAAjB,CAAwBC,UAAxB,CAAoCC,WAApC,CADyC,CAErC7B,iBAFqC,EAGxCU,QAAQ,CAACC,cAAT,CAAwBX,iBAAxB,CAA0C,CAAEoB,IAAI,CAAE,MAAR,CAA1C,CAHwC,CAKzChC,GAAG,CAAC0C,UAAJ,CAAe,CACdC,IAAI,CAAE3C,GAAG,CAACyB,UAAJ,CAAe,UAAf,CADQ,CAEdmB,IAAI,CAAE,OAFQ,CAAf,EAIA,CAhBF,CAHiD,GAqBjD/B,SAAS,CAACwB,OAAV,CAAkB,CAAEQ,OAAO,CAAT,CAAA,CAAA,CAAlB,CArBiD,CAsB7CjC,iBAtB6C,EAuBhDU,QAAQ,CAACC,cAAT,CAAwBX,iBAAxB,CAA0C,CAAEoB,IAAI,CAAE,MAAR,CAA1C,CAvBgD,EA0BlD,CA1BD,CA3BqD,CAsD9CnB,SAAS,CAACI,OAAV,EAtD8C,CAuDrD,CArHF;AAuHD;AACA;AACA;AACA,KACEY,kBAAkB,CAAE,SAAA,kBAAA,CAAUlB,MAAV,CAAkB,CAC/BE,IAAAA,KAAAA,CAAAA,IAAAA,CAAAA,SAAS,CAAGtB,CAAC,CAACuB,QAAF,EADmB,CAEjCgC,UAAU,CAFuB,CAAA,CAAA,CASrC,GALuC,WAAtC,EAAO9C,OAAAA,GAAG,CAAC+C,cAAJ,CAAmBC,OAA1B,EACmE,CAAnE,GAAAhD,GAAG,CAAC+C,cAAJ,CAAmBC,OAAnB,EAA6BC,CAAAA,IAA7B,CAAkC,oBAAlC,CAAwDC,CAAAA,MAIzD,GAFCJ,UAAU,CAAGK,QAAQ,CAACnD,GAAG,CAAC+C,cAAJ,CAAmBC,OAAnB,EAAA,CAA6BC,IAA7B,CAAkC,oBAAlC,CAAA,CAAwDG,GAAxD,EAAD,CAEtB,CAAA,CAAIN,UAAJ,CAAgB,CACf,IAAIO,UAAU,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe7C,MAAf,CAAX,CAAjB,CACA0C,UAAU,CAAClC,IAAX,CAAgBa,IAAhB,CAAuB,mBAFR,CAGfC,YAAY,CAACC,OAAb,CAAqBmB,UAArB,CAAA,CACElB,IADF,CACO,SAAChB,IAAD,CAAU,CAAA,IACTY,QAAQ,CAAGZ,IAAI,CAACsC,MADP,CAEXC,IAAI,CAFO,CAAA,CAAA,CAAA,KAAA,CAAA,SAGNC,CAHM,CAAA,CAId,GAAI,CAAA,CAAA,GAAA5B,QAAQ,CAAC4B,CAAD,CAAR,CAAYF,MAAhB,CAAiC,CAChC,GAAyB,SAArB,GAAA1B,QAAQ,CAAC4B,CAAD,CAAR,CAAYf,IAAZ,EAA8D,WAA5B,EAAOb,OAAAA,QAAQ,CAAC4B,CAAD,CAAR,CAAYC,IAAzD,CAmBC,OAlBA5D,GAAG,CAAC6D,gBAAJ,CAAqB,CACpBlB,IAAI,CAAEZ,QAAQ,CAAC4B,CAAD,CAAR,CAAYnC,OAAZ,EAAuB,EADT,CAEpBsC,iBAAiB,CAAE,SAAA,iBAAA,EAAM,CACxB,IAAIC,QAAQ,CAAG,EAAf,CACwC,WAApC,EAAA,OAAOpD,MAAM,CAACQ,IAAP,CAAY6C,YAFC,GAGvBD,QAAQ,CAAGT,IAAI,CAACC,KAAL,CAAW5C,MAAM,CAACQ,IAAP,CAAY6C,YAAvB,CAHY,CAKxBD,CAAAA,QAAQ,CAACJ,CAAD,CAAR,CAAc5B,QAAQ,CAAC4B,CAAD,CAAR,CAAYC,IALF,CAMxBjD,MAAM,CAACQ,IAAP,CAAY6C,YAAZ,CAA2BV,IAAI,CAACE,SAAL,CAAeO,QAAf,CANH,CAOxB,KAAI,CAAClC,kBAAL,CAAwBlB,MAAxB,CAAgCsD,IAAhC,CAAA,CAAsCnC,IAAtC,CAA2C,SAACoC,YAAD,CAAkB,CAC5DrD,SAAS,CAACwB,OAAV,CAAkB6B,YAAlB,EACA,CAFD,EAGA,CAZmB,CAapBC,gBAAgB,CAAE,2BAAM,CACvBtD,SAAS,CAACwB,OAAV,CACA,CAAA,CAAA,EAAA,CAfmB,CAArB,CAkBA,CADAqB,IAAI,CACJ,CAAA,CAAA,CAAA,OAAA,CAEiC,WAAjC,EAAA,OAAO3B,QAAQ,CAAC4B,CAAD,CAAR,CAAYS,SAAnB,EACqC,WAArC,EAAOrC,OAAAA,QAAQ,CAAC4B,CAAD,CAAR,CAAYS,SAAZ,CAAsBC,GAvBE,CAyB/BrE,GAAG,CAACsE,eAAJ,CAAoB,IAApB,CAA0BvC,QAAQ,CAAC4B,CAAD,CAAR,CAAYS,SAAZ,CAAsBC,GAAhD,CAAqD,SAAUE,cAAV,CAA0B,CAC9EvE,GAAG,CAACwE,uBAAJ,CAAA,KAAA,CAAA,CAAuCD,cAAvC,CAAuD,SAAUE,CAAV,CAAarE,QAAb,CAAuB,CAC7EA,QAAQ,CAACsE,aAAT,CAAyBT,KACzB,CAFD,EAGA,CAJD,CAzB+B,CA+B/BjE,GAAG,CAAC0C,UAAJ,CAAe,CACdC,IAAI,CAAEZ,QAAQ,CAAC4B,CAAD,CAAR,CAAYnC,OAAZ,CAAsBO,QAAQ,CAAC4B,CAAD,CAAR,CAAYnC,OAAlC,CAA4CxB,GAAG,CAACyB,UAAJ,CAAe,UAAf,CADpC,CAEdmB,IAAI,CAAE,OAFQ,CAAf,EAKD,CAxCa,CAAA,CAGf,IAAK,IAAIe,CAAT,IAAc5B,QAAd,CAAwB,CAAf4B,IAAAA,IAAAA,CAAAA,KAAAA,CAAAA,CAAe,oBAqBrB,KAiBF,CACyB,CAAtB,EAAAxC,IAAI,CAACsC,MAAL,CAAYP,MA1CD,CA2CdrC,SAAS,CAACwB,OAAV,CAAA,CAAA,CAAA,CA3Cc,CA4CJ,CAACqB,IA5CG,EA6Cd7C,SAAS,CAACwB,OAAV,CAED,CAAA,CAAA,EAAA,CAhDF,CAiDEC,CAAAA,IAjDF,CAiDO,UAA6B,CAClCtC,GAAG,CAAC0C,UAAJ,CAAe,CACdC,IAAI,CAAE3C,GAAG,CAACyB,UAAJ,CAAe,UAAf,CADQ,CAEdmB,IAAI,CAAE,OAFQ,CAAf,CADkC,CAKlC/B,SAAS,CAACwB,OAAV,CAAA,CAAA,CAAA,EACA,CAvDF,EAwDA,CA3DD,KA4DCxB,SAAS,CAACwB,OAAV,IA5DD,CA8DA,OAAOxB,SAAS,CAACI,OAAV,EACP,CAnMF,CAFD,CAuMC,CACC0D,WAAW,CADZ,CAAA,CAAA,CAECC,iBAAiB,CAAE,EAFpB,CAGC7E,UAAU,CAAEC,GAAG,CAACC,aAAJ,EAHb,CAIC+C,OAAO,CAAE,SAAY,OAAA,EAAA,CAIpB,OAHI,CAAK2B,CAAAA,EAAAA,IAAAA,CAAAA,WAGT,EAFC,IAAA,CAAKE,OAAL,CAAatF,CAAC,CAAC,WAAD,CAAd,CAED,CAAO,IAAKoF,CAAAA,WACZ,CATF,CAUCE,OAAO,CAAE,SAAUC,OAAAA,CAAAA,OAAV,CAAmB,CAC3B,IAAKH,CAAAA,WAAL,CAAmBG,OADQ,CAE3B,IAAIC,MAAJ,CAIA,OAHKA,CAAAA,MAAM,CAAGxF,CAAC,CAAC,wBAAD,CAAyBuF,OAAzB,CAGf,IAFC,IAAK/E,CAAAA,UAAL,CAAkBgF,MAAM,CAAC3B,GAAP,EAEnB,CAAO,CAAA,IACP,CAjBF,CAkBC4B,oBAAoB,CAAE,SAAUC,oBAAAA,CAAAA,SAAV,CAAqB,CAAA,IACtCN,WAAW,CAAGM,SAAS,CAACC,OAAV,CAAkB,MAAlB,CADwB,CAEtCC,YAAY,CAAG5F,CAAC,CAAC,wBAAD,CAAyBoF,WAAzB,CAAD,CAAuCvB,GAAvC,EAFuB,CAGtCgC,oBAAoB,CAAG7F,CAAC,CAAC,sCAAD,CAAuC0F,SAAvC,CAAD,CAAmD7B,GAAnD,EAHe,CAItCiC,kBAAkB,CAAG9F,CAAC,CAAC,8BAAD,CAA+B0F,SAA/B,CAJgB,CAKtCK,WAAW,CAAGD,kBAAkB,CAACE,IAAnB,CAAwB,MAAxB,CALwB,CAMtCC,mBAAmB,CAAGjG,CAAC,CAAC,wBAAD,CAAyBoF,WAAzB,CANe,CAOtCc,cAAc,CAAG,EAPqB,CAQT,CAA7B,CAAAD,mBAAmB,CAACtC,MARkB,GASzCuC,cAAc,CAAGD,mBAAmB,CAACpC,GAApB,EATwB,CAW1C,CAAA,IAAIsC,UAAU,CAAd,CAAA,CAAA,CACI,CAAAL,CAAAA,EAAAA,kBAAkB,CAAClE,IAAnB,CAAwB,UAAxB,CAZsC,GAazCuE,UAAU,CAAA,CAAA,CAb+B,MAetCC,YAAY,CAAG,EAfuB,CAgBtCC,mBAAmB,CAAGjB,WAAW,CAAC1B,IAAZ,CAAiB,qCAAjB,CAAsDG,CAAAA,GAAtD,EAhBgB,CAiBtCyC,oBAAoB,CAAGD,mBAAmB,CAAGtC,IAAI,CAACC,KAAL,CAAWqC,mBAAX,CAAH,CAAqC,EAjBzC,CAmBzC,MAAAC,oBAAoB,CAACP,WAAD,CAApB,EACA,IAAA,EAAAO,oBAAoB,CAACP,WAAD,CAApB,CAAkCF,oBAAlC,CApByC,EAsBzC7F,CAAC,CAACuG,IAAF,CAAOD,oBAAoB,CAACP,WAAD,CAApB,CAAkCF,oBAAlC,CAAP,CAAgE,SAAUW,KAAV,CAAwB,CACvF,IAAIC,eAAe,CAAGrB,WAAW,CAAC1B,IAAZ,CAAiB,UAAY8C,CAAAA,KAAZ,CAAoB,KAArC,CAAtB,CACIC,eAAe,CAAC9C,MAAhB,EAAmD,EAAzB,EAAA8C,eAAe,CAAC5C,GAAhB,EAFyD,GAGtFuC,YAAY,CAACI,KAAD,CAAZ,CAAsBC,eAAe,CAAC5C,GAAhB,EAHgE,EAKvF,CALD,CAtByC,CAAA,IA6BtC6C,oBAAoB,CAAGtB,WAAW,CAAC1B,IAAZ,CAAiB,kCAAjB,CAAmDG,CAAAA,GAAnD,EA7Be,CA8BtC8C,gBAAgB,CAAGD,oBAAoB,CAAG3C,IAAI,CAACC,KAAL,CAAW0C,oBAAX,CAAH,CAAsC,EA9BvC,CAgCzC,IAAAC,EAAAA,gBAAgB,CAACZ,WAAD,CAAhB,EACA,IAAAY,EAAAA,gBAAgB,CAACZ,WAAD,CAAhB,CAA8BF,oBAA9B,CAjCyC,EAmCzC7F,CAAC,CAACuG,IAAF,CAAOI,gBAAgB,CAACZ,WAAD,CAAhB,CAA8BF,oBAA9B,CAAP,CAA4D,SAAUW,KAAV,CAAwB,CACnF,IAAIC,eAAe,CAAGrB,WAAW,CAAC1B,IAAZ,CAAiB,UAAA,CAAY8C,KAAZ,CAAoB,KAArC,CAAtB,CACIC,eAAe,CAAC9C,MAAhB,EAAmD,EAAzB,EAAA8C,eAAe,CAAC5C,GAAhB,EAFqD,GAGlFuC,YAAY,CAACI,KAAD,CAAZ,CAAsBC,eAAe,CAAC5C,GAAhB,EAH4D,EAKnF,CALD,CAnCyC,CA0CtCzC,IAAAA,MAAM,CAAG,CACZoE,MAAM,CAAEK,oBADI,CAEZe,UAAU,CAAEhB,YAFA,CAGZiB,SAAS,CAAEd,WAHC,CAIZe,UAAU,CAAEZ,cAJA,CAKZE,YAAY,CAAEA,YALF,CA1C6B,CAiDtCW,mBAAmB,CAAG/G,CAAC,CAAC,8BAAD,CAA+B0F,SAA/B,CAjDe,CAkDT,CAA7B,CAAAqB,mBAAmB,CAACpD,MAlDkB,GAmDzCvC,MAAM,CAAN,aAAA,CAA0B2F,mBAAmB,CAAClD,GAApB,EAnDe,CAqD1C,CAAA,IAAImD,kBAAkB,CAAGhH,CAAC,CAAC,6BAAD,CAA8B0F,SAA9B,CAA1B,CACgC,CAA5B,CAAAsB,kBAAkB,CAACrD,MAtDmB,GAuDzCvC,MAAM,CAAA,YAAN,CAAyB4F,kBAAkB,CAACnD,GAAnB,EAvDgB,CAAA,CAyD1C,IAAIoD,mBAAmB,CAAGjH,CAAC,CAAC,8BAAD,CAA+B0F,SAA/B,CAA3B,CAaA,OAZiC,CAA7B,CAAAuB,mBAAmB,CAACtD,MAYxB,GAXCvC,MAAM,CAAN,YAAA,CAAyB6F,mBAAmB,CAACpD,GAApB,EAW1B,CATA7D,CAAAA,CAAC,CAACuG,IAAF,CAAO,CAAC,MAAD,CAAS,SAAT,CAAP,CAA4B,SAAUC,KAAV,CAAiBU,KAAjB,CAAwB,CACnD,IAAIC,YAAY,CAAG/B,WAAW,CAAC1B,IAAZ,CAAiB,UAAYwD,CAAAA,KAAZ,CAAoB,KAArC,CAAnB,CACIC,YAAY,CAACxD,MAAb,EAA6C,EAAtB,EAAAwD,YAAY,CAACtD,GAAb,EAAvB,EAAyE,CAAtB,EAAAsD,YAAY,CAACtD,GAAb,EAFJ,GAGlDzC,MAAM,CAAC8F,KAAD,CAAN,CAAgBC,YAAY,CAACtD,GAAb,EAHkC,EAKnD,CALD,CASA,CAHIsC,UAGJ,GAFC/E,MAAM,CAACgG,YAAP,CAED,CAAA,CAAA,CAAA,CAAOhG,MACP,CAzFF;AA2FD;AACA;AACA,KACEiG,eAAe,CAAE,SAAUC,eAAAA,CAAAA,CAAV,CAAa,CAAA,IAAA,MAAA,CAAA,IAAA,CACzBC,UAAU,CAAGvH,CAAC,CAACsH,CAAC,CAACE,MAAH,CAAD,CAAY7B,OAAZ,CAAoB,aAApB,CADY,CAEJ,CAArB,EAAA4B,UAAU,CAAC5D,MAFc,GAG5B4D,UAAU,CAAGvH,CAAC,CAACsH,CAAC,CAACE,MAAH,CAAD,CAAY7B,OAAZ,CAAoB,IAApB,CAHe,EAK7B,IAAIvE,MAAM,CAAG,IAAKqE,CAAAA,oBAAL,CAA0B8B,UAA1B,CAAb,CACA9G,GAAG,CAAC4G,eAAJ,CAAoBjG,MAApB,CAA4B,SAACqG,KAAD,CAAQ5G,QAAR,CAAqB,CAChDA,QAAQ,CAAC6G,cAAT,CAAwB,SAAC9F,IAAD,CAAU,CACjC,MAAI,CAAC+F,sBAAL,CAA4BJ,UAA5B,CAAwC3F,IAAxC,EACA,CAFD,EAGA,CAJD,EAKA,CAzGF,CA0GC+F,sBAAsB,CAAE,SAAA,sBAAA,CAAUjC,SAAV,CAAqBtE,MAArB,CAA6B,CAC9CwG,IAAAA,YAAY,CAAG,IAD+B,CAEhD9B,kBAAkB,CAAGJ,SAAS,CAAChC,IAAV,CAAe,mBAAf,CAF2B,CAGhDqC,WAAW,CAAGD,kBAAkB,CAACE,IAAnB,CAAwB,MAAxB,CAHkC,CAIhDmB,YAAY,CAAGzB,SAAS,CAAChC,IAAV,CAAe,eAAiBqC,CAAAA,WAAjB,CAA+B,KAA9C,CAJiC,CAMhD8B,mBAAmB,CAAGnC,SAAS,CAAChC,IAAV,CAAe,eAAA,EADhBqC,WAAW,CAAG,UACE,CAAA,CAAsC,KAArD,CAN0B,CAOhDF,oBAAoB,CAAGH,SAAS,CAAChC,IAAV,CAAe,sCAAf,CAAqDG,CAAAA,GAArD,EAPyB,CAQhDiE,YAAY,CAAG1G,MAAM,CAAC2G,IAR0B,CAShDC,EAAE,CAAG5G,MAAM,CAAC4G,EAToC,CAqBpD,GAVAtC,SAAS,CAAChC,IAAV,CAAe,0BAAf,CAA2CuE,CAAAA,OAA3C,CAAmD,OAAnD,CAUA,CARAd,YAAY,CAACtD,GAAb,CAAiBmE,EAAjB,CAQA,CAPAH,mBAAmB,CAAChE,GAApB,CAAwBpD,GAAG,CAACyH,UAAJ,CAAeJ,YAAf,CAAxB,CAAsD9B,CAAAA,IAAtD,CAA2D,UAA3D,CAOA,CAAA,CAAA,CAAA,CANAmB,YAAY,CAACc,OAAb,CAAqB/G,cAAc,CAAChB,uBAApC,CAA6D,CAC5DsF,MAAM,CAAEK,oBADoD,CAE5DsC,MAAM,CAAEH,EAFoD,CAG5DF,YAAY,CAAEA,YAH8C,CAA7D,CAMA,CADAD,mBAAmB,CAACO,gBAApB,CAAqC,aAArC,CAAoDP,mBAApD,CACA,CAAuC,WAAnC,EAAA/B,kBAAkB,CAAClE,IAAnB,CAAwB,MAAxB,CAAJ,CACC,OAAOR,MAAP,CAtBmD,IAwBhDgE,WAAW,CAAGM,SAAS,CAACC,OAAV,CAAkB,MAAlB,CAxBkC,CAyBhDU,mBAAmB,CAAG,IAAA,CAAKgC,sBAAL,CAA4BtC,WAA5B,CAAyCF,oBAAzC,CAA+DT,WAA/D,CAzB0B,CA0BpD,GAAmC,WAA/B,EAAOiB,OAAAA,mBAAX,CAAgD,CAC/C,IAAIjF,OAAM,CAAG,CACZoE,MAAM,CAAEK,oBADI,CAEZsC,MAAM,CAAEH,EAFI,CAAb,CAIAvH,GAAG,CAAC6H,gBAAJ,CAAqBlH,OAArB,CAAA,CAA6BwB,IAA7B,CAAkC,SAAUhB,IAAV,CAAgB,CACjD,IAAIY,QAAQ,CAAIpB,OAAM,CAACQ,IAAP,CAAcA,IAAI,OAAJ,CAA9B,IAAA,CACAnB,GAAG,CAAC8H,KAAJ,CAAUN,OAAV,CAAkB,0BAAlB,CAA8C7G,OAA9C,CAAsDgE,WAAtD,CAAmExD,IAAnE,CAFiD,CAGjD5B,CAAC,CAACuG,IAAF,CAAOF,mBAAP,CAA4B,SAAUmC,GAAV,CAAetB,KAAf,CAAsB,CACjD,GAA0B,CAAtB,EAAA1E,QAAQ,CAAC0E,KAAK,CAAC,CAAD,CAAN,CAAZ,CAA6B,CACxBT,IAAAA,eAAe,CAAGrB,WAAW,CAAC1B,IAAZ,CAAiB,UAAA,CAAY8E,GAAZ,CAAkB,KAAnC,CADM,CAExBC,SAAS,CAAGhC,eAAe,CAAC7E,IAAhB,CAAqB,WAArB,CAFY,CAG5B,GAAyC,MAArC,GAAAA,IAAI,CAAJ,MAAA,CAAA,IAAA,CAAuBsF,KAAK,CAAC,CAAD,CAA5B,CAAA,EAAoF,UAArC,GAAAtF,IAAI,CAAA,MAAJ,CAAuBsF,IAAAA,CAAAA,KAAK,CAAC,CAAD,CAA5B,CAAnD,CACCT,eAAe,CAAC5C,GAAhB,CAAoBjC,IAAI,CAAJ,MAAA,CAAA,WAAA,CAA8BsF,KAAK,CAAC,CAAD,CAAnC,CAApB,CADD,MAEgD,GAAA,eAArC,GAAAtF,IAAI,CAAJ,MAAA,CAAA,IAAA,CAAuBsF,KAAK,CAAC,CAAD,CAA5B,CAAJ,CAA0D,CAChE,IAAIwB,0BAA0B,CAAGtD,WAAW,CAAC1B,IAAZ,CAAiB,UAAA,CAAY8E,GAAZ,CAAkB,OAAnC,CAAjC,CACA,GAAwC,CAApC,CAAAE,0BAA0B,CAAC/E,MAA/B,CAA2C,CAAA,IACtCgF,YAAY,CAAGlC,eAAe,CAACT,IAAhB,CAAqB,UAArB,CADuB,CAEtC4C,WAAW,CAAGpG,QAAQ,CAAC0E,KAAK,CAAC,CAAD,CAAN,CAAR,CAAmB2B,KAAnB,CAAyB,QAAzB,CAFwB,CAGd,WAAxB,EAAA,OAAOF,YAAP,EAAuC,CAAAA,CAAAA,GAAAA,YAAvC,EAAsF,CAArB,CAAAC,WAAW,CAACjF,MAHvC,EAIzC+E,0BAA0B,CAAC7E,GAA3B,CAA+B+E,WAA/B,CAAA,CAA4CX,OAA5C,CAAoD,QAApD,EAED,CACD,CATM,KASIxB,GAAAA,CAAAA,eAAe,CAACqC,EAAhB,CAAmB,QAAnB,CAAJ,CAO8B,CAA1B,EAAArC,eAAe,CAAC9C,MAPpB,CAQN3D,CAAC,CAAC,wBAAD,CAAD,CAA4BgG,IAA5B,CAAiC,MAAjC,CAAyCwC,GAAzC,CAAA,CAA8CxC,IAA9C,CAAmD,OAAnD,CAA4DxD,QAAQ,CAAC0E,KAAK,CAAC,CAAD,CAAN,CAApE,CAAgF6B,CAAAA,QAAhF,CAAyF3D,WAAzF,CARM,CAUNqB,eAAe,CAAC5C,GAAhB,CAAoBrB,QAAQ,CAAC0E,KAAK,CAAC,CAAD,CAAN,CAA5B,CAVM,CACN,KAAA,GAAIT,eAAe,CAAC/C,IAAhB,CAAqB,iBAAA,CAAmBlB,QAAQ,CAAC0E,KAAK,CAAC,CAAD,CAAN,CAA3B,CAAwC,KAA7D,CAAmEvD,CAAAA,MAAvE,CACC8C,eAAe,CAAC5C,GAAhB,CAAoBrB,QAAQ,CAAC0E,KAAK,CAAC,CAAD,CAAN,CAA5B,CAAA,CAAwCe,OAAxC,CAAgD,QAAhD,CADD,CAEO,KAAA,GAAIxB,eAAe,CAAC7E,IAAhB,CAAqB,WAArB,CAAkCoH,CAAAA,cAAlC,CAAiDC,cAAjD,CAAgEzG,QAAQ,CAAC0E,KAAK,CAAC,CAAD,CAAN,CAAxE,CAAJ,CAAyF,CAC/F,IAAIgC,SAAS,CAAG,IAAIC,MAAJ,CAAW3G,QAAQ,CAAC0E,KAAK,CAAC,CAAD,CAAN,CAAnB,CAA+B1E,QAAQ,CAAC0E,KAAK,CAAC,CAAD,CAAN,CAAvC,CAAhB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACAT,eAAe,CAAC2C,MAAhB,CAAuBF,SAAvB,CAAkCjB,CAAAA,OAAlC,CAA0C,QAA1C,EACA,CAMF,IAAIoB,sBAAsB,CAAGjE,WAAW,CAAC1B,IAAZ,CAAiB,eAAiB8E,CAAAA,GAAjB,CAAuB,aAAxC,CAA7B,CACA,GAAoC,CAAhC,CAAAa,sBAAsB,CAAC1F,MAA3B,GACC0F,sBAAsB,CAACxF,GAAvB,CAA2BjC,IAAI,CAAJ,MAAA,CAAA,WAAA,CAA8BsF,KAAK,CAAC,CAAD,CAAnC,CAA3B,CAAA,CAAoElB,IAApE,CAAyE,UAAzE,CADD,CAAA,CAAA,CAAA,CAEwB,WAAnB,GAAAyC,SAAS,CAACpF,IAFf,CAEqC,CAAA,CACnC,IAAIiG,oBAAoB,CAAG7C,eAAe,CAACd,OAAhB,CAAwB,aAAxB,CAAuCjC,CAAAA,IAAvC,CAA4C,uBAA5C,CAA3B,CACkC,CAA9B,CAAA4F,oBAAoB,CAAC3F,MAArB,EAAmCuD,KAAK,CAAC,CAAD,CAFT,EAGlCoC,oBAAoB,CAACzF,GAArB,CAAyBqD,KAAK,CAAC,CAAD,CAA9B,CAAmCe,CAAAA,OAAnC,CAA2C,QAA3C,CAHkC,CAKnCL,YAAY,CAACD,sBAAb,CAAoC0B,sBAAsB,CAAC1D,OAAvB,CAA+B,aAA/B,CAApC,CAAmF,CAClFoC,IAAI,CAAEnG,IAAI,CAAA,MAAJ,CAA8BsF,WAAAA,CAAAA,KAAK,CAAC,CAAD,CAAnC,CAD4E,CAElFc,EAAE,CAAExF,QAAQ,CAAC0E,KAAK,CAAC,CAAD,CAAN,CAFsE,CAAnF,EAIA,CAEF,CACD,CA1CD,EA2CA,CA9CD,EA+CA,CACD,CAzLF,CA0LCqC,aAAa,CAAE,SAAUnI,aAAAA,CAAAA,MAAV,CAAkB,CAC5B+F,IAAAA,YAAY,CAAG,IAAK1D,CAAAA,OAAL,EAAeC,CAAAA,IAAf,mBAA8BtC,MAAM,CAAA,SAApC,CADa,KAAA,CAAA,CAAA,CAE5BqH,SAAS,CAAGtB,YAAY,CAACvF,IAAb,CAAkB,WAAlB,CAFgB,CAG5BuF,YAAY,CAAC2B,EAAb,CAAgB,QAAhB,CAH4B,CAI3B3B,YAAY,CAACzD,IAAb,CAAA,iBAAA,CAAA,MAAA,CAAmCtC,MAAM,CAAA,KAAzC,SAAwDuC,MAJ7B,CAK9BwD,YAAY,CAACtD,GAAb,CAAiBzC,MAAM,CAAA,KAAvB,EAAkC6G,OAAlC,CAA0C,QAA1C,CAL8B,CAMpBQ,SAAS,CAACO,cAAV,CAAyBC,cAAzB,CAAwC7H,MAAM,CAAA,KAA9C,CANoB,EAO9B+F,YAAY,CAACiC,MAAb,CAAoB,IAAID,MAAJ,CAAW/H,MAAM,CAAjB,KAAA,CAA4BA,MAAM,CAAlC,KAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAApB,CAA8E6G,CAAAA,OAA9E,CAAsF,QAAtF,CAP8B,CAU/Bd,YAAY,CAACtD,GAAb,CAAiBzC,MAAM,CAAvB,KAAA,EAED,CAtMF,CAuMCoI,oBAAoB,CAAE,SAAA,oBAAA,EAAY,CACjC,GAA+B,EAA3B,GAAA,IAAA,CAAKnE,iBAAT,CAAmC,CAClC,IAAIA,iBAAiB,CAAGrF,CAAC,CAAC,8BAAD,CAAzB,CAEC,IAAKqF,CAAAA,iBAH4B,CAE9BA,CAAAA,CAAAA,iBAAiB,CAAC1B,MAFY,EAGR0B,iBAAiB,CAACxB,GAAlB,GAI1B,CACD,OAAYwB,IAAAA,CAAAA,iBACZ,CAjNF,CAkNCoE,qBAAqB,CAAE,SAAA,qBAAA,EAAY,CAClC,OAAO,CAAA,CAAAzJ,CAAC,CAAC,iBAAD,CAAD,CAAqB2D,MAC5B,CApNF,CAqNC+F,iCAAiC,CAAE,SAAA,iCAAA,CAAUhE,SAAV,CAAqB,CAAA,IAAA,MAAA,CAAA,IAAA,CACvDA,SAAS,CAACiE,EAAV,CAAa,OAAb,CAAsB,eAAtB,CAAuC,SAACrC,CAAD,CAAO,CAC7C,MAAI,CAACD,eAAL,CAAqBC,CAArB,EACA,CAFD,CADuD,CAIvD,IAAIsC,UAAU,CAAGlE,SAAS,CAAChC,IAAV,CAAe,uBAAf,CAAjB,CACAmG,GAAG,CAACC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2CtE,SAAS,CAAChC,IAAV,CAAe,+BAAf,CAA3C,CALuD,CAMvDkG,UAAU,CAACD,EAAX,CAAc,QAAd,CAAwB,SAACrC,CAAD,CAAO,CAAA,IAC1B/B,OAAO,CAAGvF,CAAC,CAACsH,CAAC,CAAC2C,aAAH,CADe,CAE1B1C,UAAU,CAAGhC,OAAO,CAACI,OAAR,CAAgB,aAAhB,CAFa,CAG1BE,oBAAoB,CAAGN,OAAO,CAAC1B,GAAR,EAHG,CAI1BqG,sBAAsB,CAAGlK,CAAC,CAAC,sCAAD,CAAuCuH,UAAvC,CAJA,CAK1B4C,2BAA2B,CAAGD,sBAAsB,CAACrG,GAAvB,EALJ,CAM9BqG,sBAAsB,CAACrG,GAAvB,CAA2BgC,oBAA3B,CAN8B,CAQ1BsE,2BAA2B,EAAItE,oBARL,EAS7B0B,UAAU,CAAC7D,IAAX,CAAgB,0BAAhB,CAAA,CAA4CuE,OAA5C,CAAoD,OAApD,EAED,CAXD,EAYA,CAvOF,CAwOCmC,uBAAuB,CAAE,SAAA,uBAAA,CAAUC,YAAV,CAAwB,CAChD,OAAOrK,CAAC,CAAC,sCAAD,CAAuCqK,YAAvC,CAAD,CAAsDxG,GAAtD,EACP,CA1OF,CA2OCyG,iBAAiB,CAAE,SAAUlJ,iBAAAA,CAAAA,MAAV,CAAkB,CACpC,IAAIE,SAAS,CAAGtB,CAAC,CAACuB,QAAF,EAAhB,CAcA,OAb6B,WAAzB,EAAA,OAAOH,MAAM,CAACoE,MAalB,GAZCpE,MAAM,CAACoE,MAAP,CAAgB,IAAKhF,CAAAA,UAYtB,CAV6B,CAAA,WAAzB,EAAOY,OAAAA,MAAM,CAACmJ,MAUlB,GATCnJ,MAAM,CAACmJ,MAAP,CAAgB,WASjB,EAPA7H,YAAY,CAACC,OAAb,CAAqBvB,MAArB,CAAA,CACEwB,IADF,CACO,SAAUhB,IAAV,CAAgB,CACrBN,SAAS,CAACwB,OAAV,CAAkBlB,IAAlB,EACA,CAHF,CAAA,CAIEmB,IAJF,CAIO,UAAiB,CACtBzB,SAAS,CAACG,MAAV,GACA,CANF,CAOA,CAAOH,SAAS,CAACI,OAAV,EACP,CA3PF;AA6PD;AACA,KACE8I,wBAAwB,CAAE,SAAA,wBAAA,CAAUjF,OAAV,CAAmB,CAAA,IACxCkF,SAAS,CAAGzK,CAAC,CAACuF,OAAD,CAAD,CAAWI,OAAX,CAAmB,aAAnB,CAD4B,CAExCvE,MAAM,CAAG,EAF+B,CAGxCsJ,YAAY,CAAG,KAAKN,uBAAL,CAA6BK,SAA7B,CAHyB,CAK5C,OADArJ,MAAM,CAACuJ,aAAP,CAAuBD,YACvB,CAAOtJ,MACP,CArQF;AAuQD;AACA;AACA,KACEwJ,0BAA0B,CAAE,SAAUlF,0BAAAA,CAAAA,SAAV,CAAqB,CAC5CkC,IAAAA,YAAY,CAAG,IAD6B,CAE5CxC,WAAW,CAAGM,SAAS,CAACC,OAAV,CAAkB,MAAlB,CAF8B,CAGhDD,SAAS,CAAChC,IAAV,CAAe,oBAAf,EAAqCmH,YAArC,CAAkD,CACjDC,KAAK,CAAE,KAD0C,CAEjDC,SAAS,CAAE,GAFsC,CAGjDC,MAAM,CAAE,SAAA,MAAA,CAAUrI,OAAV,CAAmBH,QAAnB,CAA6B;AAEpC;AAFoC,IAGhCyI,YAAY,CAAGjL,CAAC,CAAC,IAAKuF,CAAAA,OAAL,CAAa,CAAb,CAAD,CAHgB,CAIhC2F,WAAW,CAAGvI,OAAO,CAACwI,IAJU,CAKhC/J,MAAM,CAAGwG,YAAY,CAAC4C,wBAAb,CAAsCS,YAAtC,CALuB,CAMpC7J,MAAM,CAACgK,YAAP,CAAsBF,WANc,CAOpC,IAAIjF,mBAAmB,CAAGjG,CAAC,CAAC,wBAAD,CAAyBoF,WAAzB,CAA3B,CACiC,CAA7B,CAAAa,mBAAmB,CAACtC,MAApB,EAAkCsC,mBAAmB,CAACpC,GAApB,EARF,GASnCzC,MAAM,CAAC0F,UAAP,CAAoBb,mBAAmB,CAACpC,GAApB,EATe,CAAA,CAWpC+D,YAAY,CAAC0C,iBAAb,CAA+BlJ,MAA/B,CAAA,CAAuCwB,IAAvC,CAA4C,SAAUhB,IAAV,CAAgB,CAAA,IACvDyJ,eAAe,CAAG,EADqC,CAEvDC,gBAAgB,CAAG1J,IAAI,CAACsC,MAF+B,CAU3D,IAAK,IAAI8D,EAAT,IAP+B,CAA3B,EAAAsD,gBAAgB,CAAC3H,MAOrB,GANC3D,CAAC,CAACiL,YAAD,CAAD,CAAgBpH,GAAhB,CAAoB,EAApB,CAMD,CALCyH,gBAAgB,CAAG,IAAIC,KAAJ,CAAU,CAC5BC,KAAK,CAAE/K,GAAG,CAACyB,UAAJ,CAAe,qBAAf,CADqB,CAE5BmB,IAAI,CAAE,YAFsB,CAAV,CAKpB,CAAeiI,CAAAA,gBAAf,CAAiC,CAChC,IAAIzI,YAAY,CAAGyI,gBAAgB,CAACtD,EAAD,CAAnC,CACAqD,eAAe,CAACI,IAAhB,CAAqB5I,YAArB,EACA,CACDL,QAAQ,CAAC6I,eAAD,CAdmD,CAe3D5K,GAAG,CAAC8H,KAAJ,CAAUN,OAAV,CAAkB,sBAAlB,CAA0C,CACzCyD,KAAK,CAAET,YADkC,CAEzC7J,MAAM,CAAEA,MAFiC,CAA1C,EAIA,CAnBD,EAoBA,CAlCgD,CAmCjDuK,MAAM,CAAE,SAAUpD,MAAAA,CAAAA,KAAV,CAAiBqD,EAAjB,CAAqB,CAC5B,IAAIC,gBAAgB,CAAGD,EAAE,CAACE,IAA1B,CACA;AACA,GAAqC,WAAjC,EAAA,OAAOD,gBAAgB,CAACxI,IAAxB,EAAyE,YAAzB,EAAAwI,gBAAgB,CAACxI,IAArE,CACC,OAAA,CAAA,CAAA,CAEDwI,gBAAgB,CAAC9D,IAAjB,CAAwB8D,gBAAgB,CAAC3E,KANb,CAAA,IAOxB3B,OAAO,CAAGvF,CAAC,CAAC,IAAD,CAPa,CAQxByK,SAAS,CAAGlF,OAAO,CAACI,OAAR,CAAgB,aAAhB,CARY,CAS5BiC,YAAY,CAACD,sBAAb,CAAoC8C,SAApC,CAA+CoB,gBAA/C,EACA,CA7CgD,CA8CjDE,MAAM,CAAE,SAAA,MAAA,EAAqB,CAC5B,IAAIxG,OAAO,CAAGvF,CAAC,CAAC,IAAD,CAAf,CACA;AACIuF,OAAO,CAACS,IAAR,CAAa,UAAb,CAAA,EAAA,IAHwB,EAI3BT,OAAO,CAACI,OAAR,CAAgB,aAAhB,CAAA,CAA+BjC,IAA/B,CAAoC,0BAApC,CAAgEuE,CAAAA,OAAhE,CAAwE,OAAxE,EAED,CApDgD,CAqDjD+D,IAAI,CAAE,SAAA,IAAA,EAAqB;AAE1BhM,CAAC,CAAC,IAAD,CAAD,CAAQ4B,IAAR,CAAa,iBAAb,CAAgCqK,CAAAA,IAAhC,CAAqC1G,OAArC,CAA6C2G,GAA7C,CAAiD,SAAjD,CAA4D,QAA5D,EACA,CAxDgD,CAAlD,EA0DA,CAvUF;AAyUD;AACA;AACA,KACEC,oCAAoC,CAAE,SAAA,oCAAA,CAAUzG,SAAV,CAAqB,CAC1D,IAAIkC,YAAY,CAAG,IAAnB,CACAlC,SAAS,CAACiE,EAAV,CAAa,OAAb,CAAsB,0BAAtB,CAAkD,SAAUrC,CAAV,CAAa,CAC9D,IAAI/B,OAAO,CAAGvF,CAAC,CAACsH,CAAC,CAAC2C,aAAH,CAAf,CACArC,YAAY,CAACwE,eAAb,CAA6B7G,OAA7B,CAF8D,CAG9DA,OAAO,CAACI,OAAR,CAAgB,aAAhB,CAAA,CAA+BjC,IAA/B,CAAoC,cAApC,CAAoDuE,CAAAA,OAApD,CAA4D/G,cAAc,CAACf,yBAA3E,CAH8D,CAI9DmH,CAAC,CAAC+E,cAAF,GACA,CALD,EAMA,CApVF,CAqVCD,eAAe,CAAE,SAAA,eAAA,CAAU7G,OAAV,CAAmB,CAAA,IAC7B+G,IAAI,CAAG,IADsB,CAE/BC,kBAAkB,CAAGhH,OAAO,CAACI,OAAR,CAAgB,aAAhB,CAFU,CAG/B6G,gBAAgB,CAAGD,kBAAkB,CAAC7I,IAAnB,CAAwB,cAAxB,CAHY,CAI/B+I,SAAS,CAAGD,gBAAgB,CAACxG,IAAjB,CAAsB,MAAtB,CAJmB,CAK/B0G,eAAe,CAAGH,kBAAkB,CAAC7I,IAAnB,CAAwB,sCAAxB,CAAA,CAA8DG,GAA9D,EALa,CAM/BuB,WAAW,CAAGmH,kBAAkB,CAAC5G,OAAnB,CAA2B,MAA3B,CANiB,CAOO,WAAtC,EAAA6G,gBAAgB,CAAC5K,IAAjB,CAAsB,WAAtB,CAP+B,CAQlC4K,gBAAgB,CAAC3I,GAAjB,CAAqB,CAArB,CARkC,CAUlC2I,gBAAgB,CAAC3I,GAAjB,CAAqB,EAArB,CAVkC,CAYnC0I,kBAAkB,CAChB7I,IADF,CACO,GAAM+I,CAAAA,SAAN,CAAkB,UADzB,CAAA,CAEEE,UAFF,CAEa,UAFb,CAGE9I,CAAAA,GAHF,CAGM,EAHN,CAZmC,CAgBnCpD,GAAG,CAAC8H,KAAJ,CAAUN,OAAV,CAAkB,qBAAlB,CAAyC,CACxCwE,SAAS,CAAEA,SAD6B,CAExCC,eAAe,CAAEA,eAFuB,CAAzC,CAhBmC,CAoBnC,IAAIrG,mBAAmB,CAAG,KAAKgC,sBAAL,CAA4BoE,SAA5B,CAAuCC,eAAvC,CAAwDtH,WAAxD,CAA1B,CACApF,CAAC,CAACuG,IAAF,CAAOF,mBAAP,CAA4B,SAAUmC,GAAV,CAAetB,KAAf,CAAsB,CACjD,IAAIT,eAAe,CAAGrB,WAAW,CAAC1B,IAAZ,CAAiB,UAAY8E,CAAAA,GAAZ,CAAkB,KAAnC,CAAtB,CACI/B,eAAe,CAACqC,EAAhB,CAAmB,QAAnB,CAF6C,CAGhDrC,eAAe,CAAC5C,GAAhB,CAAoB4C,eAAe,CAAC/C,IAAhB,CAAqB,cAArB,CAAqCG,CAAAA,GAArC,EAApB,CAAgEoE,CAAAA,OAAhE,CAAwE,QAAxE,CAHgD,CAKhDxB,eAAe,CAAC5C,GAAhB,CAAoB,EAApB,CALgD,CAOjD,IAAIwF,sBAAsB,CAAGjE,WAAW,CAAC1B,IAAZ,CAAiB,eAAiB8E,CAAAA,GAAjB,CAAuB,aAAxC,CAA7B,CACA,GAAoC,CAAhC,CAAAa,sBAAsB,CAAC1F,MAA3B,CAAuC,CACtC0F,sBAAsB,CAACxF,GAAvB,CAA2B,EAA3B,CAA+BmC,CAAAA,IAA/B,CAAoC,UAApC,CAAA,CAAA,CAAA,CADsC,CAEtC,IAAIsD,oBAAoB,CAAGlE,WAAW,CAAC1B,IAAZ,CAC1B,GAAM4I,CAAAA,IAAI,CAAC9L,UAAX,CAAwB,sBAAxB,CAAiDgI,GAAjD,CAAuD,WAD7B,CAA3B,CAGkC,CAA9B,CAAAc,oBAAoB,CAAC3F,MAArB,EAAmCuD,KAAK,CAAC,CAAD,CALN,EAMrCoC,oBAAoB,CAACzF,GAArB,CAAyByF,oBAAoB,CAAC5F,IAArB,CAA0B,cAA1B,EAA0CG,GAA1C,EAAzB,CAA0EoE,CAAAA,OAA1E,CAAkF,QAAlF,EAED,CACD,CAjBD,EAkBA,CA5XF;AA8XD;AACA;AACA,KACE2E,kCAAkC,CAAE,SAAUlH,kCAAAA,CAAAA,SAAV,CAAqB,CACxDA,SAAS,CAACiE,EAAV,CAAa,UAAb,CAAyB,SAAUrC,CAAV,CAAa;AAErC,IAAIuF,cAAc,CAAG7M,CAAC,CAACsH,CAAC,CAACE,MAAH,CAAtB,CACe,EAAX,EAAAF,CAAC,CAACwF,KAAF,EAAkBD,cAAc,CAAC/D,EAAf,CAAkB,UAAlB,CAHe,EAIpCxB,CAAC,CAAC+E,cAAF,GAED,CAND,EAOA,CAzYF,CA0YCU,kBAAkB,CAAE,SAAUrH,kBAAAA,CAAAA,SAAV,CAAqB,CACxCjF,GAAG,CAACuM,2BAAJ,EADwC,CAExCnD,GAAG,CAACC,MAAJ,CAAWmD,IAAX,CAAgBC,QAAhB,CAAyBxH,SAAzB,CAFwC,CAGxCmE,GAAG,CAACC,MAAJ,CAAWqD,QAAX,CAAoBD,QAApB,CAA6BxH,SAA7B,EACA,CA9YF,CA+YC0H,sBAAsB,CAAE,SAAU1H,sBAAAA,CAAAA,SAAV,CAAqB,CAAA,IACxCkC,YAAY,CAAG,IADyB,CAQxCxG,MAAM,CAAG,CAAEiM,gBAAgB,CANL,SAAtBC,mBAAsB,CAAU1L,IAAV,CAAgB,CACzCgG,YAAY,CAACD,sBAAb,CAAoCjC,SAApC,CAA+C,CAC9CqC,IAAI,CAAEnG,IAAI,CAACsC,MAAL,CAAYqJ,YAD4B,CAE9CvF,EAAE,CAAEpG,IAAI,CAACsC,MAAL,CAAYsJ,SAF8B,CAA/C,EAIA,CACY,CAR+B,CAS5C,GAA0B,MAAtB,GAAA/M,GAAG,CAACgN,WAAJ,IAAgC,CAAChN,GAAG,CAACkB,WAAJ,EAArC,CAAwD,KACnDyD,WAAW,CAAG,IAAA,CAAK3B,OAAL,EADqC,CAEnDiK,QAAQ,CAAGtI,WAAW,CAACuI,iBAAZ,EAFwC,CAGvD,IAAK,IAAIvJ,CAAT,IAAcsJ,QAAd,CACMA,QAAQ,CAACtJ,CAAD,CAAT,EAAqD,CAAC,CAAtC,EAAApE,CAAC,CAAC4N,OAAF,CAAUxJ,CAAV,CAAa,CAAC,OAAD,CAAU,QAAV,CAAb,CADrB,EAEE,OAAOsJ,QAAQ,CAACtJ,CAAD,CAFjB,CAKAhD,MAAM,CAACQ,IAAP,CAAc,EARyC,CASvDR,MAAM,CAACQ,IAAP,CAAYiM,gBAAZ,CAA+BH,SAC/B,CACD,IAAII,mBAAmB,CAAG,KAAK1D,uBAAL,CAA6B1E,SAA7B,CAA1B,CACAmE,GAAG,CAACkE,UAAJ,CAAeC,WAAf,CAA2BC,YAA3B,CAAwCH,mBAAxC,CAA6D1M,MAA7D,EACA,CAraF;AAuaD;AACA;AACA,KACE8M,uBAAuB,CAAE,SAAUxI,uBAAAA,CAAAA,SAAV,CAAqB,CAC7C,IAAIkC,YAAY,CAAG,IAAnB,CACAlC,SAAS,CAACiE,EAAV,CAAa,OAAb,CAAsB,wBAAtB,CAAgD,SAAUrC,CAAV,CAAa,CACxD/B,IAAAA,OAAO,CAAGvF,CAAC,CAACsH,CAAC,CAAC2C,aAAH,CAD6C,CAExDkE,iBAAiB,CAAG5I,OAAO,CAACI,OAAR,CAAgB,aAAhB,CAFoC,CAG5DiC,YAAY,CAACwF,sBAAb,CAAoCe,iBAApC,EACA,CAJD,EAKA,CAjbF,CAkbCC,oBAAoB,CAAE,CACrB,gBADqB,CAErB,aAFqB,CAGrB,eAHqB,CAIrB,eAJqB,CAKrB,eALqB,CAMrB,eANqB,CAOrB,eAPqB,CAQrB,eARqB,CASrB,eATqB,CAUrB,eAVqB,CAWrB,OAXqB,CAlbvB,CA+bCC,2BAA2B,CAAE,CAC5BC,uBAAuB,CAAE,GADG,CAE5BC,mBAAmB,CAAE,GAFO,CAG5BC,+BAA+B,CAAE,GAHL,CAI5BC,oBAAoB,CAAE,GAJM,CAK5BC,gCAAgC,CAAE,GALN,CA/b9B,CAscCC,iBAAiB,CAAA,CAAA,CAtclB;AAwcD;AACA,KACEC,2BAA2B,CAAE,SAAA,2BAAA,EAAY,CACxC,IAAIhH,YAAY,CAAG,IAAnB,CACA,IAAA,CAAKxC,WAAL,CACE1B,IADF,CAEE,kJAFF,CAIE6C,CAAAA,IAJF,CAIO,UAAY,CACbsI,IAAAA,KAAK,CAAG7O,CAAC,CAAC,IAAD,CADI,CAEbsJ,oBAAoB,CAAGuF,KAAK,CAACnL,IAAN,CAAW,uBAAX,CAFV,CAGjB,GAAkC,CAA9B,CAAA4F,oBAAoB,CAAC3F,MAAzB,CACC2F,oBAAoB,CAACK,EAArB,CAAwB,QAAxB,CAAkC,UAAY,CAC7C/B,YAAY,CAACxC,WAAb,CACE1B,IADF,CACO,iFADP,CAAA,CAEEoL,QAFF,CAEW,QAFX,CAD6C,CAI7ClH,YAAY,CAACmH,gCAAb,CAA8C/O,CAAC,CAAC,IAAD,CAAD,CAAQ6D,GAAR,EAA9C,CAA6DgL,KAAK,CAACnL,IAAN,CAAW,cAAX,CAAA,CAA2BsC,IAA3B,CAAgC,MAAhC,CAA7D,EACA,CALD,CADD,CAOCsD,oBAAoB,CAACrB,OAArB,CAA6B,QAA7B,CAPD,CAAA,KAQO,CACN,IAAI+G,eAAe,CAAGH,KAAK,CAACnL,IAAN,CAAW,iCAAX,CAAtB,CAC6B,CAAzB,CAAAsL,eAAe,CAACrL,MAFd,EAGLiE,YAAY,CAACmH,gCAAb,CACCC,eAAe,CAACnL,GAAhB,EADD,CAECgL,KAAK,CAACnL,IAAN,CAAW,cAAX,CAAA,CAA2BsC,IAA3B,CAAgC,MAAhC,CAFD,EAKD,CACD,CAxBF,CAFwC,CA2BxC,IAAKZ,CAAAA,WAAL,CAAiB1B,IAAjB,CAAsB,kBAAtB,CAA0C6C,CAAAA,IAA1C,CAA+C,UAAY,CAC1D,IAAI0I,oBAAoB,CAAA,CAAA,CAAxB,CACAjP,CAAC,CAAC,IAAD,CAAD,CACE0D,IADF,CACO,sBADP,CAEE6C,CAAAA,IAFF,CAEO,UAAY,CACb,CAAA,CAAA,EAAAvG,CAAC,CAAC,IAAD,CAAD,CAAQkP,QAAR,CAAiB,QAAjB,CADa,GAEhBD,oBAAoB,CAFJ,CAAA,CAAA,EAIjB,CANF,CAF0D,CAStDA,oBATsD,EAUzDjP,CAAC,CAAC,IAAD,CAAD,CAAQ0D,IAAR,CAAa,mBAAb,CAAkCoL,CAAAA,QAAlC,CAA2C,QAA3C,EAED,CAZD,CA3BwC,CAwCxC,IAAK1J,CAAAA,WAAL,CAAiB1B,IAAjB,CAAsB,sBAAtB,CAAA,CAA8CiG,EAA9C,CAAiD,OAAjD,CAA0D,UAAa,CAAA,IAClEpE,OAAO,CAAGvF,CAAC,CAAC,IAAD,CADuD,CAElE6O,KAAK,CAAGtJ,OAAO,CAACI,OAAR,CAAgB,kBAAhB,CAF0D,CAGlEwJ,IAAI,CAAG5J,OAAO,CAAC3D,IAAR,CAAa,OAAb,CAH2D,CAIlEwN,EAAE,CAAGP,KAAK,CAACjN,IAAN,CAAW,OAAX,CAJ6D,CAKtEgG,YAAY,CAACyH,WAAb,CAAyBF,IAAzB,CAA+BC,EAA/B,CACA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAND,CAxCwC,CA+CxC,IAAKhK,CAAAA,WAAL,CAAiB1B,IAAjB,CAAsB,yBAAtB,EAAiDiG,EAAjD,CAAoD,OAApD,CAA6D,UAAa,CAAA,IACrEpE,OAAO,CAAGvF,CAAC,CAAC,IAAD,CAD0D,CAErE6O,KAAK,CAAGtJ,OAAO,CAACI,OAAR,CAAgB,kBAAhB,CAF6D,CAGrEwJ,IAAI,CAAG5J,OAAO,CAAC3D,IAAR,CAAa,OAAb,CAH8D,CAIrEwN,EAAE,CAAGP,KAAK,CAACjN,IAAN,CAAW,OAAX,CAJgE,CAKzEgG,YAAY,CAACyH,WAAb,CAAyBF,IAAzB,CAA+BC,EAA/B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EACA,CAND,CA/CwC,CAsDxC,IAAA,CAAKhK,WAAL,CAAiB1B,IAAjB,CAAsB,0BAAtB,CAAA,CAAkDiG,EAAlD,CAAqD,OAArD,CAA8D,UAAa,CACtEpE,IAAAA,OAAO,CAAGvF,CAAC,CAAC,IAAD,CAD2D,CAEtE6O,KAAK,CAAGtJ,OAAO,CAACI,OAAR,CAAgB,kBAAhB,CAF8D,CAGtEwJ,IAAI,CAAG5J,OAAO,CAAC3D,IAAR,CAAa,OAAb,CAH+D,CAItEwN,EAAE,CAAGP,KAAK,CAACjN,IAAN,CAAW,OAAX,CAJiE,CAK1EgG,YAAY,CAACyH,WAAb,CAAyBF,IAAzB,CAA+BC,EAA/B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EACA,CAND,EAOA,CAvgBF,CAwgBCL,gCAAgC,CAAE,SAAUvO,gCAAAA,CAAAA,UAAV,CAAsBiM,SAAtB,CAAiC,CAClE,IAAMH,IAAI,CAAG,IAAb,CACkB,UAAd,EAAA9L,UAF8D,CAGjE8L,IAAI,CAACgD,2BAAL,CACC9O,UADD,CAEC8L,IAAI,CAAClH,WAFN,CAGC,wBAHD,CAICqH,SAJD,CAKC,6CALD,CAHiE,CAUzC,UAAd,EAAAjM,UAVuD,CAWjE8L,IAAI,CAACgD,2BAAL,CACC9O,UADD,CAEC8L,IAAI,CAAClH,WAFN,CAGC,wBAHD,CAICqH,SAJD,CAKC,6CALD,CAXiE,CAkBzC,OAAd,EAAAjM,UAlBuD,CAmBjE8L,IAAI,CAACgD,2BAAL,CACC9O,UADD,CAEC8L,IAAI,CAAClH,WAFN,CAGC,qBAHD,CAICqH,SAJD,CAKC,0CALD,CAnBiE,CA0BzC,SAAd,EAAAjM,UA1BuD,EA2BjE8L,IAAI,CAACgD,2BAAL,CACC9O,UADD,CAEC8L,IAAI,CAAClH,WAFN,CAGC,uBAHD,CAICqH,SAJD,CAKC,4CALD,EAQD,CA3iBF;AA6iBD;AACA,KACE6C,2BAA2B,CAAE,SAAA,2BAAA,CAAU9O,UAAV,CAAsB4E,WAAtB,CAAmCmK,SAAnC,CAA8C9C,SAA9C,CAAyDjB,KAAzD,CAAgE,CAC5F,IAAI5D,YAAY,CAAG,IAAnB,CACAxC,WAAW,CACT1B,IADF,CACO,GAAA,CAAM6L,SADb,CAEEC,CAAAA,WAFF,CAEc,QAFd,EAGE7F,EAHF,CAGK,OAHL,CAGc,UAAa,CACrBpE,IAAAA,OAAO,CAAGvF,CAAC,CAAC,IAAD,CADU,CAErByP,uBAAuB,CAAGzP,CAAC,CAAC,UAAA,CAAYyM,SAAZ,CAAwB,KAAzB,CAAD,CAAgC5I,GAAhC,EAFL,CAGzB,GAA+B,EAA3B,EAAA4L,uBAAuB,EAAqC,GAA3B,EAAAA,uBAArC,CACChP,GAAG,CAAC0C,UAAJ,CAAe,CACdC,IAAI,CAAE3C,GAAG,CAACyB,UAAJ,CAAesJ,KAAf,CADQ,CAEdnI,IAAI,CAAE,OAFQ,CAAf,CADD,MAKO,CACFqM,IAAAA,yBAAyB,CAAG1P,CAAC,CAAC,GAAA,CAAMyM,SAAN,CAAkB,UAAnB,CAAD,CAAgC5I,GAAhC,EAD1B,CAON+D,YAAY,CAAC+H,kBAAb,CACCpK,OAAO,CAAC3D,IAAR,CAAa,OAAb,CADD,CAEC2D,OAAO,CAACI,OAAR,CAAgB,kBAAhB,CAAA,CAAoC/D,IAApC,CAAyC,OAAzC,CAFD,CALW,CACVuG,MAAM,CAAEsH,uBADE,CAEV3H,YAAY,CAAE4H,yBAFJ,CAGVlK,MAAM,CAAEhF,UAHE,CAKX,CAIC+E,OAAO,CAACI,OAAR,CAAgB,kBAAhB,CAJD,CAPM,CAaNJ,OAAO,CAACS,IAAR,CAAa,SAAb,CAAwB,SAAxB,EACA,CACD,CA1BF,EA2BA,CA5kBF;AA8kBD;AACA,KACE2J,kBAAkB,CAAE,SAAUR,kBAAAA,CAAAA,IAAV,CAAgBC,EAAhB,CAAoBxN,IAApB,CAA0B8D,SAA1B,CAAqC,CAAA,IAAA,MAAA,CAAA,IAAA,CACxDjF,GAAG,CAAC6H,gBAAJ,CAAqB1G,IAArB,CAA2BgB,CAAAA,IAA3B,CAAgC,SAACJ,QAAD,CAAc,CAC7C,MAAI,CAACmM,iBAAL,CAAyBnM,QAAQ,CAAA,MADY,CAE7C,MAAI,CAAC6M,WAAL,CAAiBF,IAAjB,CAAuBC,EAAvB,CAAA,CAAA,CAAA,CAAiCxN,IAAI,CAAA,MAArC,CAF6C,CAG7CnB,GAAG,CAAC8H,KAAJ,CAAUN,OAAV,CAAkB,kBAAlB,CAAsC,MAAtC,CAA4CkH,IAA5C,CAAkDC,EAAlD,CAAsD5M,QAAtD,CAAgEZ,IAAhE,CAAsE8D,SAAtE,EACA,CAJD,EAKA,CAtlBF;AAwlBD;AACA;AACA,KACE2J,WAAW,CAAE,SAAUO,WAAAA,CAAAA,SAAV,CAAqBC,OAArB,CAA8BC,aAA9B,CAA6ClK,YAA7C,CAA2D,KACjEgC,YAAY,CAAG,IADkD,CAEnExC,WAAW,CAAG,IAAA,CAAK3B,OAAL,EAFqD,CAGtEsM,MAAM,GAHgE,CAItEC,cAAc,CAAG,IAAK5B,CAAAA,oBAJgD,CAKtE6B,QAAQ,CAAG,IAAK5B,CAAAA,2BALsD,CAMtEc,IAAI,CAAGc,QAAQ,CAACL,SAAD,CANuD,CAOnE,CAAA,CAAA,CAAA,GAAAE,aAAa,EAAc,CAAA,CAAA,GAAAlK,YAPwC,IAOhBuJ,IAAI,CAAGc,QAAQ,CAACL,SAAD,CAPC,CAQvE,CAAA,IACCpH,GADD,CAEC0H,WAFD,CAGCC,gBAHD,CAICC,eAJD,CAKCC,aALD,CAAIjB,EAAE,CAAGa,QAAQ,CAACJ,OAAD,CAAjB,CAMA,IAAKrH,GAAL,IAAYwH,cAAZ,CAA4B,CAC3BI,eAAe,CAAGJ,cAAc,CAACxH,GAAD,CAAd,CAAsB2G,IADb,CAE3BkB,aAAa,CAAGL,cAAc,CAACxH,GAAD,CAAd,CAAsB4G,EAFX,CAGvBU,aAHuB,EAI1BI,WAAW,CAAGtI,YAAY,CAAC+G,iBAAb,CAAA,IAAA,CAAuCyB,eAAvC,CAJY,CAK1BD,gBAAgB,CAAGvI,YAAY,CAAC+G,iBAAb,CAA8CyB,WAAAA,CAAAA,eAA9C,CALO,GAO1BF,WAAW,CAAG9K,WAAW,CAAC1B,IAAZ,CAAiB,UAAY0M,CAAAA,eAAZ,CAA8B,KAA/C,CAAqDvM,CAAAA,GAArD,EAPY,CAQ1BsM,gBAAgB,CAAG/K,WAAW,CAAC1B,IAAZ,CAAiB,UAAA,CAAY0M,eAAZ,CAA8B,aAA/C,CAAA,CAA6DvM,GAA7D,EARO,CAAA,CAU3B,IAAIyM,SAAS,CAAGlL,WAAW,CAAC1B,IAAZ,CAAiB,UAAA,CAAY2M,aAAZ,CAA4B,KAA7C,CAAhB,CACCE,cAAc,CAAGnL,WAAW,CAAC1B,IAAZ,CAAiB,UAAY2M,CAAAA,aAAZ,CAA4B,aAA7C,CADlB,CAEoB,EAAhB,GAAAH,WAAW,EAA2B,GAAhB,GAAAA,WAAtB,EAA6CA,WAAW,GAAA,KAAA,CAZjC,EAaE,CAAxB,CAAAK,cAAc,CAAC5M,MAbO,EAaK4M,cAAc,CAACvK,IAAf,CAAoB,UAApB,CAAA,CAAA,CAAA,CAbL,CAc1B+J,MAAM,GAdoB,CAe1BO,SAAS,CAACzM,GAAV,CAAcqM,WAAd,CAf0B,CAgB1BK,cAAc,CAAC1M,GAAf,CAAmBsM,gBAAnB,CAhB0B,CAiBtBG,SAAS,CAACxH,EAAV,CAAa,mBAAb,CAjBsB,GAkBrBwH,SAAS,CAACzM,GAAV,EAAA,GAAoBqM,WAlBC,EAmBxBI,SAAS,CAACzM,GAAV,CAAc,EAAd,CAnBwB,CAqBzByM,SAAS,CAACrI,OAAV,CAAkB,QAAlB,CArByB,CAAA,GAwB1BqI,SAAS,CAACzM,GAAV,CAAc,EAAd,CAxB0B,CAyB1ByM,SAAS,CAACtK,IAAV,CAAe,UAAf,CAAA,CAAA,CAAA,CAzB0B,EA2B3B,CACD,GAAI,CAAA,CAAA,GAAA+J,MAAJ,CAAsB,CACrB,IAAIS,QAAJ,CAECA,QAHoB,CAEA,UAAjB,GAAA5K,YAFiB,CAGT,8CAHS,CAIO,UAAjB,GAAAA,YAJU,CAKT,8CALS,CAOT,6BAPS,CASrBnF,GAAG,CAAC0C,UAAJ,CAAe,CACdC,IAAI,CAAE3C,GAAG,CAACyB,UAAJ,CAAesO,QAAf,CADQ,CAEdnN,IAAI,CAAE,OAFQ,CAAf,EAIA,CACD,CAnpBF,CAopBCoN,+BAA+B,CAAE,yCAAU/K,SAAV,CAAqB,CACjDkC,IAAAA,YAAY,CAAG,IADkC,CAEjD8I,YAAY,CAAGhL,SAAS,CAAChC,IAAV,CAAe,6BAAf,CAFkC,CAGrDgN,YAAY,CAAC/G,EAAb,CAAgBzI,cAAc,CAAChB,uBAA/B,CAAwD,SAAUoH,CAAV,CAAa1F,IAAb,CAAmB,CAC1E,IAAI+O,cAAc,CAAG3Q,CAAC,CAACsH,CAAC,CAAC2C,aAAH,CAAD,CAAmBtE,OAAnB,CAA2B,kBAA3B,CAArB,CACAiC,YAAY,CAACgJ,qBAAb,CAAmChP,IAAnC,CAAyC+O,cAAzC,EACA,CAHD,EAIA,CA3pBF,CA4pBCC,qBAAqB,CAAE,SAAUhP,qBAAAA,CAAAA,IAAV,CAAgB8D,SAAhB,CAA2B,CACjD,IAAIkC,YAAY,CAAG,IAAnB,CACAnH,GAAG,CACD6H,gBADF,CACmB1G,IADnB,CAEEgB,CAAAA,IAFF,CAEO,SAAUhB,IAAV,CAAgB,CACrB,IAAIY,QAAQ,CAAGZ,IAAI,CAAnB,MAAA,CACAgG,YAAY,CAACiJ,iBAAb,CAA+BrO,QAA/B,CAAyCkD,SAAzC,EACA,CALF,CAME3C,CAAAA,IANF,CAMO,UAAsB,EAN7B,EAOA,CArqBF,CAsqBC8N,iBAAiB,CAAE,SAAU3M,iBAAAA,CAAAA,MAAV,CAAkBwB,SAAlB,CAA6B,CAC/C,IAAK,IAAI8C,GAAT,IAAgBtE,MAAhB,CACoC,CAAC,CAAhC,EAAAsE,GAAG,CAACsI,OAAJ,CAAY,cAAZ,CADL,GAEuD,CAAjD,EAAApL,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY8E,GAAZ,CAAkB,KAAjC,CAAA,CAAuC7E,MAF7C,GAGG+B,SAAS,CAAChC,IAAV,CAAe,WAAY8E,GAAZ,CAAkB,KAAjC,CAAA,CAAuC3E,GAAvC,CAA2CK,MAAM,CAAN,IAAA,CAAesE,GAAf,CAA3C,CAHH,CAIG9C,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY8E,GAAZ,CAAkB,KAAjC,CAAuCxC,CAAAA,IAAvC,CAA4C,UAA5C,CAAA,CAAA,CAAA,CAJH,CAKGN,SAAS,CAAChC,IAAV,CAAe,UAAY8E,CAAAA,GAAZ,CAAkB,aAAjC,CAAA,CAA+C3E,GAA/C,CAAmDK,MAAM,CAAA,WAAN,CAAsBsE,GAAtB,CAAnD,CALH,CAMG9C,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY8E,GAAZ,CAAkB,aAAjC,EAA+CxC,IAA/C,CAAoD,UAApD,CAAA,CAAA,CAAA,CANH,CASqD,CAAA,CAAlD,EAAAN,SAAS,CAAChC,IAAV,CAAe,UAAY8E,CAAAA,GAAZ,CAAkB,MAAjC,CAAA,CAAwC7E,MAAxC,EACiD,CAAjD,EAAA+B,SAAS,CAAChC,IAAV,CAAe,UAAY8E,CAAAA,GAAZ,CAAkB,MAAjC,CAAA,CAAwC3E,GAAxC,EADA,EAEuB,CAAvB,EAAAK,MAAM,CAAA,IAAN,CAAesE,GAAf,CAXH,GAaG9C,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY8E,GAAZ,CAAkB,MAAjC,CAAwC3E,CAAAA,GAAxC,CAA4CK,MAAM,CAAA,IAAN,CAAesE,GAAf,CAA5C,CAbH,CAcG9C,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY8E,GAAZ,CAAkB,MAAjC,CAAA,CAAwCxC,IAAxC,CAA6C,UAA7C,CAdH,CAAA,CAAA,CAAA,CAeGN,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY8E,GAAZ,CAAkB,cAAjC,EAAgD3E,GAAhD,CAAoDK,MAAM,CAAA,WAAN,CAAsBsE,GAAtB,CAApD,CAfH,CAgBG9C,SAAS,CAAChC,IAAV,CAAe,WAAY8E,GAAZ,CAAkB,cAAjC,CAAA,CAAgDxC,IAAhD,CAAqD,UAArD,CAhBH,CAAA,CAAA,CAAA,CAAA,CAmBqD,CAAlD,EAAAN,SAAS,CAAChC,IAAV,CAAe,UAAY8E,CAAAA,GAAZ,CAAkB,MAAjC,EAAwC7E,MAAxC,EACiD,CAAjD,EAAA+B,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY8E,GAAZ,CAAkB,MAAjC,CAAA,CAAwC3E,GAAxC,EADA,EAEuB,CAAvB,EAAAK,MAAM,KAAN,CAAesE,GAAf,CArBH,GAuBG9C,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY8E,GAAZ,CAAkB,MAAjC,EAAwC3E,GAAxC,CAA4CK,MAAM,CAAA,IAAN,CAAesE,GAAf,CAA5C,CAvBH,CAwBG9C,SAAS,CAAChC,IAAV,CAAe,UAAY8E,CAAAA,GAAZ,CAAkB,MAAjC,CAAwCxC,CAAAA,IAAxC,CAA6C,UAA7C,CAAA,CAAA,CAAA,CAxBH,CAyBGN,SAAS,CAAChC,IAAV,CAAe,UAAY8E,CAAAA,GAAZ,CAAkB,cAAjC,CAAgD3E,CAAAA,GAAhD,CAAoDK,MAAM,CAAA,WAAN,CAAsBsE,GAAtB,CAApD,CAzBH,CA0BG9C,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY8E,GAAZ,CAAkB,cAAjC,CAAgDxC,CAAAA,IAAhD,CAAqD,UAArD,IA1BH,CA6BqD,CAAA,CAAlD,EAAAN,SAAS,CAAChC,IAAV,CAAe,UAAY8E,CAAAA,GAAZ,CAAkB,MAAjC,CAAA,CAAwC7E,MAAxC,EACiD,CAAjD,EAAA+B,SAAS,CAAChC,IAAV,CAAe,UAAY8E,CAAAA,GAAZ,CAAkB,MAAjC,CAAwC3E,CAAAA,GAAxC,EADA,EAEuB,CAAvB,EAAAK,MAAM,CAAN,IAAA,CAAesE,GAAf,CA/BH,GAiCG9C,SAAS,CAAChC,IAAV,CAAe,UAAY8E,CAAAA,GAAZ,CAAkB,MAAjC,CAAwC3E,CAAAA,GAAxC,CAA4CK,MAAM,CAAA,IAAN,CAAesE,GAAf,CAA5C,CAjCH,CAkCG9C,SAAS,CAAChC,IAAV,CAAe,UAAY8E,CAAAA,GAAZ,CAAkB,MAAjC,CAAA,CAAwCxC,IAAxC,CAA6C,UAA7C,IAlCH,CAmCGN,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY8E,GAAZ,CAAkB,cAAjC,CAAgD3E,CAAAA,GAAhD,CAAoDK,MAAM,YAAN,CAAsBsE,GAAtB,CAApD,CAnCH,CAoCG9C,SAAS,CAAChC,IAAV,CAAe,WAAY8E,GAAZ,CAAkB,cAAjC,CAAgDxC,CAAAA,IAAhD,CAAqD,UAArD,CApCH,CAAA,CAAA,CAAA,CAAA,EAwCA,CA/sBF,CAgtBC+K,kBAAkB,CAAE,SAAA,kBAAA,CAAUrL,SAAV,CAAqB,CACxCA,SAAS,CAAChC,IAAV,CAAe,kBAAf,CAAA,CAAmCsN,SAAnC,GACA,CAltBF,CAmtBCC,mBAAmB,CAAE,8BAAY,CAChC,IAAIC,YAAY,CAAG,IAAA,CAAKzN,OAAL,EAAnB,CACAyN,YAAY,CAACvH,EAAb,CAAgB,QAAhB,CAA0B,SAAUrC,CAAV,CAAa;AAEtC,GAA2C,WAAvC,EAAA,OAAO4J,YAAY,CAACtP,IAAb,CAAkB,QAAlB,CAAX,CACC,OAUA,CAAA,CAAA,CAAA,GARAG,QAAQ,CAACC,cAAT,CAA0BhC,CAAC,CAACqB,iBAAF,CAAoB,CAC7CY,OAAO,CAAExB,GAAG,CAACyB,UAAJ,CAAe,qBAAf,CADoC,CAE7CC,QAAQ,CAAE,MAFmC,CAG7CC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CADG,CAHkC,CAApB,CAQ1B,CADA6O,YAAY,CAACxN,IAAb,CAAkB,kBAAlB,EAAsCA,IAAtC,CAA2C,mBAA3C,CAAA,CAAgE8L,WAAhE,CAA4E,QAA5E,CACA,CAAI0B,YAAY,CAAC9I,gBAAb,CAA8B,UAA9B,CAAJ,CAA+C,CAE9C8I,YAAY,CAACtP,IAAb,CAAkB,QAAlB,CAA4B,MAA5B,CAF8C,CAG9C;AACA,IAAIuP,kBAAkB,CAAGnR,CAAC,CAACoR,KAAF,CAAQlQ,cAAc,CAACd,aAAvB,CAAzB,CACA8Q,YAAY,CAACjJ,OAAb,CAAqBkJ,kBAArB,CAAyC,CAAEjK,KAAK,CAAE,MAAT,CAAzC,CAL8C,CAM1CiK,kBAAkB,CAACE,kBAAnB,EAN0C,GAQ7CtP,QAAQ,CAACC,cAAT,CAAwBX,iBAAxB,CAA0C,CAAEoB,IAAI,CAAE,MAAR,CAA1C,CAR6C,CAS7CyO,YAAY,CAACI,UAAb,CAAwB,QAAxB,CAT6C,CAU7ChK,CAAC,CAAC+E,cAAF,EAV6C,EAY9C,CAZD;AAcCtK,QAAQ,CAACC,cAAT,CAAwBX,iBAAxB,CAA0C,CAAEoB,IAAI,CAAE,MAAR,CAA1C,CAdD,CAeCyO,YAAY,CAACI,UAAb,CAAwB,QAAxB,CAfD,CAgBC7Q,GAAG,CAAC8Q,4BAAJ,CAAiCL,YAAjC,EAGF,CAhCD,EAiCA,CAtvBF;AAwvBD;AACA,KACEM,+BAA+B,CAAE,SAAU9M,+BAAAA,CAAAA,IAAV,CAAgB,CAAA,IAAA,MAAA,CAAA,IAAA,CAChDA,IAAI,CAACiF,EAAL,CAAQzI,cAAc,CAACd,aAAvB,CAAsC,SAACkH,CAAD,CAAa,CAClD,MAAI,CAACmK,iBAAL,CAAuB/M,IAAvB,CAA6B9B,CAAAA,IAA7B,CAAkC,SAACJ,QAAD,CAAc,CAC3C,CAAAA,CAAAA,GAAAA,QAD2C,EAE9C8E,CAAC,CAAC+E,cAAF,GAED,CAJD,EAKA,CAND,EAOA,CAlwBF,CAmwBCoF,iBAAiB,CAAE,SAAA,iBAAA,CAAU/M,IAAV,CAAgB,CAClC,IAAMpD,SAAS,CAAGtB,CAAC,CAACuB,QAAF,EAAlB,CACA,GAAImD,IAAI,CAAChB,IAAL,CAAU,oBAAV,CAAgCG,CAAAA,GAAhC,EAAJ,CAA2C,CAC1C9B,QAAQ,CAACC,cAAT,CAA0BhC,CAAC,CAACqB,iBAAF,CAAoB,CAC7CY,OAAO,CAAExB,GAAG,CAACyB,UAAJ,CAAe,qBAAf,CADoC,CAE7CC,QAAQ,CAAE,MAFmC,CAG7CC,SAAS,CAAE,CACVC,OAAO,CADG,CAAA,CAAA,CAHkC,CAApB,CADgB,CAQ1C,IAAIqL,QAAQ,CAAG,IAAIgE,QAAJ,CAAahN,IAAI,CAAC,CAAD,CAAjB,CAAf,CACAgJ,QAAQ,CAACtE,MAAT,CAAgB,MAAhB,CAAwB,mBAAxB,CAT0C,CAU1C1G,YAAY,CAACC,OAAb,CAAqB,CACpBd,KAAK,CADe,CAAA,CAAA,CAEpBiD,GAAG,CAAE,WAFe,CAGpBzB,IAAI,CAAE,MAHc,CAIpBzB,IAAI,CAAE8L,QAJc,CAKpBiE,WAAW,CALS,CAAA,CAAA,CAMpBC,WAAW,CAAA,CAAA,CANS,CAArB,CAQEhP,CAAAA,IARF,CAQO,SAAChB,IAAD,CAAU,CACfG,QAAQ,CAACC,cAAT,CAAwBX,iBAAxB,CAA0C,CAAEoB,IAAI,CAAE,MAAR,CAA1C,CADe,CAEXD,IAAAA,QAAQ,CAAGZ,IAAI,CAACsC,MAFL,CAAA,MAAA,CAAA,SAGNE,CAHM,CAAA,CAId,GAAI,CAAA,CAAA,GAAA5B,QAAQ,CAAC4B,CAAD,CAAR,CAAYF,MAAhB,CAAiC,CAChC,GAAyB,SAArB,GAAA1B,QAAQ,CAAC4B,CAAD,CAAR,CAAYf,IAAZ,EAA8D,WAA5B,SAAOb,QAAQ,CAAC4B,CAAD,CAAR,CAAYC,IAAzD,CAkBC,OAjBA5D,GAAG,CAAC6D,gBAAJ,CAAqB,CACpBlB,IAAI,CAAEZ,QAAQ,CAAC4B,CAAD,CAAR,CAAYnC,OAAZ,EAAuB,EADT,CAEpBsC,iBAAiB,CAAE,SAAA,iBAAA,EAAM,CACxB,IAAIC,QAAQ,CAAG,EAAf,CACCqN,cAAc,CAAGnN,IAAI,CAAChB,IAAL,CAAU,8BAAV,CADlB,CAEImO,cAAc,CAAClO,MAHK,GAIvBa,QAAQ,CAAGT,IAAI,CAACC,KAAL,CAAW6N,cAAc,CAAChO,GAAf,EAAX,CAJY,CAKvBgO,cAAc,CAACC,MAAf,EALuB,CAOxBtN,CAAAA,QAAQ,CAACJ,CAAD,CAAR,CAAc5B,QAAQ,CAAC4B,CAAD,CAAR,CAAYC,IAPF,CAQxBK,IAAI,CAAC0E,MAAL,CACCpJ,CAAC,CAAC,SAAD,CAAY,CAAE+H,IAAI,CAAE,cAAR,CAAwBb,KAAK,CAAEnD,IAAI,CAACE,SAAL,CAAeO,QAAf,CAA/B,CAAyDnB,IAAI,CAAE,QAA/D,CAAZ,CADF,CARwB,CAWxBqB,IAAI,CAACqN,MAAL,GACA,CAdmB,CAArB,CAiBA,CADAzQ,SAAS,CAACwB,OAAV,IACA,CAEiC,OAAA,CAAA,WAAjC,EAAON,OAAAA,QAAQ,CAAC4B,CAAD,CAAR,CAAYS,SAAnB,EACqC,WAArC,EAAOrC,OAAAA,QAAQ,CAAC4B,CAAD,CAAR,CAAYS,SAAZ,CAAsBC,GAtBE,CAwB/BrE,GAAG,CAACsE,eAAJ,CAAoB,IAApB,CAA0BvC,QAAQ,CAAC4B,CAAD,CAAR,CAAYS,SAAZ,CAAsBC,GAAhD,CAAqD,SAAUE,cAAV,CAA0B,CAC9EvE,GAAG,CAACwE,uBAAJ,CAAA,KAAA,CAAA,CAAuCD,cAAvC,CAAuD,SAAUE,CAAV,CAAarE,QAAb,CAAuB,CAC7EA,QAAQ,CAACsE,aAAT,CAAyBT,KACzB,CAFD,EAGA,CAJD,CAxB+B,CA8B/BjE,GAAG,CAAC0C,UAAJ,CAAe,CACdC,IAAI,CAAEZ,QAAQ,CAAC4B,CAAD,CAAR,CAAYnC,OAAZ,CAAsBO,QAAQ,CAAC4B,CAAD,CAAR,CAAYnC,OAAlC,CAA4CxB,GAAG,CAACyB,UAAJ,CAAe,UAAf,CADpC,CAEdmB,IAAI,CAAE,OAFQ,CAAf,CA9B+B,CAmC5Bb,QAAQ,CAAC4B,CAAD,CAAR,CAAY4N,UAAZ,EAnC4B,IAAA,EAoC/BtN,IAAI,CAAChB,IAAL,CAAU,UAAYlB,CAAAA,QAAQ,CAAC4B,CAAD,CAAR,CAAY4N,UAAxB,CAAqC,KAA/C,CAAqDC,CAAAA,KAArD,GAED,CA1Ca,CAGf,CAAA,IAAK,IAAI7N,CAAT,IAAc5B,QAAd,CAAwB,CAAA,IAAA,KAAA,CAAA,MAAA,CAAf4B,CAAe,CAAA,CAAA,GAAA,OAAA,GAAA,KAAA,CAoBrB,KAoBF,CACD9C,SAAS,CAACwB,OAAV,CAAwC,CAAtB,EAAAlB,IAAI,CAACsC,MAAL,CAAYP,MAA9B,EACA,CArDF,CAsDEZ,CAAAA,IAtDF,CAsDO,SAACE,UAAD,CAAaC,WAAb,CAA6B,CAClCnB,QAAQ,CAACC,cAAT,CAAwBX,iBAAxB,CAA0C,CAAEoB,IAAI,CAAE,MAAR,CAA1C,CADkC,CAElChC,GAAG,CAAC0C,UAAJ,CAAe,CACdC,IAAI,CAAE3C,GAAG,CAACyB,UAAJ,CAAe,UAAf,CADQ,CAEdmB,IAAI,CAAE,OAFQ,CAAf,CAFkC,CAMlC5C,GAAG,CAACyR,QAAJ,CAAajP,UAAb,CAAyBC,WAAzB,CANkC,CAOlC5B,SAAS,CAACwB,OAAV,CACA,CAAA,CAAA,EAAA,CA9DF,EA+DA,CAzED,KA0ECxB,SAAS,CAACwB,OAAV,CA1ED,CAAA,CAAA,CAAA,CA6EA,OAAOxB,SAAS,CAACI,OAAV,EACP,CAn1BF;AAq1BD;AACA;AACA,KACEyQ,uCAAuC,CAAE,SAAUzM,uCAAAA,CAAAA,SAAV,CAAqB,CAC7D,IAAI0M,sBAAsB,CAAGpS,CAAC,CAAC,+BAAD,CAAgC0F,SAAhC,CAA9B,CACA,GAAqC,EAAA,CAAjC,EAAA0M,sBAAsB,CAACzO,MAA3B,CAAA,CAAA,CAAA,IAGI0O,yBAAyB,CAAGtO,IAAI,CAACC,KAAL,CAAWoO,sBAAsB,CAACvO,GAAvB,EAAX,CAHhC,CAKIyO,eAAe,CAAGC,MAAM,CAACC,IAAP,CAAYH,yBAAZ,CALtB,CAMA,GAAA,EAA8B,CAA1B,EAAAC,eAAe,CAAC3O,MAApB,CAIA,CAAA,CAAA,IACCS,CADD,CAAIqO,mBAAmB,CAAG,EAA1B,CAEA,IAAKrO,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGkO,eAAe,CAAC3O,MAAhC,CAAwCS,CAAC,EAAzC,CACCqO,mBAAmB,CAAChH,IAApB,CAAyB,UAAA,CAAY6G,eAAe,CAAClO,CAAD,CAA3B,CAAiC,KAA1D,CAAA,CAEDqO,mBAAmB,CAAGA,mBAAmB,CAACC,IAApB,CAAyB,GAAzB,CATtB,CAUA,IAAIC,sBAAsB,CAAGjN,SAAS,CAAChC,IAAV,CAAe+O,mBAAf,CAA7B,CAEAE,sBAAsB,CAAChJ,EAAvB,CAA0B,QAA1B,CAAoC,SAAUrC,CAAV,CAAa,CAChD,IAAIuF,cAAc,CAAG7M,CAAC,CAACsH,CAAC,CAAC2C,aAAH,CAAtB,CACC2I,0BAA0B,CAAGP,yBAAyB,CAACxF,cAAc,CAAC7G,IAAf,CAAoB,MAApB,CAAD,CADvD,CAEC6M,kCAAkC,CAAGD,0BAA0B,CAAC/F,cAAc,CAAChJ,GAAf,EAAD,CAFhE,CAGCiP,WAAW,CAAGF,0BAA0B,CAHzC,WAAA,CAKkD,WAA9C,EAAA,OAAOC,kCANqC,GAO/CA,kCAAkC,CAAGC,WAPU,CAAA,CAShD9S,CAAC,CAACuG,IAAF,CAAOuM,WAAP,CAAoB,SAAUC,kBAAV,CAA8BC,oBAA9B,CAAoD,CACvE,IAAIC,iBAAiB,CAAGJ,kCAAkC,CAACE,kBAAD,CAA1D,CACiC,WAA7B,EAAA,OAAOE,iBAF4D,GAGtEA,iBAAiB,CAAGD,oBAHkD,CAAA,CAKvE,IAAIE,cAAc,CAAGlT,CAAC,CAAC,UAAA,CAAY+S,kBAAZ,CAAiC,KAAlC,CAAwCrN,SAAxC,CAAtB,CACA,GAA6B,EAAA,CAAzB,EAAAwN,cAAc,CAACvP,MAAnB,CAIA,CAAA,CAAA,IAAIwP,sBAAsB,CAAGD,cAAc,CAACtR,IAAf,CAAoB,kBAApB,CAA7B,CACsC,WAAlC,EAAOuR,OAAAA,sBALX,GAMCA,sBAAsB,CAAGnT,CAAC,CAAC,QAAD,CAAWkT,cAAX,CAN3B,CAOCA,cAAc,CAACtR,IAAf,CAAoB,mBAApB,CAAyCuR,sBAAzC,CAPD,CAAA,CAUA,IAAIC,aAAa,CAAG,IAAIpT,CAAxB,CACCqT,cAAc,CAAG,EADlB,CAGA,IADAA,cAAc,CAAC5H,IAAf,CAAoB,EAApB,CACA,CAAKrH,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAG6O,iBAAiB,CAACtP,MAAlC,CAA0CS,CAAC,EAA3C,CACCiP,cAAc,CAAC5H,IAAf,CAAoBwH,iBAAiB,CAAC7O,CAAD,CAArC,CAAA,CAGDpE,CAAC,CAACuG,IAAF,CAAO4M,sBAAP,CAA+B,SAAU/O,CAAV,CAAakD,CAAb,CAAgB,CACA,CAAC,CAA3C,GAAAtH,CAAC,CAAC4N,OAAF,CAAU5N,CAAC,CAACsH,CAAD,CAAD,CAAKzD,GAAL,EAAV,CAAsBwP,cAAtB,CAD0C,GAE7CD,aAAa,CAAGA,aAAa,CAACE,GAAd,CAAkBtT,CAAC,CAACsH,CAAD,CAAnB,CAF6B,EAI9C,CAJD,CAjBA,CAsBA4L,cAAc,CAACK,IAAf,CAAoBH,aAApB,CAAA,CAAmCvP,GAAnC,CAAuCuP,aAAa,CAACI,MAAd,CAAqB,YAArB,CAAmC3P,CAAAA,GAAnC,EAAvC,CAAA,CAAiFoE,OAAjF,CAAyF,QAAzF,EAtBA,CAuBA,CA7BD,EA8BA,CAvCD,CAZA,CAsDA0K,sBAAsB,CAAC1K,OAAvB,CAA+B,QAA/B,EAtDA,CANA,CA6DA,CAv5BF,CAw5BCwL,8BAA8B,CAAE,SAAU/O,8BAAAA,CAAAA,IAAV,CAAgB,CAC/C,GACqB,WAApB,SAAOgP,QAAP,EAC8B,WAA9B,EAAOA,OAAAA,QAAQ,CAACC,SADhB,EAEApB,MAAM,CAACC,IAAP,CAAYkB,QAAQ,CAACC,SAArB,CAAgChQ,CAAAA,MAHjC,CAKC+P,QAAQ,CAAC/J,EAAT,CAAY,eAAZ,CAA6B,UAAa,CACzC,IAAIiK,eAAe,CAAGlP,IAAI,CAACmP,SAAL,EAAtB,CACA7S,MAAM,CAAC8S,cAAP,CAAwB,UAAa,CACpC,GAAIF,eAAe,EAAIlP,IAAI,CAACmP,SAAL,EAAnB,EAA8D,MAAvB,EAAAnP,IAAI,CAAC9C,IAAL,CAAU,QAAV,CAA3C,CACC,OAAOnB,GAAG,CAACyB,UAAJ,CAAe,yBAAf,CAER,EACD,CAPD,CALD,CAAA,KAaO,CACN,IAAI0R,eAAe,CAAGlP,IAAI,CAACmP,SAAL,EAAtB,CACA7S,MAAM,CAAC8S,cAAP,CAAwB,UAAa,CACpC,GAAIF,eAAe,EAAIlP,IAAI,CAACmP,SAAL,EAAnB,EAA8D,MAAvB,EAAAnP,IAAI,CAAC9C,IAAL,CAAU,QAAV,CAA3C,CACC,OAAOnB,GAAG,CAACyB,UAAJ,CAAe,yBAAf,CAER,EACD,CACD,CA96BF,CA+6BC6R,eAAe,CAAE,SAAY,eAAA,EAAA,CAAA,IACxBC,GAAG,CAAGhU,CAAC,CAAC,YAAD,CAAD,CAAgBiU,OAAhB,CAAwB,WAAxB,CADkB,CAExBC,EAAE,CAAGlU,CAAC,CAAC,YAAD,CAAD,CAAgBmU,MAAhB,EAFmB,CAG5BnU,CAAC,CAACgU,GAAD,CAAD,CAAOtQ,IAAP,CAAY,aAAZ,CAAA,CAA2BoO,MAA3B,EAH4B,CAI5B9R,CAAC,CAACkU,EAAD,CAAD,CAAM1E,WAAN,CAAkB,WAAlB,CAJ4B,CAK5BxP,CAAC,CAACkU,EAAD,CAAD,CAAMpF,QAAN,CAAe,WAAf,EACA,CAr7BF;AAu7BD;AACA,KACEsF,sBAAsB,CAAE,SAAY,sBAAA,EAAA,CAAA,IAAA,MAAA,CAAA,IAAA,CAC/B1P,IAAI,CAAG,IAAKjB,CAAAA,OAAL,EADwB,CAEnCzD,CAAC,CAACuG,IAAF,CAAO7B,IAAI,CAAChB,IAAL,CAAU,4CAAV,CAAP,CAAgE,SAAC8E,GAAD,CAAM5G,IAAN,CAAe,CAC9E,MAAI,CAACyS,iBAAL,CAAuBrU,CAAC,CAAC4B,IAAD,CAAxB,EACA,CAFD,EAGA,CA97BF,CA+7BCyS,iBAAiB,CAAE,SAAUC,iBAAAA,CAAAA,kBAAV,CAA8B,CAChDzK,GAAG,CAACC,MAAJ,CAAWyK,IAAX,CAAgBC,MAAhB,CAAuBtH,QAAvB,CAAgCoH,kBAAhC,EACA,CAj8BF,CAk8BCG,gBAAgB,CAAE,SAAU/P,gBAAAA,CAAAA,IAAV,CAAgB,CAC5BA,IAD4B,GAEhCA,IAAI,CAAG,IAAA,CAAKjB,OAAL,EAFyB,CAIjChD,CAAAA,GAAG,CAACiU,sBAAJ,CAA2BhQ,IAAI,CAAChB,IAAL,CAAU,eAAV,CAA3B,EACA,CAv8BF,CAw8BCiR,8BAA8B,CAAE,SAAA,8BAAA,EAAY,CACvCC,IAAAA,MAAM,CAAG,IAAA,CAAKnR,OAAL,EAAA,CAAeC,IAAf,CAAoB,kBAApB,CAD8B,CAEvC8B,MAAM,CAAG,IAAKhF,CAAAA,UAFyB,CAG3CoU,MAAM,CAACrO,IAAP,CAAY,SAAUC,KAAV,CAAiBqI,KAAjB,CAAwB,CACnC,IAAIgG,YAAY,CAAG7U,CAAC,CAAC6O,KAAD,CAApB,CAEwD,CAAvD,GAAAgG,YAAY,CAACnR,IAAb,CAAkB,wBAAlB,CAA4CC,CAAAA,MAA5C,EACoE,CAApE,GAAAkR,YAAY,CAACnR,IAAb,CAAkB,qCAAlB,CAAA,CAAyDC,MAJvB,EAMlCkR,YAAY,CAAC/F,QAAb,CAAsB,QAAtB,CANkC,CAQnC,IAAIgG,WAAW,CAAGD,YAAY,CAAC7O,IAAb,CAAkB,cAAlB,CAAlB,CACA,GAAI,OAAA,CAAO8O,WAAP,CAAA,GAAA,WAAA,EAA2C,CAAAA,CAAAA,GAAAA,WAA/C,CAAsE,CAAA,IACjEC,sBAAsB,CAAGF,YAAY,CAACnR,IAAb,CAAkB,kBAAlB,CAAA,CAAsCsR,GAAtC,CAA0C,SAA1C,CADwC,CAEjEC,YAAY,CAAGJ,YAAY,CAACnR,IAAb,CAAkB,eAAlB,CAFkD,CAGjEwR,OAAO,CAAGH,sBAAsB,CAACnT,IAAvB,CAA4B,IAA5B,CAHuD,CAKjEsF,KAAK,CAAGzG,GAAG,CAAC0U,QAAJ,CADG3P,MAAM,CAAG,GAAT,CAAe0P,OAClB,CAAuB,IAAvB,CALyD,CAMxD,IAAT,EAAAhO,KANiE,GAOvD,CAAT,EAAAA,KAPgE,EAQnE6N,sBAAsB,CAACjG,QAAvB,CAAgC,QAAhC,CARmE,CASnE+F,YAAY,CAACnR,IAAb,CAAkB,oBAAlB,CAAA,CAAwC8L,WAAxC,CAAoD,QAApD,CATmE,CAUnEyF,YAAY,CAACzF,WAAb,CAAyB,QAAzB,CAVmE,GAYnEuF,sBAAsB,CAACjG,QAAvB,CAAgC,QAAhC,CAZmE,CAanE+F,YAAY,CAACnR,IAAb,CAAkB,oBAAlB,CAAA,CAAwC8L,WAAxC,CAAoD,QAApD,CAbmE,CAcnEyF,YAAY,CAACnG,QAAb,CAAsB,QAAtB,CAdmE,CAiBrE,EAAA,CACD,CA3BD,EA4BA,CAv+BF;AAy+BD;AACA,KACEsG,qBAAqB,CAAE,SAAY,qBAAA,EAAA,CAClC,KAAK3R,OAAL,EAAA,CACEC,IADF,CACO,kBADP,CAAA,CAEE6C,IAFF,CAEO,SAAUC,KAAV,CAAiBqI,KAAjB,CAAwB,CAC7B,IAAIgG,YAAY,CAAG7U,CAAC,CAAC6O,KAAD,CAApB,CAC2D,CAAvD,GAAAgG,YAAY,CAACnR,IAAb,CAAkB,wBAAlB,CAA4CC,CAAAA,MAFnB,GAG4C,CAApE,GAAAkR,YAAY,CAACnR,IAAb,CAAkB,qCAAlB,CAAA,CAAyDC,MAHjC,CAI3BkR,YAAY,CAAC/F,QAAb,CAAsB,QAAtB,CAJ2B,CAM3B+F,YAAY,CAACrF,WAAb,CAAyB,QAAzB,CAN2B,EAS7B,CAXF,EAYA,CAx/BF,CAy/BC6F,uBAAuB,CAAE,SAAA,uBAAA,EAAY,CACpC,IAAM/I,IAAI,CAAG,IAAb,CACA,KAAK7I,OAAL,EAAA,CACEC,IADF,CACO,oBADP,EAEE6C,IAFF,CAEO,SAAUC,KAAV,CAAiBsF,IAAjB,CAAuB,CACxBwJ,IAAAA,MAAM,CAAGtV,CAAC,CAAC8L,IAAD,CADc,CAExBpG,SAAS,CAAG4P,MAAM,CAAC3P,OAAP,CAAe,mBAAf,CAFY,CAGxB4P,KAAK,CAAGD,MAAM,CAAC5R,IAAP,CAAY,sBAAZ,CAHgB,CAI5B6R,KAAK,CAAC1K,YAAN,CAAmB,CAClBG,MAAM,CAAE,SAAA,MAAA,CAAUrI,OAAV,CAAmBH,QAAnB,CAA6B,CACpCE,YAAY,CAACC,OAAb,CAAqB,CACpB6C,MAAM,CAAE8G,IAAI,CAAC9L,UADO,CAEpB+J,MAAM,CAAE,QAFY,CAGpB9H,IAAI,CAAE,aAHc,CAIpBY,IAAI,CAAEiS,MAAM,CAAC5R,IAAP,CAAY,qBAAZ,EAAmCG,GAAnC,EAJc,CAKpBqD,KAAK,CAAEvE,OAAO,CAACwI,IALK,CAArB,CAAA,CAOEvI,IAPF,CAOO,SAAU4S,WAAV,CAAuB,CACxB,CAAAA,CAAAA,GAAAA,WAAW,CAACtR,MADY,CAE3BzD,GAAG,CAAC0C,UAAJ,CAAe,CACdC,IAAI,CAAE3C,GAAG,CAACyB,UAAJ,CAAe,UAAf,CADQ,CAEdmB,IAAI,CAAE,OAFQ,CAAf,CAF2B,CAMjBmS,WAAW,CAACtR,MAAZ,CAAmBP,MANF,CAO3BnB,QAAQ,CAACgT,WAAW,CAACtR,MAAb,CAPmB,CAS3B1B,QAAQ,CAAC,CAAC,CAAEgJ,KAAK,CAAE/K,GAAG,CAACyB,UAAJ,CAAe,qBAAf,CAAT,CAAgDgF,KAAK,CAAE,EAAvD,CAAD,CAAD,EAET,CAlBF,CAmBEnE,CAAAA,IAnBF,CAmBO,SAAUE,UAAV,CAAsBC,WAAtB,CAAmCF,KAAnC,CAA0C,CAC/CvC,GAAG,CAAC0C,UAAJ,CAAe,CACdC,IAAI,CAAEJ,KAAK,CAACyS,YAAN,CAAmBC,KAAnB,CAAyBzT,OADjB,CAEdoB,IAAI,CAAE,OAFQ,CAGdsS,SAAS,CAAE,MAHG,CAAf,CAD+C,CAM/CnT,QAAQ,CAAC,CAAC,CAAEgJ,KAAK,CAAE/K,GAAG,CAACyB,UAAJ,CAAe,qBAAf,CAAT,CAAgDgF,KAAK,CAAE,EAAvD,CAAD,CAAD,EACR,CA1BF,EA2BA,CA7BiB,CA8BlB6D,SAAS,CAAEwK,KAAK,CAAC3T,IAAN,CAAW,KAAX,CA9BO,CA+BlB+J,MAAM,CAAE,SAAUpD,MAAAA,CAAAA,KAAV,CAAiBqD,EAAjB,CAAqB,CAC5B5L,CAAC,CAACuG,IAAF,CAAOqF,EAAE,CAACE,IAAH,CAAQ8J,OAAf,CAAwB,SAAUpP,KAAV,CAAiBU,KAAjB,CAAwB,CAC/C,IAAIwE,KAAK,CAAGhG,SAAS,CAAChC,IAAV,CAAe,qBAAwB8C,CAAAA,KAAxB,CAAgC,GAA/C,CAAZ,CACIkF,KAAK,CAAC/H,MAAN,EAAgBuD,KAF2B,EAGzB,QAAjB,GAAOA,OAAAA,CAAAA,KAAP,CAH0C,GAI7CA,KAAK,CAAG,CAACA,KAAD,CAJqC,EAM9ClH,CAAC,CAACuG,IAAF,CAAOW,KAAP,CAAc,SAAUV,KAAV,CAAiBqP,CAAjB,CAAoB,CACjC,IAAIlK,MAAM,CAAA,CAAA,CAAV,CACCpG,OAAO,CAAA,CAAA,CADR,CAE8B,QAA1B,GAAAmG,KAAK,CAACoK,IAAN,CAAW,SAAX,CAH6B,CAIf,QAAb,GAAOD,OAAAA,CAAAA,CAAP,CAJ4B,CAK/B7V,CAAC,CAACuG,IAAF,CAAOsP,CAAP,CAAU,SAAUrP,KAAV,CAAiBuP,CAAjB,CAAoB,CAC7BxQ,OAAO,CAAGmG,KAAK,CAAChI,IAAN,CAAW,eAAiB8C,KAAjB,CAAyB,IAAzB,CAAgCuP,CAAhC,CAAoC,IAA/C,CADmB,CAEzBA,CAAC,EAAIxQ,OAAO,CAAC5B,MAFY,GAG5BgI,MAAM,CAAGpG,OAAO,CAAC1B,GAAR,EAHmB,EAK7B,CALD,CAL+B,EAY/B0B,OAAO,CAAGmG,KAAK,CAAChI,IAAN,CAAW,kBAAA,CAAqBmS,CAArB,CAAyB,GAApC,CAZqB,CAa3BA,CAAC,EAAItQ,OAAO,CAAC5B,MAbc,GAc9BgI,MAAM,CAAGpG,OAAO,CAAC1B,GAAR,EAdqB,CAAA,CAgB/B0B,OAAO,CAAGmG,KAAK,CAAChI,IAAN,CAAW,iBAAmBmS,CAAAA,CAAnB,CAAuB,KAAlC,CAhBqB,CAiB3BA,CAAC,EAAItQ,OAAO,CAAC5B,MAjBc,GAkB9BgI,MAAM,CAAGpG,OAAO,CAAC1B,GAAR,EAlBqB,CAsBhC8H,CAAAA,CAAAA,MAAM,CAAGkK,CAtBuB,CAwB7BlK,MAxB6B,EAyBhCD,KAAK,CAAC7H,GAAN,CAAU8H,MAAV,CAAA,CAAkBI,MAAlB,GAED,CA3BD,CAN8C,EAmC9CL,KAAK,CAAC7H,GAAN,CAAU,EAAV,EAAckI,MAAd,GAED,CArCD,CAD4B,CAuC5BH,EAAE,CAACE,IAAH,CAAQ5E,KAAR,CAAgBqO,KAAK,CAAC1R,GAAN,GAChB,CAvEiB,CAAnB,EAyEA,CA/EF,EAgFA,CA3kCF,CA4kCCmS,gBAAgB,CAAE,SAAUzQ,gBAAAA,CAAAA,OAAV,CAAmB,CAChC0Q,IAAAA,UAAU,CAAG1Q,OAAO,CAACI,OAAR,CAAgB,aAAhB,CADmB,CAEhC8G,SAAS,CAAGwJ,UAAU,CAACvS,IAAX,CAAgB,mBAAhB,CAAA,CAAqCsC,IAArC,CAA0C,MAA1C,CAFoB,CAGhCkQ,YAAY,CAAGD,UAAU,CAACvS,IAAX,CAAgB,GAAM+I,CAAAA,SAAN,CAAkB,UAAlC,CAHiB,CAIpCwJ,UAAU,CAACvS,IAAX,CAAgB,QAAhB,CAAA,CAA0BiJ,UAA1B,CAAqC,UAArC,CAJoC,CAKV,EAAtB,EAAAuJ,YAAY,CAACrS,GAAb,EALgC,EAMnCoS,UAAU,CAACvS,IAAX,CAAgB,OAAhB,EAAyBiJ,UAAzB,CAAoC,UAApC,CANmC,CAQpCsJ,UAAU,CAACvS,IAAX,CAAgB,4BAAhB,CAA8C8L,CAAAA,WAA9C,CAA0D,QAA1D,CARoC,CASpC,IAAI2G,WAAW,CAAGD,YAAY,CAAClQ,IAAb,CAAkB,qBAAlB,CAAlB,CACAkQ,YAAY,CAACvJ,UAAb,CAAwB,qBAAxB,CAVoC,CAWpCuJ,YAAY,CAAClQ,IAAb,CAAkB,aAAlB,CAAiCmQ,WAAjC,CAXoC,CAYpCF,UAAU,CAACvS,IAAX,CAAgB,uBAAhB,CAAyCsC,CAAAA,IAAzC,CAA8C,UAA9C,CAA0D,UAA1D,EACA,CAzlCF,CA0lCCoQ,iBAAiB,CAAE,SAAU7Q,iBAAAA,CAAAA,OAAV,CAAmB,CAAA,IACjC0Q,UAAU,CAAG1Q,OAAO,CAACI,OAAR,CAAgB,aAAhB,CADoB,CAEjC8G,SAAS,CAAGwJ,UAAU,CAACvS,IAAX,CAAgB,mBAAhB,CAAA,CAAqCsC,IAArC,CAA0C,MAA1C,CAFqB,CAGjCkQ,YAAY,CAAGD,UAAU,CAACvS,IAAX,CAAgB,GAAM+I,CAAAA,SAAN,CAAkB,UAAlC,CAHkB,CAIrCwJ,UAAU,CAACvS,IAAX,CAAgB,OAAhB,CAAA,CAAyBsC,IAAzB,CAA8B,UAA9B,CAA0C,UAA1C,CAJqC,CAKrCiQ,UAAU,CAACvS,IAAX,CAAgB,QAAhB,CAAA,CAA0BsC,IAA1B,CAA+B,UAA/B,CAA2C,UAA3C,CALqC,CAMrCiQ,UAAU,CAACvS,IAAX,CAAgB,4BAAhB,CAAA,CAA8CoL,QAA9C,CAAuD,QAAvD,CANqC,CAOrC,IAAIqH,WAAW,CAAGD,YAAY,CAAClQ,IAAb,CAAkB,aAAlB,CAAlB,CACAkQ,YAAY,CAACvJ,UAAb,CAAwB,aAAxB,CARqC,CASrCuJ,YAAY,CAAClQ,IAAb,CAAkB,qBAAlB,CAAyCmQ,WAAzC,CATqC,CAUrCF,UAAU,CAACvS,IAAX,CAAgB,uBAAhB,CAAA,CAAyCiJ,UAAzC,CAAoD,UAApD,EACA,CArmCF,CAsmCCtE,sBAAsB,CAAE,gCAAUtC,WAAV,CAAuBsQ,iBAAvB,CAA0C3Q,SAA1C,CAAqD,KACtEW,mBAAmB,CAAGX,SAAS,CAAChC,IAAV,CAAe,qCAAf,CAAA,CAAoDG,GAApD,EADgD,CAEtEyC,oBAAoB,CAAGD,mBAAmB,CAAGtC,IAAI,CAACC,KAAL,CAAWqC,mBAAX,CAAH,CAAqC,EAFT,CAI9B,OAAA,WAA7C,SAAOC,oBAAoB,CAACP,WAAD,CAA3B,EACgE,WAAhE,EAAA,OAAOO,oBAAoB,CAACP,WAAD,CAApB,CAAkCsQ,iBAAlC,CALoE,CAOpE/P,oBAAoB,CAACP,WAAD,CAApB,CAAkCsQ,iBAAlC,CAPoE,CASrE,EACP,CAhnCF,CAinCCC,yBAAyB,CAAE,SAAU5Q,yBAAAA,CAAAA,SAAV,CAAqB,CAC/C,IAAItE,MAAM,CAAGX,GAAG,CAAC8V,gCAAjB,CACA7Q,SAAS,CAAC0C,gBAAV,CAA2BhH,MAA3B,EACA,CApnCF,CAqnCCoV,oBAAoB,CAAE,8BAAU9Q,SAAV,CAAqB+Q,KAArB,CAA4B,CAAA,IAC7C7O,YAAY,CAAG,IAD8B,CAE7C8O,aAAa,CAAA,CAAA,CAFgC,CAGhDC,gBAAgB,CAAA,CAAA,CAHgC,UAI5CC,MAAM,CAACC,yBAJqC,EAOjDnR,KAAAA,SAAS,CAAChC,IAAV,CAAe,yCAAf,EAAwD6C,IAAxD,CAA6D,SAAUC,KAAV,CAAiBjB,OAAjB,CAA0B,CACtFA,OAAO,CAAGvF,CAAC,CAACuF,OAAD,CAD2E,CAEtF,IAAIuR,CAAC,GAAL,CAC0C,CAAtC,CAAAvR,OAAO,CAACI,OAAR,CAAgB,WAAhB,CAAA,CAA6BhC,MAHqD,GAIrFmT,CAAC,GAJoF,CAKpC,CAA7C,CAAAvR,OAAO,CAACI,OAAR,CAAgB,kBAAhB,CAAA,CAAoChC,MAL6C,GAMpFmT,CAAC,GANmF,CAStF,CAAA,CAAA,IAAIC,aAAa,CAAGxR,OAAO,CAAC1B,GAAR,EAApB,CACIiT,CAAC,EAAqB,EAAjB,EAAAC,aAAL,EAA6C,GAAjB,EAAAA,aAVsD,GAWrFL,aAAa,CAXwE,CAAA,CAAA,EAatF,CAbD,CAPiD,CAqBjDhR,SAAS,CAAChC,IAAV,CAAe,4CAAf,CAA2D6C,CAAAA,IAA3D,CAAgE,SAAUC,KAAV,CAAiBjB,OAAjB,CAA0B,CACzFA,OAAO,CAAGvF,CAAC,CAACuF,OAAD,CAD8E,CAErFmR,aAFqF,CAGxF9O,YAAY,CAACoO,gBAAb,CAA8BzQ,OAA9B,CAHwF,EAKpFkR,KALoF,EAMvF7O,YAAY,CAACwE,eAAb,CAA6B7G,OAA7B,CANuF,CAQxFqC,YAAY,CAACwO,iBAAb,CAA+B7Q,OAA/B,CARwF,CAWzF,CAAA,IAAIuR,CAAC,CAAA,CAAA,CAAL,CAC0C,CAAtC,CAAAvR,OAAO,CAACI,OAAR,CAAgB,WAAhB,CAA6BhC,CAAAA,MAZwD,GAaxFmT,CAAC,CAAA,CAAA,CAbuF,CAcvC,CAA7C,CAAAvR,OAAO,CAACI,OAAR,CAAgB,kBAAhB,CAAoChC,CAAAA,MAdgD,GAevFmT,CAAC,CAAA,CAAA,CAfsF,GAmBzF,IAAIC,aAAa,CAAGxR,OAAO,CAAC1B,GAAR,EAApB,CACIiT,CAAC,EAAqB,EAAjB,EAAAC,aAAL,EAA6C,GAAjB,EAAAA,aApByD,GAqBxFJ,gBAAgB,CAAA,CAAA,CArBwE,EAuBzF,CAvBD,CArBiD,CA6CjDjR,SAAS,CAAChC,IAAV,CAAe,+CAAf,CAA8D6C,CAAAA,IAA9D,CAAmE,SAAUC,KAAV,CAAiBjB,OAAjB,CAA0B,CAC5FA,OAAO,CAAGvF,CAAC,CAACuF,OAAD,CADiF,CAExFyR,IAAAA,mBAAmB,CAAGzR,OAAO,CAACI,OAAR,CAAgB,aAAhB,CAFkE,CAGxFhC,MAAM,CAAGqT,mBAAmB,CAACtT,IAApB,CAAyB,sDAAzB,CAA+EC,CAAAA,MAHA,CAIxFgT,gBAAgB,EAAa,CAAT,CAAAhT,MAJoE,CAK3FiE,YAAY,CAACoO,gBAAb,CAA8BzQ,OAA9B,CAL2F,EAOvFkR,KAPuF,EAQ1F7O,YAAY,CAACwE,eAAb,CAA6B7G,OAA7B,CAR0F,CAU3FqC,YAAY,CAACwO,iBAAb,CAA+B7Q,OAA/B,CAV2F,EAY5F,CAZD,CA7CiD,CA0DjD,CA/qCF,CAgrCC0R,0BAA0B,CAAE,SAAU1R,0BAAAA,CAAAA,OAAV,CAAmB,CAC9C,IAAI2R,MAAM,CAAG3R,OAAO,CAAC7B,IAAR,CAAa,iBAAb,CAAb,CACqC,CAAjC,EAAAwT,MAAM,CAACtV,IAAP,CAAY,gBAAZ,CAF0C,CAK7C2D,OAAO,CAACI,OAAR,CAAgB,aAAhB,EAA+BjC,IAA/B,CAAoC,wBAApC,CAA8D8L,CAAAA,WAA9D,CAA0E,QAA1E,CAL6C,CAG7CjK,OAAO,CAACI,OAAR,CAAgB,aAAhB,CAAA,CAA+BjC,IAA/B,CAAoC,wBAApC,CAA8DoL,CAAAA,QAA9D,CAAuE,QAAvE,EAID,CAvrCF,CAwrCCqI,yBAAyB,CAAE,SAAA,yBAAA,CAAUzR,SAAV,CAAqB,CAAA,IAC3CkC,YAAY,CAAG,IAD4B,CAE3CoP,mBAAmB,CAAGtR,SAAS,CAAChC,IAAV,CAAe,4CAAf,CAA2DiC,CAAAA,OAA3D,CAAmE,aAAnE,CAFqB,CAG3CyR,gBAAgB,CAAGJ,mBAAmB,CAACtT,IAApB,CAAyB,sCAAzB,CAA+DG,CAAAA,GAA/D,EAHwB,CAI3CwT,sBAAsB,CAAG3R,SAAS,CAAChC,IAAV,CAAe,+CAAf,CAAA,CAA8DiC,OAA9D,CAAsE,aAAtE,CAJkB,CAK/C2R,gBAAgB,CAACC,WAAjB,CAA6BF,sBAAsB,CAAC3T,IAAvB,CAA4B,uBAA5B,CAA7B,CAAmF,QAAnF,CAA6F0T,gBAA7F,CAL+C,CAM/C,IAAII,eAAe,CAAGH,sBAAsB,CAAC3T,IAAvB,CAA4B,uBAA5B,CAAqDG,CAAAA,GAArD,EAAtB,CACAwT,sBAAsB,CAAC3T,IAAvB,CAA4B,iCAA5B,CAAA,CAA6DG,GAA7D,CAAiE2T,eAAjE,CAP+C,CAQ/C5P,YAAY,CAACqP,0BAAb,CAAwCI,sBAAsB,CAAC3T,IAAvB,CAA4B,uBAA5B,CAAxC,EACA,CAjsCF,CAksCC+T,uBAAuB,CAAE,iCAAU/R,SAAV,CAAqB,CAC7C,IAAIkC,YAAY,CAAG,IAAnB,CAD6C,OAAA,CAAA,CAExCgP,MAAM,CAACC,yBAFiC,EAK7CjP,KAAAA,YAAY,CAACuP,yBAAb,CAAuCzR,SAAvC,CAL6C,CAM7CkC,YAAY,CAAC4O,oBAAb,CAAkC9Q,SAAlC,CAN6C,CAAA,CAAA,CAAA,CAO7CA,SAAS,CAAChC,IAAV,CAAe,cAAf,CAAA,CAA+BiG,EAA/B,CAAkCzI,cAAc,CAAChB,uBAAjD,CAA0E,UAAmB,CAC5F0H,YAAY,CAAC4O,oBAAb,CAAkC9Q,SAAlC,CACA,CAAA,CAAA,EAAA,CAFD,CAP6C,CAU7CA,SAAS,CAAChC,IAAV,CAAe,cAAf,CAAA,CAA+BiG,EAA/B,CAAkCzI,cAAc,CAACf,yBAAjD,CAA4E,UAAa,CACxFyH,YAAY,CAAC4O,oBAAb,CAAkC9Q,SAAlC,CAAA,CAAA,CAAA,EACA,CAFD,CAV6C,CAa7CA,SAAS,CACPhC,IADF,CACO,4CADP,CAEEiC,CAAAA,OAFF,CAEU,aAFV,CAAA,CAGEjC,IAHF,CAGO,uBAHP,CAIEiG,CAAAA,EAJF,CAIK,QAJL,CAIe,UAAY,CACzB/B,YAAY,CAACuP,yBAAb,CAAuCzR,SAAvC,EACA,CANF,CAb6C,CAoB7CA,SAAS,CACPhC,IADF,CACO,+CADP,CAEEiC,CAAAA,OAFF,CAEU,aAFV,CAAA,CAGEjC,IAHF,CAGO,uBAHP,CAAA,CAIEiG,EAJF,CAIK,QAJL,CAIe,SAAUrC,CAAV,CAAa,CAC1BM,YAAY,CAACqP,0BAAb,CAAwCjX,CAAC,CAACsH,CAAC,CAAC2C,aAAH,CAAzC,EACA,CANF,CApB6C,CA2B7C,CA7tCF,CA8tCCyN,uBAAuB,CAAE,SAAA,uBAAA,CAAUhS,SAAV,CAAqBiS,YAArB,CAAmC,CACvDC,IAAAA,cADuD,CACvCC,sBADuC,CAEvD,MAAA,CAAA,IAAA,CAAA,OAAA,KAAA,CAAA,GAAAF,YAAY,EAAkBjS,SAAS,CAACC,OAAV,CAAkB,qBAAlB,CAAA,CAAyChC,MAFhB,CAG1DmU,KAAAA,UAAU,CAAC,UAAO,CACjB,MAAI,CAACJ,uBAAL,CAA6BhS,SAA7B,CACA,CAAA,CAAA,EAAA,CAFS,CAEP,GAFO,CAHgD,CAQ3DA,KAAAA,SAAS,CACPhC,IADF,CAEE,8IAFF,CAAA,CAIE6C,IAJF,CAIO,SAAUnC,CAAV,CAAakD,CAAb,CAAgB,CACrB,IAAI/B,OAAO,CAAGvF,CAAC,CAACsH,CAAD,CAAf,CACA,GAAI,CAAC/B,OAAO,CAACuQ,IAAR,CAAa,UAAb,CAAD,EAA6B,CAACvQ,OAAO,CAACuQ,IAAR,CAAa,UAAb,CAAlC,CAA4D,CAE3D,GADAvQ,OAAO,CAAGA,OAAO,CAACwS,GAAR,CAAY,CAAZ,CACV,CAAqB,QAAjB,GAAAxS,OAAO,CAAClC,IAAR,EAA8C,UAAjB,GAAAkC,OAAO,CAAClC,IAArC,EAA4D,KAAA,CAAA,GAAAkC,OAAO,CAAC2B,KAAxE,CAA6F,CAC5F,IAAI8Q,OAAO,CAAGzS,OAAO,CAAC2B,KAAR,CAAcvD,MAA5B,CACA4B,OAAO,CAAC0S,cAAR,CAAyBD,OAFmE,CAG5FzS,OAAO,CAAC2S,YAAR,CAAuBF,QACvB,CACS,CAAN,GAAA5T,CAAC,EAAWwT,cAP2C,GAQ1DA,cAAc,CAAGrS,OARyC,CAAA,CAU3D,IAAI4S,QAAQ,CAAGnY,CAAC,CAACuF,OAAD,CAAD,CAAWS,IAAX,CAAgB,UAAhB,CAAf,CACA,GAAe,CAAX,CAAAmS,QAAQ,EAAQ,KAAA,CAAA,GAAAN,sBAApB,CAEC,OAAA,KADAA,sBAAsB,CAAGM,QACzB,EAGc,CAAX,CAAAA,QAAQ,EAAQA,QAAQ,CAAGN,sBAhB4B,GAiB1DA,sBAAsB,CAAGM,QAjBiC,CAkB1DP,cAAc,CAAGrS,OAlByC,EAoB3D,CACD,CA3BF,CAR2D,CAoCvDqS,cApCuD,EAqC1DA,cAAc,CAAC3F,KAAf,EArC0D,CAuC3D,CArwCF,CAswCCmG,iBAAiB,CAAE,SAAU1S,iBAAAA,CAAAA,SAAV,CAAqB,CACvCA,SAAS,CAAChC,IAAV,CAAe,kCAAf,CAAmDiG,CAAAA,EAAnD,CAAsD,QAAtD,CAAgE,SAAUrC,CAAV,CAAa,CAC5E,IAAI/B,OAAO,CAAGvF,CAAC,CAACsH,CAAC,CAAC2C,aAAH,CAAf,CACAvE,SAAS,CAAChC,IAAV,CAAe,UAAA,CAAY6B,OAAO,CAAC3D,IAAR,CAAa,aAAb,CAAZ,CAA0C,KAAzD,CAA+DiC,CAAAA,GAA/D,CAAmE0B,OAAO,CAAC1B,GAAR,EAAnE,EACA,CAHD,EAIA,CA3wCF;AA6wCD;AACA;AACA,KACEwU,wBAhxCD,CAgxC0B3S,SAAAA,wBAAAA,CAAAA,SAhxC1B,CAgxCqC,CACnC,OAAOmE,GAAG,CAACC,MAAJ,CAAWwO,UAAX,CAAsBpL,QAAtB,CAA+BxH,SAA/B,CACP,CAlxCF;AAoxCD;AACA;AACA,KACE6S,2BAvxCD,sCAuxC6B7S,SAvxC7B,CAuxCwC,CACH,WAA/B,EAAA,OAAO8S,mBAD2B,GAErC,KAAKlY,mBAAL,CAA2BkY,mBAAmB,CAACC,oBAApB,CAAyC/S,SAAzC,CAFU,EAItC,CA3xCF;AA6xCD;AACA;AACA,KACEgT,4BAA4B,CAAE,SAAA,4BAAA,CAAUhT,SAAV,CAAqB,CAClD,IAAM4G,IAAI,CAAG,IAAb,CACA5G,SAAS,CAACiE,EAAV,CAAa,OAAb,CAAsB,4BAAtB,CAAoD,SAAUrC,CAAV,CAAa,CAChEA,CAAC,CAAC+E,cAAF,EADgE,CAE5D9G,IAAAA,OAAO,CAAGvF,CAAC,CAAC,IAAD,CAFiD,CAG5D0N,QAAQ,CAAGhI,SAAS,CAACiI,iBAAV,EAHiD,CAIhED,QAAQ,KAAR,CAAmB,iBAJ6C,CAKhEA,QAAQ,cAAR,CAA4BnI,OAAO,CAAC3D,IAAR,CAAa,MAAb,CALoC,CAMhE,OAAO8L,QAAQ,CAAA,MANiD,CAOhEhL,YAAY,CAACC,OAAb,CAAqB+K,QAArB,CAAA,CAA+B9K,IAA/B,CAAoC,SAAU2Q,IAAV,CAAgB,CACnD9S,GAAG,CAACsE,eAAJ,CACCwO,IADD,CAEC,SAAC7N,SAAD,CAAe,CAAA,IACViT,SAAS,CAAGjT,SAAS,CAAChC,IAAV,CAAe,gCAAf,CADF,CAEVkV,OAAO,CAAGlT,SAAS,CAAChC,IAAV,CAAe,+BAAf,CAFA,CAGdiV,SAAS,CAACvQ,gBAAV,CAA2B3H,GAAG,CAACoY,uBAA/B,CAHc,CAIdF,SAAS,CAAChP,EAAV,CAAa,QAAb,CAAuB,SAAUrC,CAAV,CAAa,CAC/BqR,SAAS,CAACvQ,gBAAV,CAA2B,UAA3B,CAD+B,GAElCwQ,OAAO,CAACrF,IAAR,CAAa,EAAb,CAFkC,CAGlCqF,OAAO,CAACvX,iBAAR,CAA0B,EAA1B,CAHkC,CAIlCiG,CAAC,CAAC+E,cAAF,EAJkC,CAKlC3J,YAAY,CAACC,OAAb,CAAqBgW,SAAS,CAAChL,iBAAV,EAArB,CAAoD/K,CAAAA,IAApD,CAAyD,SAAUhB,IAAV,CAAgB,CACxEgX,OAAO,CAACvX,iBAAR,CAA0B,CAAEoB,IAAI,CAAE,MAAR,CAA1B,CADwE,CAExEmW,OAAO,CAACrF,IAAR,CAAa3R,IAAb,EACA,CAHD,CALkC,EAUnC,CAVD,CAJc,CAed,IAAIkX,UAAU,CAAGxM,IAAI,CAAC7I,OAAL,EAAjB,CACAiC,SAAS,CAACiE,EAAV,CAAa,OAAb,CAAsB,8BAAtB,CAAsD,UAAY,CACjEjE,SAAS,CACPhC,IADF,CACoD,6CAAA,CAAA,MAAA,CAAA,IAAA,CAAKqV,OAAL,CAAaC,MADjE,CAEElD,WAAAA,CAAAA,CAAAA,CAAAA,IAFF,CAEO,SAFP,CAAA,CAAA,CAAA,EAGA,CAJD,CAhBc,CAqBdpQ,SAAS,CAACiE,EAAV,CAAa,OAAb,CAAsB,mCAAtB,CAA2D,UAAY,CACtE,IAAI+D,QAAQ,CAAGhI,SAAS,CAAChC,IAAV,CAAe,iCAAf,CAAA,CAAkDiK,iBAAlD,EAAf,CACA3N,CAAC,CAACuG,IAAF,CAAOmH,QAAP,CAAiB,SAAUlF,GAAV,CAAetB,KAAf,CAAsB,CACtC,GAAc,EAAV,GAAAA,KAAJ,CAAkB,CACjB,IAAIC,YAAY,CAAG2R,UAAU,CAACpV,IAAX,CAA0B8E,UAAAA,CAAAA,MAAAA,CAAAA,GAA1B,QAAnB,CACIrB,YAAY,CAACxD,MAFA,CAGhBwD,YAAY,CAAC8R,QAAb,CAAsB/R,KAAtB,CAHgB,CAKhB4R,UAAU,CAAC1P,MAAX,yCAAgDZ,GAAhD,CAAA,aAAA,CAAA,CAAA,MAAA,CAA+DtB,KAA/D,CAAA,OAAA,CAAA,EAED,CACD,CATD,CAFsE,CAYtEzG,GAAG,CAACyY,eAAJ,CAAoB,IAApB,CAA0B,gBAA1B,EACA,CAbD,EAcA,CArCF,CAsCC,CAAEC,OAAO,CAAE,gBAAX,CAtCD,EAwCA,CAzCD,EA0CA,CAjDD,EAkDA,CAp1CF;AAs1CD;AACA;AACA,KACEC,mBAAmB,CAAE,SAAU1T,mBAAAA,CAAAA,SAAV,CAAqB,CACrC2T,IAAAA,KAAK,CAAG3T,SAAS,CAAChC,IAAV,CAAe,gBAAf,CAD6B,CAErC4V,UAAU,CAAGD,KAAK,CAAC3V,IAAN,CAAW,OAAX,CAFwB,CAGrC6V,IAAI,CAAG7T,SAAS,CAAChC,IAAV,CAAe,eAAf,CAH8B,CAIrC8V,SAAS,CAAGD,IAAI,CAAC7V,IAAL,CAAU,OAAV,CAJyB,CAKrC+V,IAAI,CAAG/T,SAAS,CAAChC,IAAV,CAAe,kBAAf,CAL8B,CAMrCgW,SAAS,CAAGD,IAAI,CAAC/V,IAAL,CAAU,OAAV,CANyB,CAOrCiW,SAAS,CAAGjU,SAAS,CAAChC,IAAV,CAAe,6BAAf,CAPyB,CAQrCkW,YAAY,CAAGD,SAAS,CAAC9V,GAAV,EARsB,CASzCyV,UAAU,CAACO,KAAX,CAAiB,UAAY,CAC5BH,SAAS,CAAC7V,GAAV,CAAc,IAAA,CAAKqD,KAAL,CAAa,MAAb,CAAsBsS,SAAS,CAAC3V,GAAV,EAApC,EACA,CAFD,CATyC,CAYzC2V,SAAS,CAACK,KAAV,CAAgB,UAAY,CAC3BH,SAAS,CAAC7V,GAAV,CAAcyV,UAAU,CAACzV,GAAX,EAAmB,CAAA,MAAnB,CAA4B,IAAA,CAAKqD,KAA/C,EACA,CAFD,CAZyC,CAezCyS,SAAS,CAAC5N,MAAV,CAAiB,UAAY,CACV,oBAAd,EAAA,IAAA,CAAK7E,KADmB,EAE3BuS,IAAI,CAAC3K,QAAL,CAAc,QAAd,CAF2B,CAG3B4K,SAAS,CAAC7V,GAAV,CAAcyV,UAAU,CAACzV,GAAX,EAAmB,CAAA,MAAnB,CAA4B2V,SAAS,CAAC3V,GAAV,EAA1C,CAH2B,CAI3BwV,KAAK,CAAC7J,WAAN,CAAkB,QAAlB,CAJ2B,CAK3B+J,IAAI,CAAC/J,WAAL,CAAiB,QAAjB,CAL2B,EAMD,oBAAhB,EAAAoK,YANiB,GAO3BH,IAAI,CAACjK,WAAL,CAAiB,QAAjB,CAP2B,CAQ3B6J,KAAK,CAACvK,QAAN,CAAe,QAAf,CAR2B,CAS3ByK,IAAI,CAACzK,QAAL,CAAc,QAAd,CAT2B,CAU3B4K,SAAS,CAAC7V,GAAV,CAAc,EAAd,CAV2B,CAAA,CAY5B+V,YAAY,CAAG,KAAK1S,MACpB,CAbD,EAcA,CAt3CF;AAw3CD;AACA;AACA,KACE4S,uBAAuB,CAAE,SAAA,uBAAA,CAAUlY,IAAV,CAAgB,KAClC0K,IAAI,CAAG,IAD2B,CAEpC5H,IAAI,CAAG,KAAKjB,OAAL,EAF6B,CAGL,QAA/B,EAAA,OAAA,CAAO7B,IAAI,CAAA,YAAX,CAHoC,EAIvC5B,CAAC,CAACuG,IAAF,CAAO3E,IAAI,CAAA,YAAX,CAA6B,SAAU4G,GAAV,CAAekD,KAAf,CAAsB,CAClDY,IAAI,CAAC/C,aAAL,CAAmBmC,KAAnB,EACA,CAFD,CAJuC,CAQP,WAA7B,EAAA,OAAO9J,IAAI,CAAA,UARyB,EASvC8C,IAAI,CAAChB,IAAL,CAAA,UAAA,CAAA,MAAA,CAAoB9B,IAAI,CAAxB,UAAA,CAAA,KAAA,CAAA,CAAA,CAA4CqQ,KAA5C,EATuC,CAWP,WAA7B,EAAA,OAAOrQ,IAAI,CAAA,UAXyB,EAYvCnB,GAAG,CAAC0C,UAAJ,CAAevB,IAAI,CAAnB,UAAA,CAZuC,CAcR,WAA5B,EAAA,OAAOA,IAAI,CAAA,SAdyB,EAevCnB,GAAG,CAACsE,eAAJ,CAAoB,IAApB,CAA0BnD,IAAI,CAAJ,SAAA,CAAA,GAA1B,CAfuC,CAiBP,WAA7B,EAAOA,OAAAA,IAAI,CAjByB,UAAA,EAkBvC5B,CAAC,CAACuG,IAAF,CAAO3E,IAAI,CAAA,UAAX,CAA2B,SAAU4G,GAAV,CAAeiE,SAAf,CAA0B,CACpD/H,IAAI,CAAChB,IAAL,CAAgD+I,sCAAAA,CAAAA,MAAAA,CAAAA,SAAhD,SAA+D+C,WAA/D,CAA2E,QAA3E,CADoD,CAEpDlD,IAAI,CAAC8I,qBAAL,GACA,CAHD,CAlBuC,CAuBP,WAA7B,EAAOxT,OAAAA,IAAI,CAvByB,UAAA,EAwBvC5B,CAAC,CAACuG,IAAF,CAAO3E,IAAI,WAAX,CAA2B,SAAU4G,GAAV,CAAeiE,SAAf,CAA0B,CACpD/H,IAAI,CAAChB,IAAL,+CAAgD+I,SAAhD,CAAA,KAAA,CAAA,CAAA,CAA+DqC,QAA/D,CAAwE,QAAxE,CADoD,CAEpDxC,IAAI,CAAC8I,qBAAL,GACA,CAHD,EAKD,CAx5CF;AA05CD;AACA;AACA,KACE2E,+BAA+B,CAAE,SAAUrU,+BAAAA,CAAAA,SAAV,CAAqB,CACrD,IAAI6C,KAAK,CAAG7C,SAAS,CAAChC,IAAV,CAAe,wBAAf,CAAZ,CACA,GAAA,EAAoB,CAAhB,EAAA6E,KAAK,CAAC5E,MAAV,CAGM2I,CAAAA,CAAAA,IAAAA,IAAI,CAAG,IAHb,CAII0N,MAAM,CAAGjW,IAAI,CAACC,KAAL,CAAWuE,KAAK,CAAC1E,GAAN,EAAX,CAJb,CAKA7D,CAAC,CAACuG,IAAF,CAAOyT,MAAP,CAAe,SAAUxR,GAAV,CAAeiE,SAAf,CAA0B,CACxC,IAAItF,YAAY,CAAGzB,SAAS,CAAChC,IAAV,CAAA,UAAA,CAAA,MAAA,CAAyB+I,SAAzB,CAAA,cAAA,CAAA,CAAA,MAAA,CAA+CA,SAA/C,CAAA,OAAA,CAAA,CAAnB,CACAtF,YAAY,CAACwC,EAAb,CAAA,SAAA,CAAA,MAAA,CACWzI,cAAc,CAAChB,uBAD1B,CAAA,GAAA,CAAA,CAAA,MAAA,CACqDgB,cAAc,CAACf,yBADpE,CAEC,CAAA,UAAY,CACX,IAAIuN,QAAQ,CAAGhI,SAAS,CAACiI,iBAAV,EAAf,CACAD,QAAQ,CAAR,MAAA,CAAqB,oBAFV,CAGX,OAAOA,QAAQ,CAHJ,IAAA,CAIXhL,YAAY,CAACC,OAAb,CAAqB+K,QAArB,CAA+B9K,CAAAA,IAA/B,CAAoC,SAAUJ,QAAV,CAAoB,CACvDxC,CAAC,CAACuG,IAAF,CAAO/D,QAAQ,CAAC0B,MAAhB,CAAwB,SAAUsE,GAAV,CAAe5G,IAAf,CAAqB,CAC5C0K,IAAI,CAACwN,uBAAL,CAA6BlY,IAA7B,EACA,CAFD,EAGA,CAJD,EAKA,CAXF,EAaA,CAfD,EALA,CAqBA,CAp7CF;AAs7CD;AACA,KACEqY,8BAA8B,CAAE,SAAY,8BAAA,EAAA,CAC3ClY,QAAQ,CAACmY,gBAAT,CAA0B,SAA1B,CAAqC,SAAC3R,KAAD,CAAW,CAC/C,GAAIA,KAAK,CAAC4R,QAAN,EAAkB5R,KAAK,CAAC6R,OAAxB,EAAkD,MAAf,GAAA7R,KAAK,CAAC8R,IAA7C,CAA8D,CAC7D,IAAI3V,KAAI,CAAG6D,KAAK,CAACf,MAAN,CAAa7B,OAAb,CAAqB,MAArB,CAAX,CACIjB,KAFyD,CAG5D1E,CAAC,CAAC0E,KAAD,CAAD,CAAQuD,OAAR,CAAgB,QAAhB,CAH4D,EAK5DvD,KAAI,CAAG1E,CAAC,CAACuI,KAAK,CAACf,MAAP,CAAD,CAAgB9D,IAAhB,CAAqB,MAArB,CALqD,CAMxDgB,KAAI,CAACf,MAAL,EAAee,KAAI,CAACwK,QAAL,CAAc,gBAAd,CANyC,EAO3DxK,KAAI,CAAC6U,IAAL,EAAYtR,CAAAA,OAAZ,CAAoB,QAApB,CAP2D,EAU7D,CACD,CAZD,EAaA,CAt8CF;AAw8CD;AACA;AACA,KACEqS,mBAAmB,CAAE,SAAU5U,mBAAAA,CAAAA,SAAV,CAAqB,CACzC,IAAA,CAAKgE,iCAAL,CAAuChE,SAAvC,CADyC,CAEzC,IAAKkF,CAAAA,0BAAL,CAAgClF,SAAhC,CAFyC,CAGzC,IAAA,CAAKyG,oCAAL,CAA0CzG,SAA1C,CAHyC,CAIzC,KAAKkH,kCAAL,CAAwClH,SAAxC,CAJyC,CAKzC,IAAKqH,CAAAA,kBAAL,CAAwBrH,SAAxB,CALyC,CAMzC,IAAA,CAAKyM,uCAAL,CAA6CzM,SAA7C,CANyC,CAOzC,IAAK8L,CAAAA,+BAAL,CAAqC9L,SAArC,CAPyC,CAQzC,IAAA,CAAK+K,+BAAL,CAAqC/K,SAArC,CARyC,CASzC,KAAKqU,+BAAL,CAAqCrU,SAArC,CATyC,CAUzC,IAAKqL,CAAAA,kBAAL,CAAwBrL,SAAxB,CAVyC,CAWzC,IAAA,CAAK+O,gBAAL,CAAsB/O,SAAtB,CAXyC,CAYzC,IAAK+R,CAAAA,uBAAL,CAA6B/R,SAA7B,CAZyC,CAazC,IAAA,CAAKgS,uBAAL,CAA6BhS,SAA7B,CAbyC,CAczC,IAAK0S,CAAAA,iBAAL,CAAuB1S,SAAvB,CAdyC,CAezC,IAAA,CAAK2S,wBAAL,CAA8B3S,SAA9B,CAfyC,CAgBzC,IAAKwI,CAAAA,uBAAL,CAA6BxI,SAA7B,CAhByC,CAiBzC,IAAA,CAAKgT,4BAAL,CAAkChT,SAAlC,CAjByC,CAkBzC,KAAK0T,mBAAL,CAAyB1T,SAAzB,CAlByC,CAmBzC,IAAKuU,CAAAA,8BAAL,EAnByC,CAoBzCpQ,GAAG,CAACC,MAAJ,CAAWyQ,UAAX,CAAsBrN,QAAtB,CAA+BxH,SAA/B,CApByC,CAqBzCmE,GAAG,CAACC,MAAJ,CAAW0Q,gBAAX,CAA4BtN,QAA5B,CAAqCxH,SAArC,CArByC,CAsBzCmE,GAAG,CAACC,MAAJ,CAAW2Q,IAAX,CAAgBvN,QAAhB,CAAyBxH,SAAzB,CAtByC,CAuBzCmE,GAAG,CAACC,MAAJ,CAAW4Q,aAAX,CAAyBxN,QAAzB,CAAkCxH,SAAlC,CAvByC,CAwBzCmE,GAAG,CAACC,MAAJ,CAAW6Q,UAAX,CAAsBzN,QAAtB,CAA+BxH,SAA/B,CAxByC,CAyBzCmE,GAAG,CAACC,MAAJ,CAAW8Q,WAAX,CAAuB1N,QAAvB,CAAgCxH,SAAhC,CAzByC,CA0BzCmE,GAAG,CAACC,MAAJ,CAAW+Q,cAAX,CAA0B3N,QAA1B,CAAmCxH,SAAnC,CA1ByC,CA2BzCmE,GAAG,CAACC,MAAJ,CAAWgR,QAAX,CAAoB5N,QAApB,CAA6BxH,SAA7B,CA3ByC,CA4BzCmE,GAAG,CAACkE,UAAJ,CAAegN,gBAAf,CAAgC7N,QAAhC,CAAyCxH,SAAzC,CA5ByC,CA6BzCmE,GAAG,CAACC,MAAJ,CAAWkR,eAAX,CAA2B9N,QAA3B,CAAoCxH,SAApC,EACA,CAz+CF,CA0+CCuV,cAAc,CAAE,SAAA,cAAA,EAAY,CAC3B,IAAI/J,YAAY,CAAG,KAAKzN,OAAL,EAAnB,CACK,IAAA,CAAKgG,qBAAL,EAFsB,GAK3B,IAAK8O,CAAAA,2BAAL,CAAiCrH,YAAjC,CAL2B,CAM3BzQ,GAAG,CAACya,2BAAJ,CAAgChK,YAAhC,CAN2B,CAO3B,IAAKyD,CAAAA,8BAAL,EAP2B,CAQ3B,KAAKP,sBAAL,EAR2B,CAS3B,IAAA,CAAKL,eAAL,EAT2B,CAU3B,IAAKuG,CAAAA,mBAAL,CAAyBpJ,YAAzB,CAV2B,CAW3B,IAAA,CAAKtC,2BAAL,EAX2B,CAY3B,IAAKqC,CAAAA,mBAAL,EAZ2B,CAa3B,IAAA,CAAKwC,8BAAL,CAAoCvC,YAApC,CAb2B,CAc3B,IAAKoF,CAAAA,yBAAL,CAA+BpF,YAA/B,CAd2B,CAe3B,IAAA,CAAKmE,uBAAL,EAf2B,CAgB3BnE,YAAY,CAACxN,IAAb,CAAkB,qBAAlB,CAAyCoS,CAAAA,IAAzC,CAA8C,UAA9C,CAAA,CAAA,CAAA,CAhB2B,EAiB3B,CA3/CF,CAvMD;;"}