"use strict";Vtiger_Detail_Js("SSalesProcesses_Detail_Js",{},{hierarchyResponseCache:{},getHierarchyResponseData:function(params){var thisInstance=this,aDeferred=jQuery.Deferred();return jQuery.isEmptyObject(thisInstance.hierarchyResponseCache)?AppConnector.request(params).done((function(data){thisInstance.hierarchyResponseCache=data,aDeferred.resolve(thisInstance.hierarchyResponseCache)})).fail((function(textStatus,errorThrown){aDeferred.reject(textStatus,errorThrown)})):aDeferred.resolve(thisInstance.hierarchyResponseCache),aDeferred.promise()},displayHierarchyResponseData:function(data){var callbackFunction=function(data){app.showScrollBar(jQuery("#hierarchyScroll"),{height:"300px",railVisible:!0,size:"6px"})};app.showModalWindow(data,(function(data){jQuery("#hierarchyScroll").height()>300&&callbackFunction()}))},registerHierarchyRecordCount:function(){if($(".detailViewTitle .hierarchy").length){var params={module:app.getModuleName(),action:"RelationAjax",record:app.getRecordId(),mode:"getHierarchyCount"};AppConnector.request(params).done((function(response){response.success&&$(".detailViewTitle .hierarchy .badge").html(response.result)}))}},registerShowHierarchy:function(){var thisInstance=this,hierarchyButton=$(".detailViewTitle"),params={module:app.getModuleName(),view:"Hierarchy",record:app.getRecordId()};hierarchyButton.on("click",".js-detail__icon",(function(e){thisInstance.getHierarchyResponseData(params).done((function(data){thisInstance.displayHierarchyResponseData(data)}))}))},registerEvents:function(){this._super(),this.registerHierarchyRecordCount(),this.registerShowHierarchy()}});
//# sourceMappingURL=Detail.min.js.map
