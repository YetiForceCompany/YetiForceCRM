'use strict';

Vtiger_Edit_Js('Contacts_Edit_Js',{},{checkForPortalUser:function f(a){var b=jQuery('[name="portal"]',a),c=b.is(':checked'),d=jQuery('[name="email"]'),e=d.val();if(c){if(0==d.length)return Vtiger_Helper_Js.showPnotify(app.vtranslate('JS_PRIMARY_EMAIL_FIELD_DOES_NOT_EXISTS')),!1;if(''==e)return Vtiger_Helper_Js.showPnotify(app.vtranslate('JS_PLEASE_ENTER_PRIMARY_EMAIL_VALUE_TO_ENABLE_PORTAL_USER')),!1}return !0},registerRecordPreSaveEvent:function c(a){var b=this;'undefined'==typeof a&&(a=this.getForm()),a.on(Vtiger_Edit_Js.recordPreSave,function(c){var d=b.checkForPortalUser(a);d||c.preventDefault();});},registerBasicEvents:function b(a){this._super(a),this.registerRecordPreSaveEvent(a);}});
